(this.webpackJsonptoper=this.webpackJsonptoper||[]).push([[0],{665:function(e,t,n){},666:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(0),a=n.n(r),o=n(22),c=n.n(o),s=n(52),l=n(36),d=n(8),u=n.n(d),j=n(41),p=n(13),f=n(14),h=n(27),b=n(28),O=n(32),g=n(31),v=n(35),x=n(19);function m(){var e=Object(v.a)(["\n\n\t\tbackground-color: ",";\n\t\tbackground-size: 50px 50px;\n\t\n\t\tbackground-image: linear-gradient(\n\t\t\t\t0deg,\n\t\t\t\ttransparent 24%,\n\t\t\t\t"," 25%,\n\t\t\t\t"," 26%,\n\t\t\t\ttransparent 27%,\n\t\t\t\ttransparent 74%,\n\t\t\t\t"," 75%,\n\t\t\t\t"," 76%,\n\t\t\t\ttransparent 77%,\n\t\t\t\ttransparent\n\t\t\t),\n\t\t\tlinear-gradient(\n\t\t\t\t90deg,\n\t\t\t\ttransparent 24%,\n\t\t\t\t"," 25%,\n\t\t\t\t"," 26%,\n\t\t\t\ttransparent 27%,\n\t\t\t\ttransparent 74%,\n\t\t\t\t"," 75%,\n\t\t\t\t"," 76%,\n\t\t\t\ttransparent 77%,\n\t\t\t\ttransparent\n\t\t\t);\n\t"]);return m=function(){return e},e}function y(){var e=Object(v.a)(["\ndisplay : flex;\njustify-content: center;\nbackground-color: ",";\n\n\n"]);return y=function(){return e},e}var k=x.default.div(y(),(function(e){return e.background})),I=(x.default.div(m(),(function(e){return e.background}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color})),function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(i.jsx)(k,{id:"diagramcv",background:this.props.background||"rgb(60, 60, 60)",color:this.props.color||"rgba(255,255,255, 0.05)",children:this.props.children})}}]),n}(r.Component)),C=n(671),w=n(379),N=n(346),E=n.n(N),P=n(347),S=n.n(P),T=n(344),D=n.n(T),L=n(714),F=n(715),M=n(343),A=n.n(M),R=n(345),U=n.n(R),z=n(348),_=n.n(z),B=n(206),G=n.n(B),W=n(349),K=n.n(W),V=n(164),Z=n.n(V),J=n(342),q=n.n(J),Y=n(708),H=n(373),X=n(713),Q=n(341),$=n.n(Q),ee=function(e){var t=e.items,n=e.defaultMenuText,o=e.menuName,c=e.onSelectChange,s=Object(r.useState)(null),l=Object(p.a)(s,2),d=l[0],u=l[1],j=Object(r.useState)(""),f=Object(p.a)(j,2),h=f[0],b=f[1],O=function(e){u(null),e.selectOption&&b(e.text),null!==c&&void 0!==c&&c(e.id,e.text)};return Object(i.jsxs)(a.a.Fragment,{children:[Object(i.jsx)(Y.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)},endIcon:Object(i.jsx)($.a,{}),children:""===h?n:h}),Object(i.jsx)(H.a,{id:o,anchorEl:d,keepMounted:!0,elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:Boolean(d),onClose:O,children:t.map((function(e){return Object(i.jsx)(X.a,{onClick:function(){return O(e)},children:e.text},o+e.id)}))})]})},te=Object(C.a)((function(e){return Object(w.a)({root:{border:"1px solid ".concat(e.palette.divider),borderRadius:e.shape.borderRadius,backgroundColor:"#F1F1F1",color:e.palette.text.secondary,"& svg":{margin:e.spacing(1)},"& hr":{margin:e.spacing(0,.5)}}})})),ne=[{id:"100%zoom",text:"100%",selectOption:!0},{id:"75%zoom",text:"75%",selectOption:!0},{id:"50%zoom",text:"50%",selectOption:!0},{id:"resetview",text:"Reset View",selectOption:!1}],ie=function(e){var t=e.onSave,n=e.onLoad,r=e.onZoomIn,a=e.onZoomOut,o=e.onZoomFit,c=e.newTable,s=te();return Object(i.jsx)("div",{children:Object(i.jsxs)(L.a,{container:!0,alignItems:"center",className:s.root,children:[Object(i.jsx)(q.a,{onClick:c,style:{display:"block"}}),Object(i.jsx)(A.a,{}),Object(i.jsx)(D.a,{}),Object(i.jsx)(U.a,{}),Object(i.jsx)(F.a,{orientation:"vertical",flexItem:!0}),Object(i.jsx)(E.a,{}),Object(i.jsx)(S.a,{}),Object(i.jsx)(F.a,{orientation:"vertical",flexItem:!0}),Object(i.jsx)(ee,{items:ne,defaultMenuText:"100%",menuName:"zoomSelect"}),Object(i.jsx)(_.a,{onClick:r}),Object(i.jsx)(G.a,{onClick:a}),Object(i.jsx)(G.a,{onClick:o}),Object(i.jsx)(F.a,{orientation:"vertical",flexItem:!0}),Object(i.jsx)(K.a,{onClick:t}),Object(i.jsx)(Z.a,{onClick:n})]})})},re=n(717),ae=n(718),oe=n(719),ce=n(29),se=n(720),le=n(354),de=n.n(le),ue=n(352),je=n.n(ue),pe=n(721),fe=n(353),he=n.n(fe),be=n(746),Oe=n(18),ge=n(672),ve=n(711),xe=n(211),me=n(716),ye=n(712),ke=function(e){e.isOpen;var t=e.items,n=e.menuName,r=e.onClickMenu,o=a.a.useState(!1),c=Object(p.a)(o,2),s=c[0],l=c[1],d=a.a.useRef(null),u=function(e,t){d.current&&d.current.contains(e.target)||(l(!1),r(t))};return Object(i.jsxs)(a.a.Fragment,{children:[Object(i.jsx)("span",{style:{color:"white",textTransform:"capitalize",marginRight:25,cursor:"pointer"},ref:d,"aria-controls":s?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){l((function(e){return!e}))},children:n}),Object(i.jsx)(me.a,{open:s,anchorEl:d.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var r=e.TransitionProps,a=e.placement;return Object(i.jsx)(ve.a,Object(Oe.a)(Object(Oe.a)({},r),{},{style:{transformOrigin:"bottom"===a?"center top":"center bottom"},children:Object(i.jsx)(xe.a,{children:Object(i.jsx)(ge.a,{onClickAway:function(e){return u(e,"")},children:Object(i.jsx)(ye.a,{autoFocusItem:s,id:"menu-list-grow",children:t.map((function(e){return Object(i.jsx)(X.a,{onClick:function(t){return u(t,e.id)},children:e.text},n+e.id)}))})})})}))}})]})},Ie=[{id:"openmenu",text:"Open"},{id:"importmenu",text:"Import"},{id:"savemenu",text:"Save"},{id:"exportmenu",text:"Export"}],Ce=[{id:"lightmenu",text:"Light"},{id:"darkmenu",text:"Dark"}],we=[{id:"copymenu",text:"Copy"},{id:"cutmenu",text:"Cut"},{id:"deltemenu",text:"Delete"},{id:"duplicatemenu",text:"Duplicate"},{id:"undomenu",text:"Undo"},{id:"redomenu",text:"Redo"}],Ne=["CREATE TABLE","ALTER TABLE"];function Ee(e){Ne.forEach((function(t){e.indexOf(t)}))}var Pe=Object(C.a)((function(e){return Object(w.a)({root:{flexGrow:1},title:{flexGrow:1},menu:{marginRight:10},menuButton:{marginRight:e.spacing(2)}})})),Se=function(e){e.onExport;var t=e.onSave,n=Pe(),r=Object(ce.c)((function(e){return e.ShareReducer.isLoading}));function a(e){switch(alert(e),e){case"importmenu":!function(){var e=document.getElementById("fileimport");if(e&&document.createEvent){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!1),e.dispatchEvent(t)}}()}}return Object(i.jsx)(re.a,{position:"static",children:Object(i.jsxs)(ae.a,{variant:"dense",style:{backgroundColor:"#5661B3"},children:[Object(i.jsx)(be.a,{variant:"rounded",src:"/img/erlogo.svg",style:{width:25,height:25,backgroundColor:"orange",marginRight:20,cursor:"pointer"}}),Object(i.jsx)(ke,{isOpen:!1,items:Ie,menuName:"File",onClickMenu:a}),Object(i.jsx)(ke,{isOpen:!1,items:we,menuName:"Edit",onClickMenu:a}),Object(i.jsx)(ke,{isOpen:!1,items:[],menuName:"Setting",onClickMenu:a}),Object(i.jsx)(ke,{isOpen:!1,items:Ce,menuName:"Theme",onClickMenu:a}),Object(i.jsx)(ke,{isOpen:!1,items:[],menuName:"Help",onClickMenu:a}),Object(i.jsx)("span",{className:n.title}),Object(i.jsx)("input",{type:"file",id:"fileimport",style:{display:"none"},onChange:function(e){var t=e.target,n=new FileReader;n.onload=function(t){var i=n.result;null===i&&(i=""),function(e){for(var t=0;t<e.length;t++)Ee(e.substr(t,e.length-1))}(i),e.target.value=null},n.readAsText(t.files[0])}}),Object(i.jsx)(oe.a,{"aria-label":"show 17 new notifications",color:"inherit",children:Object(i.jsx)(se.a,{badgeContent:17,color:"secondary",children:Object(i.jsx)(je.a,{})})}),Object(i.jsx)(Y.a,{variant:"outlined",style:{marginLeft:15},color:"inherit",startIcon:r?Object(i.jsx)(pe.a,{style:{width:20,height:20},color:"inherit"}):Object(i.jsx)(he.a,{}),onClick:t,children:"Save"}),Object(i.jsx)(oe.a,{edge:"end","aria-label":"account of current user",color:"inherit",children:Object(i.jsx)(de.a,{})})]})})},Te=n(49),De=n.n(Te),Le=n(722),Fe=n(355),Me=n.n(Fe),Ae=n(742);function Re(){var e=Object(v.a)(['\nwidth : 70%;\nbackground-color: "white";\nmargin : 15px;\nfont-size : 20px;\n\n']);return Re=function(){return e},e}function Ue(){var e=Object(v.a)(["\n\ncolor : white;\nfont-size : 15px;\nmargin : 8px;\n\n"]);return Ue=function(){return e},e}function ze(){var e=Object(v.a)(["\n\ncolor : white;\n\npadding : 15px;\nmargin-bottom : 10px;\n"]);return ze=function(){return e},e}function _e(){var e=Object(v.a)(["\nwidth : 30%;\nheight: 100vh;\ncolor : white;\nfont-size : 20px;\nbackground-color: #005AA0;\n"]);return _e=function(){return e},e}var Be,Ge=x.default.div(_e()),We=x.default.div(ze()),Ke=x.default.div(Ue()),Ve=x.default.div(Re()),Ze=function(e){var t=e.code,n=e.fileName,r=e.isRender,a=e.onDownloadClick,o=e.onInputChange;return r?Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Export sql"}),Object(i.jsx)(Ae.a,{label:"file name",variant:"filled",value:n,onChange:o}),Object(i.jsx)(Ae.a,{label:"Filled",variant:"filled",multiline:!0,rowsMax:20,style:{marginTop:20,width:"100%",height:400},value:t}),Object(i.jsx)(Y.a,{variant:"outlined",color:"primary",style:{marginRight:10},children:"Copy"}),Object(i.jsx)(Y.a,{variant:"contained",color:"primary",onClick:a,children:"Download"})]}):Object(i.jsx)("div",{})},Je=function(e){var t=e.fileName,n=e.isRender,r=(e.imageType,e.onDownloadClick),a=e.onInputChange;return n?Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Export Image"}),Object(i.jsx)(Ae.a,{label:"file name",variant:"filled",value:t,onChange:a}),Object(i.jsx)(Y.a,{variant:"contained",color:"primary",onClick:r,children:"Download"})]}):Object(i.jsx)("div",{})};!function(e){e[e.Image=0]="Image",e[e.MySql=1]="MySql",e[e.SqlServer=2]="SqlServer",e[e.Postresql=3]="Postresql",e[e.Laravel=4]="Laravel"}(Be||(Be={}));var qe=function(e){var t=e.isOpen,n=e.onclose,a=e.exportPng,o=e.exportSql,c=e.exportTest,s=e.fileName,l=Object(r.useState)(Be.Image),d=Object(p.a)(l,2),u=d[0],j=d[1],f=Object(r.useState)(""),h=Object(p.a)(f,2),b=h[0],O=h[1];Object(r.useEffect)((function(){!1===t&&O(s)}),[s]);var g=function(e){return O(e.target.value)};return Object(i.jsx)(Le.a,{anchor:"right",open:t,style:{width:400},onClose:n,children:Object(i.jsxs)("div",{style:{width:500,display:"flex"},role:"presentation",className:"",children:[Object(i.jsxs)(Ge,{children:[Object(i.jsx)(oe.a,{color:"inherit",size:"medium",children:Object(i.jsx)(Me.a,{})}),Object(i.jsxs)(We,{children:[Object(i.jsx)(Ke,{onClick:function(){return j(Be.MySql)},children:"Sql"}),Object(i.jsx)(Ke,{onClick:function(){return j(Be.Image)},children:"Image"}),Object(i.jsx)(Ke,{onClick:function(){return c("filename test")},children:"Pdf"}),Object(i.jsx)(F.a,{style:{marginTop:10,color:"white"},light:!0}),Object(i.jsx)(Ke,{children:"Laravel"}),Object(i.jsx)(Ke,{children:"Golang Gin"})]})]}),Object(i.jsxs)(Ve,{children:[Object(i.jsx)(Ze,{isRender:u==Be.MySql,onInputChange:g,code:"",fileName:b,onDownloadClick:function(){o(b+".sql")}}),Object(i.jsx)(Je,{isRender:u==Be.Image,onInputChange:g,imageType:"png",fileName:b,onDownloadClick:function(){a(b+".png")}})]})]})})},Ye=n(17),He=function(e){var t=e.size,n=void 0===t?16:t,r=e.color,a=void 0===r?"gray":r;return Object(i.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",children:[Object(i.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),Object(i.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})},Xe=function(e){var t=e.size,n=void 0===t?16:t,r=e.color,a=void 0===r?"gray":r;return Object(i.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",children:[Object(i.jsx)("circle",{cx:"6",cy:"6",r:"3"}),Object(i.jsx)("circle",{cx:"6",cy:"18",r:"3"}),Object(i.jsx)("line",{x1:"20",y1:"4",x2:"8.12",y2:"15.88"}),Object(i.jsx)("line",{x1:"14.47",y1:"14.48",x2:"20",y2:"20"}),Object(i.jsx)("line",{x1:"8.12",y1:"8.12",x2:"12",y2:"12"})]})},Qe=function(e){var t=e.size,n=void 0===t?16:t,r=e.color,a=void 0===r?"gray":r;return Object(i.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",children:[Object(i.jsx)("polyline",{points:"3 6 5 6 21 6"}),Object(i.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),Object(i.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(i.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})},$e=function(e){var t=e.size,n=void 0===t?16:t,r=e.color,a=void 0===r?"gray":r;return Object(i.jsx)("svg",{width:n,height:18*n/24,viewBox:"0 0 24 18",fill:"none",stroke:"none",strokeWidth:"2",children:Object(i.jsx)("g",{transform:"translate(-678.000000, -2727.000000)",children:Object(i.jsx)("g",{transform:"translate(100.000000, 2626.000000)",children:Object(i.jsx)("g",{transform:"translate(578.000000, 98.000000)",children:Object(i.jsxs)("g",{transform:"translate(0.000000, 0.000000)",children:[Object(i.jsx)("polygon",{points:"0 0 24 0 24 24 0 24"}),Object(i.jsx)("path",{d:"M15,8 C14.45,8 14,8.45 14,9 L14,11 L12,11 C11.45,11 11,11.45 11,12 C11,12.55 11.45,13 12,13 L14,13 L14,15 C14,15.55 14.45,16 15,16 C15.55,16 16,15.55 16,15 L16,13 L18,13 C18.55,13 19,12.55 19,12 C19,11.45 18.55,11 18,11 L16,11 L16,9 C16,8.45 15.55,8 15,8 Z M2,12 C2,9.42 3.4,7.17 5.48,5.96 C5.8,5.77 6.01,5.45 6.01,5.08 C6.01,4.31 5.17,3.83 4.5,4.22 C1.82,5.78 0,8.68 0,12 C0,15.32 1.82,18.22 4.5,19.78 C5.17,20.17 6.01,19.69 6.01,18.92 C6.01,18.55 5.8,18.23 5.48,18.04 C3.4,16.83 2,14.58 2,12 Z M15,3 C10.04,3 6,7.04 6,12 C6,16.96 10.04,21 15,21 C19.96,21 24,16.96 24,12 C24,7.04 19.96,3 15,3 Z M15,19 C11.14,19 8,15.86 8,12 C8,8.14 11.14,5 15,5 C18.86,5 22,8.14 22,12 C22,15.86 18.86,19 15,19 Z",fill:a})]})})})})})},et=function(e){var t=e.size,n=void 0===t?16:t,r=e.color,a=void 0===r?"gray":r;return Object(i.jsx)("svg",{width:n,height:n,fill:a,viewBox:"0 0 512.001 512.001",children:Object(i.jsx)("g",{children:Object(i.jsx)("g",{children:Object(i.jsxs)("g",{children:[Object(i.jsx)("path",{d:"M481,371c11.046,0,20-8.954,20-20v-92c0-33.084-26.916-60-60-60h-39v-79c0-44.112-35.888-80-80-80h-47.533 c-7.739-23.749-29.864-40-55.16-40h-25.614c-25.296,0-47.421,16.251-55.16,40H91c-44.112,0-80,35.888-80,80v312 c0,44.112,35.888,80,80,80h88c11.046,0,20-8.954,20-20c0-11.046-8.954-20-20-20H91c-22.056,0-40-17.944-40-40V120 c0-22.056,17.944-40,40-40h2v59c0,11.046,8.954,20,20,20h189c11.046,0,20-8.954,20-20V80c22.056,0,40,17.944,40,40v79h-65.007 C263.914,199,237,225.913,237,258.993v193.015c0,33.08,26.916,59.993,60.01,59.993L441,511.926c33.084,0,60-26.913,60-59.992 c0-11.046-8.954-20-20-20c-11.046,0-20,8.954-20,20c0,11.024-8.972,19.992-20.01,19.992L297,472c-11.028,0-20-8.969-20-19.993 V258.993c0-11.024,8.969-19.993,19.993-19.993H441c11.028,0,20,8.972,20,20v92C461,362.046,469.955,371,481,371z M282,119H133V80 h21c9.177,0,17.177-6.246,19.403-15.149l2.798-11.194C178.211,45.616,185.404,40,193.693,40h25.614 c8.289,0,15.481,5.616,17.492,13.657l2.798,11.194C241.823,73.754,249.823,80,259,80h23V119z"}),Object(i.jsx)("path",{d:"M401,279h-64c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h64c11.046,0,20-8.954,20-20 C421,287.954,412.047,279,401,279z"}),Object(i.jsx)("path",{d:"M401,349h-64c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h64c11.046,0,20-8.954,20-20 C421,357.954,412.047,349,401,349z"})]})})})})},tt=function(e){var t=e.size,n=void 0===t?16:t,r=e.color,a=void 0===r?"gray":r;return Object(i.jsx)("svg",{width:n,height:n,viewBox:"0 0 512 512",fill:a,children:Object(i.jsx)("path",{d:"m431 481c0 11.046-8.954 20-20 20h-66c-11.046 0-20-8.954-20-20s8.954-20 20-20h66c11.046 0 20 8.954 20 20zm63.358-352.994-112.284-111.215c-7.848-7.773-20.511-7.713-28.284.135s-7.712 20.511.135 28.284l106.808 105.79h-285.733c-96.495 0-175 78.505-175 175s78.505 175 175 175h69c11.046 0 20-8.954 20-20s-8.954-20-20-20h-69c-74.439 0-135-60.561-135-135s60.561-135 135-135h284.836l-105.037 105.917c-7.778 7.843-7.725 20.506.118 28.284 3.9 3.868 8.992 5.799 14.083 5.799 5.146 0 10.292-1.975 14.202-5.917l111.225-112.157c11.332-11.332 17.573-26.4 17.573-42.426s-6.241-31.094-17.642-42.494z"})})},nt=function(e){var t=e.size,n=void 0===t?16:t,r=e.color,a=void 0===r?"gray":r;return Object(i.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",children:[Object(i.jsx)("circle",{cx:"12",cy:"12",r:"3"}),Object(i.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})},it=function(e){var t=e.size,n=void 0===t?16:t,r=e.color,a=void 0===r?"gray":r;return Object(i.jsx)("svg",{width:n,height:n,viewBox:"0 0 512 512",fill:a,children:Object(i.jsx)("path",{d:"m 81,481 c 0,11.046 8.954,20 20,20 h 66 c 11.046,0 20,-8.954 20,-20 0,-11.046 -8.954,-20 -20,-20 h -66 c -11.046,0 -20,8.954 -20,20 z M 17.642,128.006 129.926,16.791 c 7.848,-7.773 20.511,-7.713 28.284,0.135 7.773,7.848 7.712,20.511 -0.135,28.284 L 51.267,151 H 337 c 96.495,0 175,78.505 175,175 0,96.495 -78.505,175 -175,175 h -69 c -11.046,0 -20,-8.954 -20,-20 0,-11.046 8.954,-20 20,-20 h 69 c 74.439,0 135,-60.561 135,-135 0,-74.439 -60.561,-135 -135,-135 H 52.164 l 105.037,105.917 c 7.778,7.843 7.725,20.506 -0.118,28.284 -3.9,3.868 -8.992,5.799 -14.083,5.799 -5.146,0 -10.292,-1.975 -14.202,-5.917 L 17.573,212.926 C 6.241,201.594 0,186.526 0,170.5 0,154.474 6.241,139.406 17.642,128.006 Z"})})},rt=function(e){var t=e.size,n=void 0===t?16:t,r=e.color,a=void 0===r?"gray":r;return Object(i.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",children:[Object(i.jsx)("circle",{cx:"11",cy:"11",r:"8"}),Object(i.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),Object(i.jsx)("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),Object(i.jsx)("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]})},at=function(e){var t=e.size,n=void 0===t?16:t,r=e.color,a=void 0===r?"gray":r;return Object(i.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",children:[Object(i.jsx)("circle",{cx:"11",cy:"11",r:"8"}),Object(i.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),Object(i.jsx)("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]})};function ot(){var e=Object(v.a)(["\n  display: inline-flex;\n  align-items: center;\n  height: ","px;\n  padding: 0 ","px;\n  margin: 2px ","px;\n  font-size: ","px;\n  font-family: monospace;\n  color: #000000c4;\n  background: #ececec;\n  border-radius: 4px;\n  border: 1px solid #ffffff17;\n  box-shadow: inset 0 0 ","px #0000000a;\n"]);return ot=function(){return e},e}var ct=x.default.span(ot(),(function(e){return e.size}),(function(e){return e.size/4}),(function(e){return e.size/8}),(function(e){return e.size/2}),(function(e){return e.size/4})),st=function(e){var t=e.children,n=e.size,r=void 0===n?16:n;return Object(i.jsx)(ct,{size:r,children:t})};function lt(){var e=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  width: 16px;\n  height: 16px;\n  margin-right: 16px;\n"]);return lt=function(){return e},e}var dt=x.default.div(lt());function ut(){var e=Object(v.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: flex-end;\n  margin-left: 8px;\n"]);return ut=function(){return e},e}var jt=x.default.div(ut()),pt=function(e){var t=e.copyFunc,n=e.pasteFunc,r=e.deleteFunc,a=e.duplicateFunc,o=e.cutFunc,c=e.zoomIn,s=e.zoomOut;return Object(i.jsxs)(Ye.Menu,{id:"component",children:[Object(i.jsxs)(Ye.Item,{onClick:a,children:[Object(i.jsx)(dt,{children:Object(i.jsx)($e,{})}),"Duplicate",Object(i.jsxs)(jt,{children:[Object(i.jsx)(st,{children:"CTRL"}),Object(i.jsx)(st,{children:"D"})]})]}),Object(i.jsxs)(Ye.Item,{onClick:o,children:[Object(i.jsx)(dt,{children:Object(i.jsx)(Xe,{})}),"Cut",Object(i.jsxs)(jt,{children:[Object(i.jsx)(st,{children:"CTRL"}),Object(i.jsx)(st,{children:"X"})]})]}),Object(i.jsxs)(Ye.Item,{onClick:t,children:[Object(i.jsx)(dt,{children:Object(i.jsx)(He,{})}),"Copy",Object(i.jsxs)(jt,{children:[Object(i.jsx)(st,{children:"CTRL"}),Object(i.jsx)(st,{children:"C"})]})]}),Object(i.jsxs)(Ye.Item,{onClick:n,children:[Object(i.jsx)(dt,{children:Object(i.jsx)(et,{})}),"Paste",Object(i.jsxs)(jt,{children:[Object(i.jsx)(st,{children:"CTRL"}),Object(i.jsx)(st,{children:"V"})]})]}),Object(i.jsxs)(Ye.Item,{onClick:r,children:[Object(i.jsx)(dt,{children:Object(i.jsx)(Qe,{})}),"Delete",Object(i.jsx)(jt,{children:Object(i.jsx)(st,{children:"Delete"})})]}),Object(i.jsx)(Ye.Separator,{}),Object(i.jsxs)(Ye.Item,{onClick:c,children:[Object(i.jsx)(dt,{children:Object(i.jsx)(rt,{})}),"Zoom in"]}),Object(i.jsxs)(Ye.Item,{onClick:s,children:[Object(i.jsx)(dt,{children:Object(i.jsx)(at,{})}),"Zoom out"]}),Object(i.jsx)(Ye.Separator,{}),Object(i.jsxs)(Ye.Item,{onClick:n,children:[Object(i.jsx)(dt,{children:Object(i.jsx)(it,{})}),"Undo",Object(i.jsxs)(jt,{children:[Object(i.jsx)(st,{children:"CTRL"}),Object(i.jsx)(st,{children:"Z"})]})]}),Object(i.jsxs)(Ye.Item,{onClick:n,children:[Object(i.jsx)(dt,{children:Object(i.jsx)(tt,{})}),"Redo",Object(i.jsxs)(jt,{children:[Object(i.jsx)(st,{children:"CTRL"}),Object(i.jsx)(st,{children:"SHIFT"}),Object(i.jsx)(st,{children:"Z"})]})]}),Object(i.jsx)(Ye.Separator,{}),Object(i.jsxs)(Ye.Item,{children:[Object(i.jsx)(dt,{children:Object(i.jsx)(nt,{})}),"Edit configurations...",Object(i.jsxs)(jt,{children:[Object(i.jsx)(st,{children:"CTRL"}),Object(i.jsx)(st,{children:"E"})]})]})]})},ft=function(e){var t=e.zoomIn,n=e.zoomOut,r=e.pasteFunc,a=e.redoFunc,o=e.undoFunc;return Object(i.jsxs)(Ye.Menu,{id:"diagram",children:[Object(i.jsxs)(Ye.Item,{onClick:r,children:[Object(i.jsx)(dt,{children:Object(i.jsx)(et,{})}),"Paste",Object(i.jsxs)(jt,{children:[Object(i.jsx)(st,{children:"CTRL"}),Object(i.jsx)(st,{children:"V"})]})]}),Object(i.jsx)(Ye.Separator,{}),Object(i.jsxs)(Ye.Item,{onClick:t,children:[Object(i.jsx)(dt,{children:Object(i.jsx)(rt,{})}),"Zoom in"]}),Object(i.jsxs)(Ye.Item,{onClick:n,children:[Object(i.jsx)(dt,{children:Object(i.jsx)(at,{})}),"Zoom out"]}),Object(i.jsx)(Ye.Separator,{}),Object(i.jsxs)(Ye.Item,{onClick:o,children:[Object(i.jsx)(dt,{children:Object(i.jsx)(it,{})}),"Undo",Object(i.jsxs)(jt,{children:[Object(i.jsx)(st,{children:"CTRL"}),Object(i.jsx)(st,{children:"Z"})]})]}),Object(i.jsxs)(Ye.Item,{onClick:a,children:[Object(i.jsx)(dt,{children:Object(i.jsx)(tt,{})}),"Redo",Object(i.jsxs)(jt,{children:[Object(i.jsx)(st,{children:"CTRL"}),Object(i.jsx)(st,{children:"SHIFT"}),Object(i.jsx)(st,{children:"Z"})]})]})]})},ht=(n(645),function(e){var t=e.copyFunc,n=e.deleteFunc,r=e.duplicateFunc,a=e.cutFunc,o=e.pasteFunc,c=e.zoomIn,s=e.zoomOut;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(ft,{pasteFunc:o,zoomIn:c,zoomOut:s}),Object(i.jsx)(pt,{copyFunc:t,pasteFunc:o,deleteFunc:n,duplicateFunc:r,cutFunc:a,zoomIn:c,zoomOut:s})]})}),bt=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,{type:f.InputType.KEY_DOWN,fire:function(e){var t=e.event;console.log(JSON.stringify(t)),i.engine.getModel().isLocked()||i.matchesInput(t)&&(t.preventDefault(),i.handleAction())}})).handleAction=function(){console.log("delete"),i.engine.getModel().getSelectedEntities().filter((function(e){return!e.isLocked()})).forEach((function(e){return e.remove()})),i.engine.repaintCanvas()},i}return Object(b.a)(n,[{key:"matchesInput",value:function(e){return e.ctrlKey&&"Delete"===e.code}}]),n}(f.Action),Ot=n(113),gt=n(68),vt=n(21),xt=n(44),mt=n(71),yt=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(h.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).RefInPort=!1,e}return Object(b.a)(n,[{key:"setLabels",value:function(e){alert("set label"),this.labels=e}}]),n}(Te.DefaultLinkModel),kt=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"createLinkModel",value:function(){return new yt}}]),n}(mt.DefaultPortModel),It=n(744),Ct=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return Object(h.a)(this,n),"string"===typeof i&&(i={name:i,color:r}),(e=t.call(this,Object(Oe.a)({type:"default",name:"Untitled",color:"rgb(0,192,255)"},i))).portsIn=void 0,e.portsOut=void 0,e.fieldOptions=void 0,e.portsOut=[],e.portsIn=[],e.fieldOptions=[],e}return Object(b.a)(n,[{key:"performanceTune",value:function(){return!1}},{key:"doClone",value:function(e,t){console.log("original id : "+this.getID()),t.portsIn=[],t.portsOut=[],Object(Ot.a)(Object(gt.a)(n.prototype),"doClone",this).call(this,e,t);for(var i=0;i<t.portsIn.length;i++)t.fieldOptions[i].portId=t.portsIn[i].getID()}},{key:"removeFieldbyId",value:function(e){var t=this.portsIn.findIndex((function(t){return t.getID()==e})),n=this.fieldOptions.findIndex((function(t){return t.portId==e}));-1!==t&&(-1!==n&&this.fieldOptions.splice(n,1),this.removeField(t))}},{key:"removePort",value:function(e){Object(Ot.a)(Object(gt.a)(n.prototype),"removePort",this).call(this,e),e.getOptions().in?this.portsIn.splice(this.portsIn.indexOf(e),1):this.portsOut.splice(this.portsOut.indexOf(e),1)}},{key:"updateNode",value:function(e){for(var t=e.fields,n=this.getAllField(),i=0;i<t.length;i++)n[i].fieldName!==t[i].fieldName&&(this.portsIn[i].getOptions().label=t[i].fieldName),n[i].fieldType!==t[i].fieldType&&(this.portsOut[i].getOptions().label=t[i].fieldType)}},{key:"addField",value:function(e){var t=this.addInPort(e.fieldName),n=this.addOutPort(e.fieldType),i={portId:t.getID(),ai:!1,pk:!1,fk:!1,fkTb:"",fkField:""};return this.fieldOptions.push(i),[t,n]}},{key:"removeField",value:function(e){this.removePort(this.portsIn[e]),this.removePort(this.portsOut[e])}},{key:"AddNewField",value:function(){this.addField({fieldName:"test",fieldType:"int"})}},{key:"addOrUpdateFieldOption",value:function(e){var t=this.fieldOptions.findIndex((function(t){return t.portId===e.inId}));if(-1!==t&&void 0!==e.fieldOption){this.fieldOptions[t]=e.fieldOption,console.log(e.fieldOption);var n=e.fieldOption;if(void 0!=n)void 0===n.fkTb||n.fkTb,void 0===n.fkField||n.fkField,void 0===e.inId||e.inId}}},{key:"linkForeignKey",value:function(e,t,n){console.log("main field "+t.getOptions().label+" link with : "+e.getOptions().label);var i=e.link(t);return e.reportPosition(),t.reportPosition(),i}},{key:"getAllField",value:function(){for(var e=this.portsIn,t=(this.portsOut,[]),n=0;n<e.length;n++){var i=this.getField(n);t.push(i)}return t}},{key:"getField",value:function(e){var t=this.portsIn[e].getOptions().label,n=this.portsOut[e].getOptions().label,i=this.portsIn[e].getID(),r=this.fieldOptions.findIndex((function(e){return e.portId===i}));if(-1===r){return{inId:"",outId:"",fieldName:"",fieldType:""}}var a=this.fieldOptions[r];return void 0===t&&(t=""),void 0===n&&(n=""),{inId:this.portsIn[e].getID(),outId:this.portsOut[e].getID(),fieldName:t,fieldType:n,fieldOption:a}}},{key:"updatePort",value:function(e,t){}},{key:"addPort",value:function(e){return Object(Ot.a)(Object(gt.a)(n.prototype),"addPort",this).call(this,e),e.getOptions().in?-1===this.portsIn.indexOf(e)&&this.portsIn.push(e):-1===this.portsOut.indexOf(e)&&this.portsOut.push(e),e}},{key:"mirrorPort",value:function(e){var t=(e.getOptions().in?this.getInPorts():this.getOutPorts()).findIndex((function(t){return t.getID()===e.getID()}));if(console.log(t),-1!==t)return e.getOptions().in?this.getOutPorts()[t]:this.getInPorts()[t]}},{key:"portInIdtoPortOut",value:function(e){var t=this.getInPorts().findIndex((function(t){return t.getID()===e}));return this.getPortOutByIndex(t)}},{key:"getPortInByIndex",value:function(e){return this.portsIn[e]}},{key:"getPortOutByIndex",value:function(e){return this.portsOut[e]}},{key:"setNodeOption",value:function(e){var t=this.getPortFromID(e).getOptions().in;if(void 0!==t){var n=-1;if(t||-1!==(n=this.portsOut.findIndex((function(t){return t.getID()===e})))){var i=t?e:this.getPortInByIndex(n).getID(),r=this.fieldOptions.findIndex((function(e){return e.portId===i}));-1!==r&&(this.fieldOptions[r].fk=!0)}}}},{key:"addInPort",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(It.a)(),i=new kt({in:!0,name:n,label:e,alignment:xt.PortModelAlignment.LEFT});return t||this.portsIn.splice(0,0,i),this.addPort(i)}},{key:"addOutPort",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(It.a)(),i=new kt({in:!1,name:n,label:e,alignment:xt.PortModelAlignment.RIGHT});return t||this.portsOut.splice(0,0,i),this.addPort(i)}},{key:"getOutIdFromInId",value:function(e){var t=this.getInPorts().findIndex((function(t){return t.getID()===e}));return-1===t?"":this.getOutPorts()[t].getID()}},{key:"getInIdFromOutId",value:function(e){var t=this.getOutPorts().findIndex((function(t){return t.getID()===e}));return-1===t?"":this.getInPorts()[t].getID()}},{key:"deserialize",value:function(e){var t=this;Object(Ot.a)(Object(gt.a)(n.prototype),"deserialize",this).call(this,e),this.options.name=e.data.name,this.options.color=e.data.color,this.fieldOptions=e.data.fields,console.log(this.fieldOptions),this.portsIn=vt.map(e.data.portsInOrder,(function(e){return t.getPortFromID(e)})),this.portsOut=vt.map(e.data.portsOutOrder,(function(e){return t.getPortFromID(e)}))}},{key:"serialize",value:function(){for(var e=this,t=[],i=function(n){var i=e.fieldOptions.findIndex((function(t){return t.portId===e.portsIn[n].getID()}));if(-1===i)return"continue";t.push({portId:e.portsIn[n].getID(),ai:e.fieldOptions[i].ai,pk:e.fieldOptions[i].pk,fk:e.fieldOptions[i].fk})},r=0;r<this.portsIn.length;r++)i(r);return Object(Oe.a)(Object(Oe.a)({},Object(Ot.a)(Object(gt.a)(n.prototype),"serialize",this).call(this)),{},{name:this.options.name,color:this.options.color,fields:t,portsInOrder:vt.map(this.portsIn,(function(e){return e.getID()})),portsOutOrder:vt.map(this.portsOut,(function(e){return e.getID()}))})}},{key:"toJson",value:function(){for(var e=this,t=[],n=function(n){var i=e.fieldOptions.findIndex((function(t){return t.portId===e.portsIn[n].getID()}));if(-1===i)return"continue";var r={fieldName:e.portsIn[n].getOptions().label,fieldType:e.portsOut[n].getOptions().label,fieldOption:e.fieldOptions[i]};t.push(r)},i=0;i<this.portsIn.length;i++)n(i);return{name:this.options.name,color:this.options.color,fields:t}}},{key:"getInPorts",value:function(){return this.portsIn}},{key:"getOutPorts",value:function(){return this.portsOut}}]),n}(xt.NodeModel),wt=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,{type:f.InputType.KEY_DOWN,fire:function(t){var n=t.event;e&&(i.engine.getModel().isLocked()||i.matchesInput(n)&&(n.preventDefault(),i.handleAction()))}})).handleAction=function(){var e=new Ct({name:"Product",color:"rgb(0,192,255)"});e.addField({fieldName:"Id",fieldType:"int"}),e.setPosition(100,100),i.engine.getModel().addAll(e),i.engine.repaintCanvas()},i}return Object(b.a)(n,[{key:"matchesInput",value:function(e){return e.ctrlKey&&"KeyB"===e.code}}]),n}(f.Action),Nt=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,{type:f.InputType.KEY_DOWN,fire:function(t){var n=t.event;e&&(i.engine.getModel().isLocked()||i.matchesInput(n)&&(n.preventDefault(),i.handleAction()))}})).handleAction=function(){var e=i.engine.getModel(),t=e.getSelectedEntities().filter((function(e){return e instanceof f.BaseModel})).filter((function(e){return!e.isLocked()})).map((function(e){return e.clone()}));e.clearSelection(),t.forEach((function(t){t instanceof Te.NodeModel&&(e.addNode(t),t.setSelected(!0))})),i.engine.repaintCanvas()},i}return Object(b.a)(n,[{key:"matchesInput",value:function(e){return e.ctrlKey&&"KeyD"===e.code}}]),n}(f.Action),Et=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,{type:f.InputType.KEY_DOWN,fire:function(t){var n=t.event;if(e&&!i.engine.getModel().isLocked()&&i.matchesInput(n)){n.preventDefault();var r=n;"KeyX"===r.code&&i.handleCut(),"KeyC"===r.code&&i.handleCopy(),"KeyV"===r.code&&i.handlePaste()}}})).getSelectedComponents=function(){return i.engine.getModel().getSelectedEntities().filter((function(e){return e instanceof Ct})).filter((function(e){return!e.isLocked()}))},i}return Object(b.a)(n,[{key:"matchesInput",value:function(e){return e.ctrlKey&&("KeyX"===e.code||"KeyC"===e.code||"KeyV"===e.code)}},{key:"handleCut",value:function(){var e=this.getSelectedComponents(),t=e[0].clone().serialize();localStorage.setItem("clipboard",JSON.stringify(t)),e.forEach((function(e){return e.remove()})),this.engine.repaintCanvas()}},{key:"handleCopy",value:function(){var e=this.getSelectedComponents()[0].clone().serialize();console.log(e),localStorage.setItem("clipboard",JSON.stringify(e))}},{key:"onPromise",value:function(e){return new Promise((function(e,t){e(new Ct)}))}},{key:"handlePaste",value:function(){var e=localStorage.getItem("clipboard");null==e&&(e="");var t=JSON.parse(e);if(t){console.log(t);var n=new Ct,i={data:t,engine:this.engine,registerModel:function(){}};n.deserialize(i),n.setPosition(100,100),console.log(n),this.engine.getModel().addAll(n),this.engine.repaintCanvas()}}}]),n}(f.Action);function Pt(){var e=Object(v.a)(["\n\t\twidth: 16px;\n\t\theight: 21px;\n\t\tbackground: rgba(255, 255, 244, 0.1);\n\t\t&:hover {\n\t\t\tbackground: rgb(192, 255, 0);\n\t\t}\n\t"]);return Pt=function(){return e},e}function St(){var e=Object(v.a)(["\n\t\tpadding: 0 5px;\n\t\tflex-grow: 1;\n\t"]);return St=function(){return e},e}function Tt(){var e=Object(v.a)(["\n\t\tdisplay: flex;\n\t\tmargin-top: 1px;\n\t\talign-items: center;\n\t\t&:hover {\n\t\t\tbackground: rgb(192, 255, 0);\n\t\t}\n\t"]);return Tt=function(){return e},e}var Dt=x.default.div(Tt()),Lt=x.default.div(St()),Ft=x.default.div(Pt()),Mt=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=Object(i.jsx)(xt.PortWidget,{engine:this.props.engine,port:this.props.port,children:Object(i.jsx)(Ft,{})}),t=Object(i.jsx)(Lt,{children:this.props.port.getOptions().label});return Object(i.jsx)(Ye.MenuProvider,{id:"nodeedit",storeRef:!1,children:Object(i.jsxs)(Dt,{children:[this.props.port.getOptions().in?e:t,this.props.port.getOptions().in?t:e]})})}}]),n}(r.Component),At=n(109),Rt=n.n(At);function Ut(){var e=Object(v.a)(["\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\t&:first-of-type {\n\t\t\tmargin-right: 10px;\n\t\t}\n\t\t&:only-child {\n\t\t\tmargin-right: 0px;\n\t\t}\n\t"]);return Ut=function(){return e},e}function zt(){var e=Object(v.a)(["\n\t\tdisplay: flex;\n\t\tcolor : #5E666E;\n\t\tfont-weight: 600;\n\t\tbackground-color: white;\n\t"]);return zt=function(){return e},e}function _t(){var e=Object(v.a)(["\n\t\tmargin-left : 10px;\n\t\tflex-grow: 1;\n\t\tpadding: 10px 5px;\n\t"]);return _t=function(){return e},e}function Bt(){var e=Object(v.a)(["\n\t\tbackground-color: #005AA0;\n\t\tdisplay: flex;\n\t\tfont-weight: 600;\n\t\twhite-space: nowrap;\n\t\tjustify-items: center;\n\t"]);return Bt=function(){return e},e}function Gt(){var e=Object(v.a)(["\n\t\n\t\n\n\t\tborder-style: solid;\n\n\t\tborder-color : grey;\n\n\t\tborder-width: thin;\n\n\t\tcolor: white;\n\t\t\n\t\toverflow: visible;\n\t\tfont-size: 13px;\n\t\t\n\t"]);return Gt=function(){return e},e}var Wt=x.default.div(Gt()),Kt=x.default.div(Bt()),Vt=x.default.div(_t()),Zt=x.default.div(zt()),Jt=x.default.div(Ut()),qt=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).generatePort=function(t){return Object(i.jsx)(Mt,{engine:e.props.engine,port:t},t.getID())},e}return Object(b.a)(n,[{key:"fireAction",value:function(e){this.props.engine.getActionEventBus().fireAction({event:Object(Oe.a)(Object(Oe.a)({},e),{},{key:"",preventDefault:function(){},stopPropagation:function(){}})})}},{key:"fireDeleteEvent",value:function(e){this.fireAction({type:"keydown",ctrlKey:!0,code:"Delete"})}},{key:"fireDoubleClick",value:function(e){console.log("double click"),void 0!=e?e.fireEvent({},"onDoubleClick"):console.log("unid")}},{key:"render",value:function(){var e=this;return Object(i.jsxs)(Wt,{"data-default-node-name":this.props.node.getOptions().name,selected:this.props.node.isSelected(),background:this.props.node.getOptions().color,onDoubleClick:function(){return e.fireDoubleClick(e.props.engine)},children:[Object(i.jsxs)(Kt,{children:[Object(i.jsx)(Vt,{children:this.props.node.getOptions().name}),Object(i.jsx)(oe.a,{onClick:function(){return e.fireDeleteEvent(e.props.engine)},color:"inherit",size:"small",children:Object(i.jsx)(Rt.a,{})})]}),Object(i.jsxs)(Zt,{children:[Object(i.jsx)(Jt,{children:vt.map(this.props.node.getInPorts(),this.generatePort)}),Object(i.jsx)(Jt,{children:vt.map(this.props.node.getOutPorts(),this.generatePort)})]})]})}}]),n}(r.Component),Yt=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){return Object(h.a)(this,n),t.call(this,"default")}return Object(b.a)(n,[{key:"generateReactWidget",value:function(e){return Object(i.jsx)(Ye.MenuProvider,{id:"component",storeRef:!1,data:e.model,children:Object(i.jsx)(qt,{engine:this.engine,node:e.model})})}},{key:"generateModel",value:function(e){return new Ct("Node 2","rgb(192,255,0)")}}]),n}(f.AbstractReactFactory),Ht=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){return Object(h.a)(this,n),t.call(this,"default")}return Object(b.a)(n,[{key:"generateModel",value:function(){return new kt({name:"unknown"})}}]),n}(f.AbstractModelFactory);function Xt(){var e=De()({registerDefaultDeleteItemsAction:!1});e.getNodeFactories().registerFactory(new Yt),e.getPortFactories().registerFactory(new Ht);var t=new Te.DiagramModel;return e.setModel(t),e}Xt();var Qt=[{id:"",tablename:"Product",fields:[{inId:"",outId:"",fieldName:"Id",fieldType:"int",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"ProductName",fieldType:"varchar",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"ProductPrice",fieldType:"int",fieldOption:{ai:!1,portId:"",pk:!1}}]},{id:"",tablename:"Image",fields:[{inId:"",outId:"",fieldName:"Id",fieldType:"int",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"ProductId",fieldType:"int",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"Url",fieldType:"varchar",fieldOption:{ai:!1,portId:"",pk:!1}}]},{id:"",tablename:"User",fields:[{inId:"",outId:"",fieldName:"Id",fieldType:"int",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"UserName",fieldType:"varchar",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"UserPassword",fieldType:"varchar",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"UserEmail",fieldType:"varchar",fieldOption:{ai:!1,portId:"",pk:!1}}]},{id:"",tablename:"User",fields:[{inId:"",outId:"",fieldName:"Id",fieldType:"int",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"UserName",fieldType:"varchar",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"UserPassword",fieldType:"varchar",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"UserEmail",fieldType:"varchar",fieldOption:{ai:!1,portId:"",pk:!1}}]},{id:"",tablename:"User",fields:[{inId:"",outId:"",fieldName:"Id",fieldType:"int",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"UserName",fieldType:"varchar",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"UserPassword",fieldType:"varchar",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"UserEmail",fieldType:"varchar",fieldOption:{ai:!1,portId:"",pk:!1}}]},{id:"",tablename:"User",fields:[{inId:"",outId:"",fieldName:"Id",fieldType:"int",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"UserName",fieldType:"varchar",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"UserPassword",fieldType:"varchar",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"UserEmail",fieldType:"varchar",fieldOption:{ai:!1,portId:"",pk:!1}}]},{id:"",tablename:"User",fields:[{inId:"",outId:"",fieldName:"Id",fieldType:"int",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"UserName",fieldType:"varchar",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"UserPassword",fieldType:"varchar",fieldOption:{ai:!1,portId:"",pk:!1}},{inId:"",outId:"",fieldName:"UserEmail",fieldType:"varchar",fieldOption:{ai:!1,portId:"",pk:!1}}]}],$t=function(){function e(){var t=this;Object(h.a)(this,e),this.isLock=void 0,this.engine=void 0,this.copySelected=function(){t.fireAction({type:"keydown",ctrlKey:!0,code:"KeyC"})},this.duplicateSelected=function(){t.fireAction({type:"keydown",ctrlKey:!0,code:"KeyD"})},this.cutSelected=function(){return t.fireAction({type:"keydown",ctrlKey:!0,code:"KeyX"})},this.pasteSelected=function(){return t.fireAction({type:"keydown",ctrlKey:!0,code:"KeyV"})},this.deleteSelected=function(){return t.fireAction({type:"keydown",ctrlKey:!0,code:"Delete"})},this.undo=function(){return t.fireAction({type:"keydown",ctrlKey:!0,code:"KeyZ"})},this.isLock=!1,this.engine=Xt(),this.initActions(),console.log(this.getEngine().getModel().getZoomLevel());var n=this.getEngine().getModel().getLinks();this.getEngine().getModel().getModels();console.log(n)}return Object(b.a)(e,[{key:"initActions",value:function(){var e=this;[new bt(!0),new wt(!0),new Nt(!0),new Et(!0)].forEach((function(t){return e.engine.getActionEventBus().registerAction(t)}))}},{key:"fireAction",value:function(e){this.engine.getActionEventBus().fireAction({event:Object(Oe.a)(Object(Oe.a)({},e),{},{key:"",preventDefault:function(){},stopPropagation:function(){}})})}},{key:"removeLinkbyPort",value:function(e,t){var n=e.getLinks(),i=t.getLinks();this.removeLink(n,e),this.removeLink(i,t)}},{key:"removeLink",value:function(e,t){if(Object.keys(e).length>=1)for(var n in e)if(e[n].getSourcePort().getID()===t.getID()){e[n].remove(),this.getEngine().repaintCanvas();break}}},{key:"currentNode",value:function(){var e=this.engine.getModel().getSelectedEntities().filter((function(e){return!e.isLocked()}));if(0!=e.length){var t=e[0];if(t instanceof Ct!==!1)return t}}},{key:"findSourceLinkInPort",value:function(e){var t=e.getLinks(),n=e.getID();for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&t[i].getSourcePort().getID()===n)return t[i]}},{key:"findSourcesLinkInPort",value:function(e){var t=[],n=e.getLinks(),i=e.getID();for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&n[r].getSourcePort().getID()===i&&t.push(n[r]);return t}},{key:"connectRealation",value:function(e,t,n){var i=this.findSourcesLinkInPort(e);if(i.length>0)this.setRelationLink(i[0],n);else{var r=this.findSourcesLinkInPort(t);r.length>0&&this.setRelationLink(r[0],n)}}},{key:"setRelationLink",value:function(e,t){e.setLabels([]),e.addLabel(t),this.getEngine().repaintCanvas()}},{key:"saveDataByString",value:function(e){var t=new Te.DiagramModel,n=JSON.parse(e);t.deserializeModel(n,this.getEngine()),null!=t?(this.getEngine().setModel(t),this.registerLinkEvent()):console.log("model null")}},{key:"registerLinkEvent",value:function(){var e=this;this.getEngine().getModel().registerListener({nodesUpdated:function(e){console.log(e)},linksUpdated:function(t){return e.isCompleteLink(t)}})}},{key:"isCompleteLink",value:function(e){var t=this;console.log("create link");var n=e.link,i=n.getSourcePort(),r=i.getNode().mirrorPort(i);if(void 0!==r){console.log(r.getOptions().label);var a=this.findSourcesLinkInPort(r);console.log(a),a.length>0&&(alert("error one field can have only one foreign key"),n.remove(),this.getEngine().repaintCanvas()),n.registerListener({targetPortChanged:function(e){return t.toggleFk(e)}})}}},{key:"toggleFk",value:function(e){var t=e.entity.getSourcePort(),n=t.getNode(),i=this.findSourcesLinkInPort(t);i.length>1&&(i[0].remove(),this.getEngine().repaintCanvas()),n.setNodeOption(t.getID())}},{key:"direactionNode",value:function(e,t){var n=e.getPosition().x,i=t.getPosition().x;return console.log("x1="+n+" x2="+i),n<=i?"front":"back"}},{key:"getNodeById",value:function(e){return this.getEngine().getModel().getNode(e)}},{key:"clearDiagram",value:function(){var e=new Te.DiagramModel;this.getEngine().setModel(e),this.registerLinkEvent(),this.getEngine().repaintCanvas()}},{key:"linktest",value:function(){this.linkNode()}},{key:"linkNode",value:function(){var e=this.getEngine().getModel().getNodes();alert(e[1].getOptions().name);var t=e[0].getOutPorts()[0],n=e[1].getInPorts()[0],i=t.link(n);n.reportPosition(),t.reportPosition(),this.getEngine().getModel().addAll(i),this.getEngine().repaintCanvas()}},{key:"updateNodeName",value:function(e){var t=this.currentNode();void 0!=t&&(t.getOptions().name=e,this.getEngine().repaintCanvas())}},{key:"linkModel",value:function(e,t){var n=this.findSourcesLinkInPort(e);n.length>0&&n[0].remove();var i=e.link(t);e.reportPosition(),t.reportPosition(),this.engine.getModel().addAll(i),this.engine.repaintCanvas()}},{key:"setCurrentNode",value:function(e){this.engine.repaintCanvas()}},{key:"updateNode",value:function(e){var t=this.currentNode();void 0!=t&&(t.updateNode(e),this.getEngine().repaintCanvas())}},{key:"testEdit",value:function(){var e=this.currentNode();void 0!=e&&(e.updateNode({tablename:"top",fields:[{fieldName:"Id",fieldType:"int"},{fieldName:"ProductId",fieldType:"varchar"},{fieldName:"Id",fieldType:"int"}]}),this.getEngine().repaintCanvas())}},{key:"doZoom",value:function(e){var t=this.getEngine().getModel(),n=t.getZoomLevel();console.log(n),t.setZoomLevel(n+e),this.getEngine().repaintCanvas()}},{key:"updateFieldOption",value:function(e){var t=this.currentNode();null===t||void 0===t||t.addOrUpdateFieldOption(e)}},{key:"createDiagramWithSchemaTable",value:function(e){var t=this;alert("hello");var n=new Te.DiagramModel,i=[],r=0;alert(250),e.forEach((function(e){var n=new Ct;n.getOptions().name=e.tablename;var a=i.length,o=0,c=50;if(a>0){alert(a+1+"tb");var s=i[a-1].getPosition();o=s.x,o+=250,c=s.y,6===r&&(o=0,r=0,c+=200),alert("current col : "+r)}alert(o+"and"+c),n.setPosition(o,c),t.createPorts(n,e.fields),r+=1,i.push(n)})),n.addAll.apply(n,i),this.getEngine().setModel(n),this.registerLinkEvent(),this.getEngine().repaintCanvas()}},{key:"testCreateDiagram",value:function(){var e=Qt;alert("creating"+e.length),this.createDiagramWithSchemaTable(e)}},{key:"createPorts",value:function(e,t){t.forEach((function(t){e.addField({fieldName:t.fieldName,fieldType:t.fieldType})}))}},{key:"allTable",value:function(){var e=this,t=[];return this.getEngine().getModel().getNodes().forEach((function(n){var i=e.nodeToTable(n);t.push(i)})),t}},{key:"currentTable",value:function(){var e={id:"",tablename:"",fields:[]},t=this.currentNode();return void 0===t||t instanceof Ct&&(e=this.nodeToTable(t)),e}},{key:"nodeToTable",value:function(e){var t=e.getOptions().name;return void 0==t&&(t=""),{id:e.getID(),tablename:t,fields:e.getAllField()}}},{key:"newNode",value:function(){this.fireAction({type:"keydown",ctrlKey:!0,code:"KeyB"})}},{key:"zoomIn",value:function(e){this.fireAction({clientX:e.clientX,clientY:e.clientY,type:"wheel",deltaY:1})}},{key:"zoomOut",value:function(e){this.fireAction({clientX:e.clientX,clientY:e.clientY,type:"wheel",deltaY:-1})}},{key:"getEngine",value:function(){return this.engine}}]),e}(),en=n(89),tn=n(165),nn=n.n(tn),rn=Object(C.a)((function(e){return Object(w.a)({root:{flexGrow:0},inputEdit:{backgroundColor:"#3F51B5",padding:8,color:"white",border:"none",borderRadius:4,fontSize:20},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})})),an=function(e){var t=e.onDelete,n=e.title,a=e.onEndEdit,o=rn(),c=Object(r.useState)(!1),s=Object(p.a)(c,2),l=s[0],d=s[1],u=Object(r.useState)(""),j=Object(p.a)(u,2),f=j[0],h=j[1];return Object(i.jsx)("div",{className:o.root,children:Object(i.jsx)(re.a,{position:"static",elevation:0,children:Object(i.jsxs)(ae.a,{children:[Object(i.jsx)(oe.a,{edge:"start",className:o.menuButton,color:"inherit","aria-label":"menu",children:Object(i.jsx)(nn.a,{})}),l?Object(i.jsx)("input",{value:f,onChange:function(e){h(e.target.value)},onBlur:function(){d(!l),a(f)},className:o.inputEdit}):Object(i.jsx)(en.a,{variant:"h6",className:o.title,onClick:function(){d(!0),h(n)},children:n}),Object(i.jsx)(oe.a,{color:"inherit",onClick:t,children:Object(i.jsx)(Rt.a,{})})]})})})},on=n(724),cn=n(728),sn=n(727),ln=n(723),dn=n(725),un=n(726),jn=n(356),pn=n.n(jn),fn=n(357),hn=n.n(fn),bn=n(358),On=n.n(bn),gn=n(673),vn=n(743),xn=(Object(C.a)({root:{"& > *":{borderBottom:"unset"}}}),Object(C.a)((function(e){return Object(w.a)({styledTable:{borderCollapse:"collapse",margin:"25px 0",fontSize:"0.9em",fontFamily:"sans-serif",minWidth:"400px",boxShadow:"0 0 20px rgba(0, 0, 0, 0.15)"},cell:{padding:10}})}))),mn=function(e){var t=e.isOpen,n=e.diagramctr,o=e.onclose,c=e.forceUpdate,s=xn(),l=Object(r.useState)(""),d=Object(p.a)(l,2),u=(d[0],d[1],Object(r.useState)(ee(n))),j=Object(p.a)(u,2),f=j[0],h=j[1],b=Object(r.useState)(""),O=Object(p.a)(b,2),g=O[0],v=O[1],x=Object(r.useState)($()),m=Object(p.a)(x,2),y=m[0],k=m[1],I=Object(r.useState)(""),C=Object(p.a)(I,2),w=C[0],N=C[1],E=Object(r.useState)(!1),P=Object(p.a)(E,2),S=P[0],T=P[1],D=Object(r.useState)(""),L=Object(p.a)(D,2),F=L[0],M=L[1],A=Object(r.useState)(""),R=Object(p.a)(A,2),U=R[0],z=R[1],_=Object(r.useMemo)((function(){return function(){if(""==F)return[];var e=y.find((function(e){return e.id===F}));return void 0==e?[]:e.fields}()}),[F]),B=Object(r.useState)(!1),G=Object(p.a)(B,2),W=G[0],K=G[1],V=Object(r.useState)(""),Z=Object(p.a)(V,2),J=Z[0],q=Z[1],Y=Object(r.useState)(""),H=Object(p.a)(Y,2),X=H[0],Q=H[1];function $(){return n.allTable()}function ee(e){return e.currentTable()}function te(e,t){void 0===e&&(e=""),T(!0),N(t),q(e);var i=n.currentNode();if(void 0!==i){var r=e,a=i.getOutIdFromInId(r),o=i.getPortFromID(r),c=i.getPortFromID(a),s=n.findSourceLinkInPort(o),l=n.findSourceLinkInPort(c);if(void 0===s){if(void 0!==l){var d=l.getTargetPort();return M(d.getNode().getID()),void z(d.getID())}}else{var u=s.getTargetPort();M(u.getNode().getID());var j=u.getNode();z(j.getInIdFromOutId(u.getID()))}}}function ne(){T(!0),function(){var e=f,t=e.fields.findIndex((function(e){return e.inId==J}));if(-1==t)return;e.fields[t].fieldName=w,""!=X&&(e.fields[t].fieldType=X);h(e),n.updateNode(e)}(),q("")}function ie(e){N(e.target.value)}function re(e){Q(e.target.value)}function ae(e){M(e.target.value)}function ce(e){if(""!==e.target.value){var t=e.target.value,i=f.fields.find((function(e){return e.inId===J}));z(t);var r=n.currentNode();if(void 0!==r&&void 0!=i){var a=n.getNodeById(F),o=n.direactionNode(r,a),c="front"===o?r.portInIdtoPortOut(J):r.getPortFromID(J),s="front"===o?a.getPortFromID(t):a.portInIdtoPortOut(t);n.linkModel(c,s)}}}function se(e,t){var n=e.fieldOption;return void 0!=n&&("pk"==t?n.pk:"fk"==t?n.fk:"ai"==t?n.ai:void 0)}function le(e,t,i){e.target.value;if(void 0!=t){console.log(i);var r=f.fields.findIndex((function(e){return e.inId==t})),a=f,o=a.fields[r].fieldOption;if(-1!==r&&void 0!==o){if("pk"===i&&(o.pk=!o.pk),"ai"===i&&(o.ai=!o.ai),"fk"===i&&(o.fk=!o.fk,!1===o.fk)){var c=n.currentNode();if(void 0===c)return;n.removeLinkbyPort(c.getPortInByIndex(r),c.getPortOutByIndex(r))}a.fields[r].fieldOption=o,h(a),console.log(o),n.updateFieldOption(a.fields[r]),K(!W)}}}return Object(r.useEffect)((function(){h(ee(n)),k($())}),[t,W,c]),Object(i.jsx)(Le.a,{anchor:"right",open:t,style:{width:600},onClose:function(){M(""),z(""),q(""),T(!1),o()},children:Object(i.jsxs)("div",{children:[Object(i.jsx)(an,{onDelete:function(){void 0!=n.currentNode()&&(n.deleteSelected(),o())},title:f.tablename,onEndEdit:function(e){var t=f;t.tablename=e,h(t),n.updateNodeName(e),K(!W)}}),Object(i.jsx)(ln.a,{children:Object(i.jsxs)(on.a,{"aria-label":"simple table",children:[Object(i.jsx)(dn.a,{children:Object(i.jsxs)(un.a,{children:[Object(i.jsx)(sn.a,{}),Object(i.jsx)(sn.a,{className:s.cell,children:"Field Name"}),Object(i.jsx)(sn.a,{className:s.cell,children:"Type Name"}),Object(i.jsx)(sn.a,{className:s.cell,children:"PK"}),Object(i.jsx)(sn.a,{className:s.cell,children:"AI"}),Object(i.jsx)(sn.a,{className:s.cell,children:"Action"})]})}),Object(i.jsx)(cn.a,{children:f.fields.map((function(e,t){return Object(i.jsxs)(a.a.Fragment,{children:[Object(i.jsxs)(un.a,{className:s.cell,children:[Object(i.jsx)(sn.a,{children:Object(i.jsx)(oe.a,{"aria-label":"expand row",size:"small",children:S&&J!==e.inId?Object(i.jsx)(pn.a,{}):Object(i.jsx)(hn.a,{})})}),S&&J==e.inId?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(sn.a,{component:"th",scope:"row",className:s.cell,children:Object(i.jsx)("input",{onBlur:function(){return ne()},onChange:ie,value:w})}),Object(i.jsx)(sn.a,{component:"th",scope:"row",className:s.cell,children:Object(i.jsxs)("select",{onChange:re,value:X,children:[Object(i.jsx)("option",{value:"int",children:"Interger"}),Object(i.jsx)("option",{value:"varchar",children:"Varchar"}),Object(i.jsx)("option",{value:"float",children:"Float"}),Object(i.jsx)("option",{value:"bool",children:"Boolean"})]})})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(sn.a,{className:s.cell,component:"th",scope:"row",onClick:function(){return te(e.inId,e.fieldName)},children:e.fieldName}),Object(i.jsx)(sn.a,{className:s.cell,component:"th",scope:"row",onClick:function(){return te(e.inId,e.fieldName)},children:e.fieldType})]}),Object(i.jsx)(sn.a,{className:s.cell,children:Object(i.jsx)("input",{type:"checkbox",checked:se(e,"pk"),onChange:function(t){return le(t,e.inId,"pk")}},"pk".concat(e.inId))}),Object(i.jsx)(sn.a,{children:Object(i.jsx)("input",{type:"checkbox",checked:se(e,"ai"),onChange:function(t){return le(t,e.inId,"ai")}},"ai".concat(e.inId))}),Object(i.jsx)(sn.a,{className:s.cell,children:Object(i.jsx)(oe.a,{onClick:function(){return function(e){if(void 0!=e){var t=n.currentNode();void 0!=t&&(t.removeFieldbyId(e),K(!W),n.getEngine().repaintCanvas())}}(e.inId)},size:"small",children:Object(i.jsx)(Rt.a,{})})})]}),Object(i.jsx)(un.a,{children:Object(i.jsx)(sn.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(i.jsx)(gn.a,{in:S&&J===e.inId,timeout:"auto",unmountOnExit:!0,children:Object(i.jsxs)(vn.a,{margin:1,children:[Object(i.jsx)(Ae.a,{label:"Default Value",variant:"outlined",size:"small"}),Object(i.jsx)(sn.a,{children:Object(i.jsx)("input",{type:"checkbox",checked:se(e,"fk"),onChange:function(t){return le(t,e.inId,"fk")}})}),se(e,"fk")?Object(i.jsxs)(a.a.Fragment,{children:[Object(i.jsxs)("select",{placeholder:"Select Table",value:F,onChange:ae,children:[Object(i.jsx)("option",{disabled:!0,value:"",children:" -- Select Ref Table -- "}),y.map((function(e){return f.id!==e.id?Object(i.jsx)("option",{value:e.id,children:e.tablename},"option-"+e.id):""}))]}),Object(i.jsxs)("select",{placeholder:"Select Field",style:{minWidth:100},value:U,onChange:ce,children:[Object(i.jsx)("option",{style:{display:"none"},value:""}),_.map((function(e){return Object(i.jsx)("option",{value:e.inId,children:e.fieldName},e.fieldName)}))]}),Object(i.jsxs)("select",{placeholder:"Select Relation",value:g,onChange:function(t){return function(e,t,i){if(void 0!==e&&void 0!==t){var r=n.currentNode();if(void 0!==r){var a=r.getPortFromID(e),o=r.getPortFromID(t);null!==a&&null!==o&&(v(i),n.connectRealation(a,o,i))}}}(e.inId,e.outId,t.target.value)},children:[Object(i.jsx)("option",{value:"1:1",children:"One to One"}),Object(i.jsx)("option",{value:"1:N",children:"One to Many"})]})]}):""]})})})})]},e.inId)}))})]})}),Object(i.jsx)(oe.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){return function(){var e=n.currentNode();if(void 0!=e){e.AddNewField();var t=f;t.fields.push({fieldName:"test",fieldType:"int"}),h(t),K(!W),n.getEngine().repaintCanvas()}}()},children:Object(i.jsx)(On.a,{})})]})})},yn=n(747),kn=function(){return Object(i.jsxs)(Ye.Menu,{id:"nodeedit",children:[Object(i.jsxs)(Ye.Item,{children:[Object(i.jsx)(dt,{children:Object(i.jsx)(et,{})}),"Paste",Object(i.jsxs)(jt,{children:[Object(i.jsx)(st,{children:"CTRL"}),Object(i.jsx)(st,{children:"V"})]})]}),Object(i.jsx)(Ye.Separator,{}),Object(i.jsxs)(Ye.Item,{children:[Object(i.jsx)(dt,{children:Object(i.jsx)(rt,{})}),"Zoom in"]}),Object(i.jsxs)(Ye.Item,{children:[Object(i.jsx)(dt,{children:Object(i.jsx)(at,{})}),"Zoom out"]}),Object(i.jsx)(Ye.Separator,{}),Object(i.jsxs)(Ye.Item,{children:[Object(i.jsx)(dt,{children:Object(i.jsx)(it,{})}),"Undo",Object(i.jsxs)(jt,{children:[Object(i.jsx)(st,{children:"CTRL"}),Object(i.jsx)(st,{children:"Z"})]})]}),Object(i.jsxs)(Ye.Item,{children:[Object(i.jsx)(dt,{children:Object(i.jsx)(tt,{})}),"Redo",Object(i.jsxs)(jt,{children:[Object(i.jsx)(st,{children:"CTRL"}),Object(i.jsx)(st,{children:"SHIFT"}),Object(i.jsx)(st,{children:"Z"})]})]})]})},In=n(372),Cn=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"getFields",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=", \n \t",r=null===(t=e.fieldOption)||void 0===t?void 0:t.ai,a="".concat(e.fieldName," ").concat(e.fieldType);return void 0!==r&&r&&(a+=" auto_increment"),0==n&&(a+=i),a}},{key:"getCreateTable",value:function(e){var t=this,n="";return e.fields.forEach((function(i,r){var a=!1;e.fields.length-1==r&&(a=!0),n+=t.getFields(i,a)})),"CREATE TABLE ".concat(e.tablename," (\n \t").concat(n," \n ) ")}},{key:"generateFieldOption",value:function(){}},{key:"export",value:function(e){var t=this,n="";return e.forEach((function(e){n+=t.getCreateTable(e),n+="\n \n"})),n}}]),n}(function(){function e(){Object(h.a)(this,e)}return Object(b.a)(e,[{key:"getFields",value:function(e){return""}},{key:"getCreateTable",value:function(e){return""}},{key:"export",value:function(e){return""}}]),e}());var wn,Nn=n(63),En=n.n(Nn),Pn=n(45),Sn=n.n(Pn);function Tn(e){return{projectName:e.ProjectName,projectDescription:e.ProjectDescription,projectDetail:e.ProjectDetail,user:e.UserId,visibleStatus:e.VisibleStatus,shareUrl:e.ShareUrl}}function Dn(e){return{type:wn.TOGGLE_LOADING,payload:e}}!function(e){e.TOGGLE_LOADING="TOGGLE_LOADING"}(wn||(wn={}));var Ln,Fn=n(208),Mn=n(359),An=n.n(Mn);!function(e){e[e.Public=0]="Public",e[e.Private=1]="Private",e[e.Protected=2]="Protected"}(Ln||(Ln={}));var Rn,Un,zn=function(){var e=Object(l.h)().projectId,t=Object(ce.c)((function(e){return e.AuthReducer.user})),n=Object(ce.b)(),a=Object(r.useState)(!1),o=Object(p.a)(a,2),c=o[0],s=o[1],d=Object(r.useState)(!1),h=Object(p.a)(d,2),b=h[0],O=(h[1],Object(r.useState)(!0)),g=Object(p.a)(O,2),v=(g[0],g[1]),x=Object(r.useState)(new $t),m=Object(p.a)(x,2),y=m[0],k=(m[1],Object(r.useState)(!0)),C=Object(p.a)(k,2),w=(C[0],C[1]),N=Object(r.useState)(!1),E=Object(p.a)(N,2),P=(E[0],E[1],Object(r.useState)(function(){Object(It.a)();return{ProjectName:"Projecttyu",ProjectDescription:"hello world",ProjectDetail:"",VisibleStatus:Ln.Private,UserId:t.Id,ShareUrl:"xff"}}())),S=Object(p.a)(P,2),T=S[0],D=(S[1],Object(r.useState)(!1)),L=Object(p.a)(D,2),F=L[0],M=L[1],A=Object(r.useState)(""),R=Object(p.a)(A,2),U=(R[0],R[1],Object(r.useState)(!1)),z=Object(p.a)(U,2),_=z[0],B=z[1];Object(Fn.b)();Object(r.useEffect)((function(){y.getEngine().registerListener({onDoubleClick:function(){return Z()}}),function(){var e=En.a.get("ertoken");void 0===e||""===e?(v(!1),w(!0)):(Sn.a.defaults.headers.common.Authorization="Bearer "+e,G())}()}),[]);var G=function(){var t="project/loadproject/"+e;Sn.a.get("https://toperbackend.herokuapp.com/"+t).then((function(e){y.saveDataByString(e.data.projectDetail)}))};function W(){return K.apply(this,arguments)}function K(){return(K=Object(j.a)(u.a.mark((function t(){var i,r,a,o,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=T,"https://toperbackend.herokuapp.com/",r="project/update/"+e,a=y.getEngine().getModel().serialize(),o=JSON.stringify(a),i.ProjectDetail=o,c=Tn(i),n(Dn(!0)),t.next=10,Sn.a.put("https://toperbackend.herokuapp.com/"+r,c);case 10:t.sent,n(Dn(!1)),s(!0);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function V(e){var t=document.getElementById("diagramcv");null!=t&&In.a(t).then((function(t){(new Image).src=t;var n=document.createElement("a");n.href=t,n.download=e,n.click()})).catch((function(e){console.error("oops, something went wrong!",e)}))}function Z(){B(!_)}function J(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function q(){y.doZoom(20)}function Y(){y.doZoom(-20)}return Object(i.jsxs)(Fn.a,{maxSnack:3,children:[Object(i.jsx)(Se,{onExport:function(){M(!0)},onSave:W}),Object(i.jsx)(ie,{onZoomIn:q,onZoomOut:Y,onZoomFit:function(){y.clearDiagram()},newTable:function(){y.newNode()},onSave:W,onLoad:function(){var e=document.getElementById("fileinput");if(e&&document.createEvent){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!1),e.dispatchEvent(t)}}}),Object(i.jsx)(yn.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:c,message:"Save Project Success",style:{backgroundColor:"green",color:"white"},action:Object(i.jsx)(oe.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return s(!1)},children:Object(i.jsx)(An.a,{fontSize:"small"})})},"snack44"),Object(i.jsx)(qe,{isOpen:F,onclose:function(){return M(!1)},exportTest:function(e){alert(e)},exportPng:V,exportPdf:V,exportSql:function(e){!function(e,t){var n=function(e){var t=[];return e.getEngine().getModel().getNodes().forEach((function(e){var n=e.getOptions().name;void 0==n&&(n="");var i={id:e.getID(),tablename:n,fields:e.getAllField()};t.push(i)})),t}(y),i=t.export(n);alert(i),J(e,i)}(e,new Cn)},fileName:T.ProjectName}),Object(i.jsx)("input",{type:"file",id:"fileinput",style:{display:"none"},onChange:function(e){alert("select");var t=e.target;console.log(e);var n=new FileReader;n.onload=function(t){var i=n.result,r=new Te.DiagramModel,a=JSON.parse(i);r.deserializeModel(a,y.engine),null!=r&&(e.target.value=null,y.getEngine().setModel(r))},n.readAsText(t.files[0])}}),Object(i.jsx)(mn,{isOpen:_,diagramctr:y,onclose:Z,forceUpdate:b}),Object(i.jsx)(Ye.MenuProvider,{id:"diagram",storeRef:!1,children:Object(i.jsx)(I,{background:"#E9E9E9",color:"#808080",children:Object(i.jsx)(f.CanvasWidget,{engine:y.engine,className:"canvas"})})}),Object(i.jsx)(kn,{}),Object(i.jsx)(ht,{copyFunc:y.copySelected,pasteFunc:y.pasteSelected,deleteFunc:y.deleteSelected,duplicateFunc:y.duplicateSelected,cutFunc:y.cutSelected,zoomIn:q,zoomOut:Y})]})},_n=n(738),Bn=n(739),Gn=n(670),Wn=n(729),Kn=n(730),Vn=n(361),Zn=n.n(Vn),Jn=n(362),qn=n.n(Jn),Yn=n(363),Hn=n.n(Yn),Xn=n(364),Qn=n.n(Xn),$n=n(365),ei=n.n($n),ti=n(669),ni=n(360),ii=n.n(ni),ri=Object(C.a)((function(e){return{drawer:{width:240,flexShrink:0},toolbar:Object(Oe.a)({display:"flex",justifyContent:"flex-center"},e.mixins.toolbar),drawerPaper:{backgroundColor:"#5661B3",color:"white",position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},toolbarIcon:Object(Oe.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar)}})),ai=function(){var e=ri(),t=Object(l.g)(),n=function(e){t.push("/document/"+e)};return Object(i.jsxs)(Le.a,{variant:"permanent",className:e.drawer,classes:{paper:e.drawerPaper},anchor:"left",children:[Object(i.jsxs)("div",{className:e.toolbar,children:[Object(i.jsx)(be.a,{alt:"Remy Sharp",src:"favicon.ico",style:{margin:10}}),Object(i.jsx)(en.a,{style:{margin:18,fontSize:20},children:"Visual Draw"})]}),Object(i.jsx)(ti.a,{children:Object(i.jsxs)("div",{children:[Object(i.jsxs)(Gn.a,{button:!0,onClick:function(){return n("project")},children:[Object(i.jsx)(Wn.a,{children:Object(i.jsx)(ii.a,{color:"inherit",style:{color:"white"}})}),Object(i.jsx)(Kn.a,{primary:"New Project"})]}),Object(i.jsxs)(Gn.a,{button:!0,onClick:function(){return n("filelist")},children:[Object(i.jsx)(Wn.a,{children:Object(i.jsx)(Zn.a,{color:"inherit",style:{color:"white"}})}),Object(i.jsx)(Kn.a,{primary:"File List"})]}),Object(i.jsxs)(Gn.a,{button:!0,onClick:function(){return n("filelist")},children:[Object(i.jsx)(Wn.a,{color:"transparent",children:Object(i.jsx)(qn.a,{style:{color:"white"}})}),Object(i.jsx)(Kn.a,{primary:"Template"})]}),Object(i.jsxs)(Gn.a,{button:!0,onClick:function(){return n("accout")},children:[Object(i.jsx)(Wn.a,{children:Object(i.jsx)(Hn.a,{style:{color:"white"}})}),Object(i.jsx)(Kn.a,{primary:"Customers"})]}),Object(i.jsxs)(Gn.a,{button:!0,onClick:function(){return n("accout")},children:[Object(i.jsx)(Wn.a,{children:Object(i.jsx)(Qn.a,{style:{color:"white"}})}),Object(i.jsx)(Kn.a,{primary:"Setting"})]}),Object(i.jsxs)(Gn.a,{button:!0,onClick:function(){return n("accout")},children:[Object(i.jsx)(Wn.a,{children:Object(i.jsx)(ei.a,{style:{color:"white"}})}),Object(i.jsx)(Kn.a,{primary:"Logout"})]})]})})]})};function oi(e){return{Id:e._id,UserName:e.userName,UserLastName:e.userlastname,UserEmail:e.userEmail,UserPassword:e.userPassword}}function ci(e){return{type:Rn.SET_USER,payload:e}}function si(e){return{type:Rn.SET_LOGIN,payload:e}}function li(e){return{type:Un.SET_PROJECT,payload:e}}function di(e){return{type:Un.NEW_PROJECT,payload:e}}function ui(e){return{type:Un.DELETE_PROJECT,payload:e}}!function(e){e.SET_USER="SET_USER",e.UPDATE_USER="UPDATE_USER",e.SET_LOGIN="SET_LOGIN"}(Rn||(Rn={})),function(e){e.SET_PROJECT="SET_PROJECT",e.UPDATE_PROJECT="UPDATE_PROJECT",e.NEW_PROJECT="NEW_PROJECT",e.DELETE_PROJECT="DELETE_PROJECT",e.TOGGLE_MODAL="TOGGLE_MODAL",e.TOGGLE_CONFRIM_MODAL="TOGGLE_CONFRIM_MODAL",e.SET_PROJECT_SAVE_TYPE="SET_PROJECT_SAVE_TYPE"}(Un||(Un={}));var ji=function(e){return function(){var t=Object(j.a)(u.a.mark((function t(n){var i,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://toperbackend.herokuapp.com/auth/login",t.next=3,Sn.a.post("https://toperbackend.herokuapp.com/auth/login",e);case 3:i=t.sent,console.log(i),200===i.status&&""!==(r=i.data).access_token&&(console.log("set token "),En.a.set("ertoken",r.access_token),a=oi(r),n(ci(a)),n(si(!0)));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},pi=function(e){return function(){var t=Object(j.a)(u.a.mark((function t(n){var i,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://toperbackend.herokuapp.com/auth/register",alert("register"),t.next=4,Sn.a.post("https://toperbackend.herokuapp.com/auth/register",e);case 4:200===(i=t.sent).status&&""!==(r=i.data).access_token&&(En.a.set("ertoken",r.access_token),a=oi(r),n(ci(a)),n(si(!0)));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},fi=n(366),hi=n.n(fi),bi=Object(C.a)((function(e){return{toolbar:{paddingRight:24},appBar:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},menuButton:{marginRight:36},title:{flexGrow:1}}})),Oi=function(){var e=Object(l.g)(),t=(Object(ce.c)((function(e){return e.AuthReducer.user})),Object(ce.b)()),n=bi(),r=function(){var n=Object(j.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:En.a.set("ertoken",""),t(ci({Id:"",UserName:"test",UserLastName:"",UserEmail:"",UserPassword:""})),t(si(!1)),t(li([]));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:e.push("/login");case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(i.jsx)(re.a,{className:n.appBar,elevation:0,position:"fixed",color:"transparent",children:Object(i.jsxs)(ae.a,{className:n.toolbar,children:[Object(i.jsx)(oe.a,{edge:"start",color:"inherit","aria-label":"open drawer",className:n.menuButton,children:Object(i.jsx)(nn.a,{})}),Object(i.jsx)(en.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:n.title,children:"Dashboard"}),Object(i.jsx)(oe.a,{color:"inherit",onClick:r,children:Object(i.jsx)(hi.a,{})})]})})},gi=function(){return function(){var e=Object(j.a)(u.a.mark((function e(t){var n,i,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(n="https://toperbackend.herokuapp.com")+"/user/getuser",r=n+"/project/getprojects",""!==(a=En.a.get("ertoken"))&&void 0!==a){e.next=8;break}return t(Dn(!1)),t(si(!1)),e.abrupt("return");case 8:t(Dn(!0)),Sn.a.defaults.headers.common.Authorization="Bearer "+a,Sn.a.all([Sn.a.get(i),Sn.a.get(r)]).then(Sn.a.spread((function(e,n){if(t(Dn(!1)),e.data.length>0){var i=oi(e.data[0]);t(ci(i)),t(si(!0))}var r=[];n.data.forEach((function(e){var t,n={Id:(t=e)._id,ProjectName:t.projectName,ProjectDescription:t.projectDescription,ProjectDetail:"",VisibleStatus:t.visibleStatus,UserId:t.user,ShareUrl:""};r.push(n)})),t(li(r))})));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},vi=n(736),xi=n(737),mi=n(731),yi=n(735),ki=n(733),Ii=n(734),Ci=n(732),wi=function(e){var t=e.isOpen,n=e.onClose,r=e.onConfrim,a=function(){n()};return Object(i.jsx)("div",{children:Object(i.jsxs)(mi.a,{open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(i.jsx)(Ci.a,{id:"alert-dialog-title",children:"Are you want Delete this Project?"}),Object(i.jsx)(ki.a,{children:Object(i.jsx)(Ii.a,{id:"alert-dialog-description",children:"Let Google help apps determine location. This means sending anonymous location data to Google, even when no apps are running."})}),Object(i.jsxs)(yi.a,{children:[Object(i.jsx)(Y.a,{onClick:a,color:"primary",children:"Disagree"}),Object(i.jsx)(Y.a,{onClick:function(){r()},color:"primary",autoFocus:!0,children:"Agree"})]})]})})},Ni=n(367),Ei=n.n(Ni),Pi=n(370),Si=n.n(Pi),Ti=n(368),Di=n.n(Ti),Li=n(369),Fi=n.n(Li),Mi=function(){var e=Object(ce.b)(),t=Object(r.useState)(!1),n=Object(p.a)(t,2),a=n[0],o=n[1],c=Object(r.useState)(""),l=Object(p.a)(c,2),d=l[0],f=l[1],h=Object(ce.c)((function(e){return e.ProjectReducer.projects}));return Object(i.jsxs)(vn.a,{display:"flex",children:[Object(i.jsxs)(vn.a,{p:1,flexGrow:1,children:[Object(i.jsx)("h2",{children:"Open With"}),Object(i.jsxs)(ti.a,{children:[Object(i.jsxs)(Gn.a,{button:!0,children:[Object(i.jsx)(Wn.a,{children:Object(i.jsx)(Ei.a,{})}),Object(i.jsx)(Kn.a,{primary:"Cloud"})]}),Object(i.jsxs)(Gn.a,{button:!0,children:[Object(i.jsx)(Wn.a,{children:Object(i.jsx)(Di.a,{})}),Object(i.jsx)(Kn.a,{primary:"Device"})]}),Object(i.jsxs)(Gn.a,{button:!0,children:[Object(i.jsx)(Wn.a,{children:Object(i.jsx)(Fi.a,{})}),Object(i.jsx)(Kn.a,{primary:"Browse"})]})]})]}),Object(i.jsx)(F.a,{orientation:"vertical",flexItem:!0,style:{height:"80vh"}}),Object(i.jsx)(vn.a,{p:1,flexGrow:1,children:Object(i.jsxs)(ti.a,{children:[h.map((function(e){return Object(i.jsxs)(Gn.a,{children:[Object(i.jsx)(s.b,{to:"/editor/".concat(e.Id),children:Object(i.jsx)(vi.a,{children:Object(i.jsx)(be.a,{children:Object(i.jsx)(Si.a,{})})})}),Object(i.jsx)(Kn.a,{primary:e.ProjectName,secondary:"Update at 10min ago"}),Object(i.jsx)(xi.a,{children:Object(i.jsx)(oe.a,{edge:"end","aria-label":"delete",onClick:function(){return void 0===(t=e.Id)&&(t=""),o(!0),void f(t);var t},children:Object(i.jsx)(Z.a,{})})})]},e.Id)})),Object(i.jsx)(wi,{isOpen:a,onClose:function(){return o(!1)},onConfrim:function(){var t;(alert(d),o(!1),""!==d)&&e((t=d,function(){var e=Object(j.a)(u.a.mark((function e(n){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="https://toperbackend.herokuapp.com/project/delete/"+t,n(Dn(!0)),e.next=4,Sn.a.delete(i);case 4:200===e.sent.status&&n(ui(t)),n(Dn(!1));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}})]})})]})},Ai=function(){var e=Object(ce.c)((function(e){return e.AuthReducer.user})),t=Object(r.useState)(""),n=Object(p.a)(t,2),a=n[0],o=n[1],c=Object(r.useState)(""),s=Object(p.a)(c,2),l=s[0],d=s[1];return Object(r.useEffect)((function(){o(e.UserName),d(e.UserPassword)}),[]),Object(i.jsxs)(vn.a,{flexGrow:1,children:[Object(i.jsx)(Ae.a,{label:"User Email",fullWidth:!0,style:{margin:8}}),Object(i.jsx)(Ae.a,{label:"User Name",value:a,onChange:function(e){return o(e.target.value)},fullWidth:!0,style:{margin:8}}),Object(i.jsx)(Ae.a,{label:"User Password",value:l,onChange:function(e){return d(e.target.value)},fullWidth:!0,style:{margin:8}})]})},Ri=function(){var e=Object(l.g)(),t=Object(ce.b)(),n=Object(r.useState)(""),a=Object(p.a)(n,2),o=a[0],c=a[1],s=Object(r.useState)(""),d=Object(p.a)(s,2),f=d[0],h=d[1],b=Object(ce.c)((function(e){return e.AuthReducer.user}));Object(r.useEffect)((function(){}),[]);return Object(i.jsxs)(vn.a,{flexGrow:1,children:[Object(i.jsx)(Ae.a,{label:"Project Name",value:o,onChange:function(e){return c(e.target.value)},fullWidth:!0,style:{margin:8}}),Object(i.jsx)(Ae.a,{label:"Project Description",value:f,onChange:function(e){return h(e.target.value)},fullWidth:!0,style:{margin:8}}),Object(i.jsx)(Ae.a,{label:"Create Date",disabled:!0,fullWidth:!0,style:{margin:8}}),Object(i.jsx)(Ae.a,{label:"Update Date",disabled:!0,fullWidth:!0,style:{margin:8}}),Object(i.jsx)(Y.a,{onClick:function(){var n={ProjectName:o,ProjectDescription:f,ProjectDetail:"",VisibleStatus:1,UserId:b.Id,ShareUrl:""};t(function(e){return function(){var t=Object(j.a)(u.a.mark((function t(n){var i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Tn(e),alert(JSON.stringify(i)),n((r=!1,{type:Un.TOGGLE_MODAL,payload:r})),n(Dn(!0)),t.next=7,Sn.a.post("https://toperbackend.herokuapp.com/project",i);case 7:200===t.sent.status&&n(di(e)),n(Dn(!1));case 10:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()}(n)),e.push("/document/filelist")},style:{margin:8},children:"Save Project"})]})};function Ui(){return Object(i.jsx)("div",{children:"Template"})}var zi=Object(C.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}})),_i=function(){var e=zi(),t=(Object(ce.c)((function(e){return e.ProjectReducer.addProjectModal})),Object(ce.c)((function(e){return e.ShareReducer.isLoading})),Object(ce.b)());return Object(r.useEffect)((function(){t(gi())}),[]),Object(i.jsxs)("div",{className:e.root,children:[Object(i.jsx)(_n.a,{}),Object(i.jsx)(ai,{}),Object(i.jsx)(Oi,{}),Object(i.jsxs)("main",{className:e.content,children:[Object(i.jsx)("div",{className:e.appBarSpacer}),Object(i.jsx)(Bn.a,{maxWidth:"lg",className:e.container,children:Object(i.jsxs)(l.d,{children:[Object(i.jsx)(l.b,{path:"/document/filelist",component:Mi}),Object(i.jsx)(l.b,{path:"/document/template",component:Ui}),Object(i.jsx)(l.b,{path:"/document/accout",component:Ai}),Object(i.jsx)(l.b,{path:"/document/project",component:Ri})]})})]})]})},Bi=n(741),Gi=n(745),Wi=n(740),Ki=n(167),Vi=n.n(Ki);function Zi(){return Object(i.jsxs)(en.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(i.jsx)(Wi.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var Ji=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),qi=function(){var e=Object(l.g)(),t=Ji(),n=Object(ce.b)(),a=Object(r.useState)(""),o=Object(p.a)(a,2),c=o[0],d=o[1],f=Object(r.useState)(""),h=Object(p.a)(f,2),b=h[0],O=h[1],g=function(){var t=Object(j.a)(u.a.mark((function t(){var i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={userName:c,userPassword:b},n(Dn(!0)),t.next=4,n(ji(i));case 4:n(Dn(!1)),e.push("/");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(i.jsxs)(Bn.a,{component:"main",maxWidth:"xs",children:[Object(i.jsx)(_n.a,{}),Object(i.jsxs)("div",{className:t.paper,children:[Object(i.jsx)(be.a,{className:t.avatar,children:Object(i.jsx)(Vi.a,{})}),Object(i.jsx)(en.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(i.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(i.jsx)(Ae.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return d(e.target.value)},value:c}),Object(i.jsx)(Ae.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return O(e.target.value)},value:b}),Object(i.jsx)(Bi.a,{control:Object(i.jsx)(Gi.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(i.jsx)(Y.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:g,children:"Sign In"}),Object(i.jsxs)(L.a,{container:!0,children:[Object(i.jsx)(L.a,{item:!0,xs:!0,children:Object(i.jsx)(Wi.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(i.jsx)(L.a,{item:!0,children:Object(i.jsx)(s.b,{to:"/signup",children:Object(i.jsx)(Wi.a,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]})]}),Object(i.jsx)(vn.a,{mt:8,children:Object(i.jsx)(Zi,{})})]})};function Yi(){return Object(i.jsxs)(en.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(i.jsx)(Wi.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var Hi=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Xi=function(){var e=Hi(),t=Object(ce.b)(),n=Object(r.useState)(""),a=Object(p.a)(n,2),o=a[0],c=a[1],l=Object(r.useState)(""),d=Object(p.a)(l,2),f=d[0],h=d[1],b=Object(r.useState)(""),O=Object(p.a)(b,2),g=O[0],v=O[1],x=Object(r.useState)(""),m=Object(p.a)(x,2),y=m[0],k=m[1],I=function(){var e=Object(j.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={userName:o,userLastname:f,userPassword:y,userEmail:g},alert(JSON.stringify(n)),e.next=4,t(pi(n));case 4:t(gi());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.jsxs)(Bn.a,{component:"main",maxWidth:"xs",children:[Object(i.jsx)(_n.a,{}),Object(i.jsxs)("div",{className:e.paper,children:[Object(i.jsx)(be.a,{className:e.avatar,children:Object(i.jsx)(Vi.a,{})}),Object(i.jsx)(en.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(i.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(i.jsx)(Ae.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"User name",name:"user",autoFocus:!0,onChange:function(e){return c(e.target.value)},value:o}),Object(i.jsx)(Ae.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"lastname",label:"User Lastname",name:"lastname",autoFocus:!0,onChange:function(e){return h(e.target.value)},value:f}),Object(i.jsx)(Ae.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return v(e.target.value)},value:g}),Object(i.jsx)(Ae.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return k(e.target.value)},value:y}),Object(i.jsx)(Bi.a,{control:Object(i.jsx)(Gi.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(i.jsx)(Y.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:I,children:"Sign In"}),Object(i.jsxs)(L.a,{container:!0,children:[Object(i.jsx)(L.a,{item:!0,xs:!0,children:Object(i.jsx)(Wi.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(i.jsx)(L.a,{item:!0,children:Object(i.jsx)(s.b,{to:"/signup",children:Object(i.jsx)(Wi.a,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]})]}),Object(i.jsx)(vn.a,{mt:8,children:Object(i.jsx)(Yi,{})})]})},Qi=n(376),$i=function(){var e=Object(ce.c)((function(e){return e.ShareReducer.isLoading}));return Object(i.jsxs)(a.a.Fragment,{children:[Object(i.jsx)(Qi.a,{open:e,children:Object(i.jsx)(pe.a,{color:"inherit"})}),Object(i.jsxs)(s.a,{children:[Object(i.jsx)(l.b,{exact:!0,path:"/signup",component:Xi}),Object(i.jsx)(l.b,{exact:!0,path:"/login",component:qi}),Object(i.jsx)(l.b,{exact:!0,path:"/",component:_i,children:function(){console.log("check login from app");var e=En.a.get("ertoken");return""!==e&&void 0!==e}()?Object(i.jsx)(l.a,{to:"/document/filelist"}):Object(i.jsx)(l.a,{to:"/login"})}),Object(i.jsx)(l.b,{path:"/document",component:_i}),Object(i.jsx)(l.b,{exact:!0,path:"/editor/:projectId",component:zn})]})]})},er=(n(665),n(112)),tr={user:{Id:"",UserName:"test",UserLastName:"",UserEmail:"",UserPassword:""},isLogin:!0,err:"no err"},nr={error:"",isLoading:!1},ir={projects:[],currentProject:{Id:"",ProjectName:"",ProjectDescription:"",UserId:"",VisibleStatus:1,ShareUrl:"",ProjectDetail:""},addProjectModal:!1,confrimModal:!1,projectSaveType:""},rr=n(371),ar=Object(er.c)({AuthReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rn.SET_USER:return Object(Oe.a)(Object(Oe.a)({},e),{},{user:t.payload});case Rn.UPDATE_USER:return Object(Oe.a)(Object(Oe.a)({},e),t.payload);case Rn.SET_LOGIN:return Object(Oe.a)(Object(Oe.a)({},e),{},{isLogin:t.payload});default:return e}},ShareReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case wn.TOGGLE_LOADING:return Object(Oe.a)(Object(Oe.a)({},e),{},{isLoading:t.payload});default:return e}},ProjectReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ir,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Un.SET_PROJECT:return Object(Oe.a)(Object(Oe.a)({},e),{},{projects:t.payload});case Un.NEW_PROJECT:return e.projects.push(t.payload),Object(Oe.a)({},e);case Un.DELETE_PROJECT:var n=e.projects.findIndex((function(e){return e.Id===t.payload}));return-1!==n&&e.projects.splice(n,1),Object(Oe.a)({},e);case Un.TOGGLE_MODAL:return Object(Oe.a)(Object(Oe.a)({},e),{},{addProjectModal:t.payload});case Un.TOGGLE_CONFRIM_MODAL:return Object(Oe.a)(Object(Oe.a)({},e),{},{confrimModal:t.payload});case Un.SET_PROJECT_SAVE_TYPE:return Object(Oe.a)(Object(Oe.a)({},e),{},{projectSaveType:t.payload});default:return e}}}),or=function(){return Object(er.d)(ar,Object(er.a)(rr.a))}();c.a.render(Object(i.jsx)(ce.a,{store:or,children:Object(i.jsx)($i,{})}),document.getElementById("root"))}},[[666,1,2]]]);
//# sourceMappingURL=main.13b40385.chunk.js.map