(this.webpackJsonptoper=this.webpackJsonptoper||[]).push([[0],{733:function(e,t,n){},734:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n(0),r=n.n(c),o=n(21),a=n.n(o),l=n(185),s=n(35),d=n(22),u=n(16),j=n(31),O=n(32),h=n(40),f=n(39),p=n(34),b=n(20);function g(){var e=Object(p.a)(["\n\n\t\tbackground-color: ",";\n\t\tbackground-size: 50px 50px;\n\t\n\t\tbackground-image: linear-gradient(\n\t\t\t\t0deg,\n\t\t\t\ttransparent 24%,\n\t\t\t\t"," 25%,\n\t\t\t\t"," 26%,\n\t\t\t\ttransparent 27%,\n\t\t\t\ttransparent 74%,\n\t\t\t\t"," 75%,\n\t\t\t\t"," 76%,\n\t\t\t\ttransparent 77%,\n\t\t\t\ttransparent\n\t\t\t),\n\t\t\tlinear-gradient(\n\t\t\t\t90deg,\n\t\t\t\ttransparent 24%,\n\t\t\t\t"," 25%,\n\t\t\t\t"," 26%,\n\t\t\t\ttransparent 27%,\n\t\t\t\ttransparent 74%,\n\t\t\t\t"," 75%,\n\t\t\t\t"," 76%,\n\t\t\t\ttransparent 77%,\n\t\t\t\ttransparent\n\t\t\t);\n\t"]);return g=function(){return e},e}function v(){var e=Object(p.a)(["\ndisplay : flex;\njustify-content: center;\nbackground-color: ",";\n\n\n"]);return v=function(){return e},e}var x=b.default.div(v(),(function(e){return e.background})),m=(b.default.div(g(),(function(e){return e.background}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color})),function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){return Object(i.jsx)(x,{id:"diagramcv",background:this.props.background||"rgb(60, 60, 60)",color:this.props.color||"rgba(255,255,255, 0.05)",children:this.props.children})}}]),n}(c.Component)),y=n(786),k=n(820),I=n(429),A=n.n(I),C=n(430),N=n.n(C),E=n(427),P=n.n(E),w=n(821),D=n(789),S=n(791),T=n(426),F=n.n(T),M=n(428),z=n.n(M),R=n(431),U=n.n(R),L=n(300),V=n.n(L),Z=n(432),G=n.n(Z),q=n(433),B=n.n(q),J=n(425),H=n.n(J),W=n(808),X=Object(y.a)((function(e){return Object(k.a)({root:{border:"1px solid ".concat(e.palette.divider),borderRadius:e.shape.borderRadius,backgroundColor:"#F1F1F1",color:e.palette.text.secondary,"& svg":{margin:e.spacing(1)},"& hr":{margin:e.spacing(0,.5)}}})})),K=function(e){var t=e.onSave,n=e.onLoad,c=e.onZoomIn,r=e.onZoomOut,o=e.onZoomFit,a=e.newTable,l=X();return Object(i.jsx)("div",{children:Object(i.jsxs)(D.a,{container:!0,alignItems:"center",className:l.root,children:[Object(i.jsx)(H.a,{onClick:a}),Object(i.jsx)(F.a,{}),Object(i.jsx)(P.a,{}),Object(i.jsx)(z.a,{}),Object(i.jsx)(S.a,{orientation:"vertical",flexItem:!0}),Object(i.jsx)(A.a,{}),Object(i.jsx)(N.a,{}),Object(i.jsx)(S.a,{orientation:"vertical",flexItem:!0}),Object(i.jsxs)(W.a,{children:[Object(i.jsx)(w.a,{value:"50%",children:"50%"}),Object(i.jsx)(w.a,{value:"75%",children:"75%"}),Object(i.jsx)(w.a,{value:"100%",children:"100%"})]}),Object(i.jsx)(U.a,{onClick:c}),Object(i.jsx)(V.a,{onClick:r}),Object(i.jsx)(V.a,{onClick:o}),Object(i.jsx)(S.a,{orientation:"vertical",flexItem:!0}),Object(i.jsx)(G.a,{onClick:t}),Object(i.jsx)(B.a,{onClick:n})]})})},Q=n(794),Y=n(795),_=n(36),$=Object(y.a)((function(e){return Object(k.a)({root:{flexGrow:1},title:{flexGrow:1},menu:{marginRight:10},menuButton:{marginRight:e.spacing(2)}})})),ee=function(e){var t=e.onExport,n=$(),c=Object(_.c)((function(e){return e.ShareReducer.isLoading}));return Object(i.jsxs)("div",{className:n.root,children:[Object(i.jsx)("div",{style:{height:30,marginLeft:20},children:Object(i.jsx)(Q.a,{variant:"h6",color:"inherit",children:"Visual Draw"})}),Object(i.jsxs)("div",{style:{height:40},children:[Object(i.jsx)(Y.a,{children:"File"}),Object(i.jsx)(Y.a,{onClick:t,children:"Export"}),Object(i.jsx)(Y.a,{children:" Print"}),Object(i.jsx)(Y.a,{children:"Help"}),Object(i.jsx)(Q.a,{className:n.title}),c?Object(i.jsx)("div",{children:"Saving...."}):""]})]})},te=n(61),ne=n.n(te),ie=n(815),ce=n(796),re=n(435),oe=n.n(re),ae=n(813);function le(){var e=Object(p.a)(['\nwidth : 70%;\nbackground-color: "white";\nmargin : 15px;\nfont-size : 20px;\n\n']);return le=function(){return e},e}function se(){var e=Object(p.a)(["\n\ncolor : white;\nfont-size : 15px;\nmargin : 8px;\n\n"]);return se=function(){return e},e}function de(){var e=Object(p.a)(["\n\ncolor : white;\n\npadding : 15px;\nmargin-bottom : 10px;\n"]);return de=function(){return e},e}function ue(){var e=Object(p.a)(["\nwidth : 30%;\nheight: 100vh;\ncolor : white;\nfont-size : 20px;\nbackground-color: #005AA0;\n"]);return ue=function(){return e},e}var je,Oe=b.default.div(ue()),he=b.default.div(de()),fe=b.default.div(se()),pe=b.default.div(le()),be=function(e){var t=e.code,n=e.fileName,c=e.isRender,r=e.onDownloadClick,o=e.onInputChange;return c?Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Export sql"}),Object(i.jsx)(ae.a,{label:"file name",variant:"filled",value:n,onChange:o}),Object(i.jsx)(ae.a,{label:"Filled",variant:"filled",multiline:!0,rowsMax:20,style:{marginTop:20,width:"100%",height:400},value:t}),Object(i.jsx)(Y.a,{variant:"outlined",color:"primary",style:{marginRight:10},children:"Copy"}),Object(i.jsx)(Y.a,{variant:"contained",color:"primary",onClick:r,children:"Download"})]}):Object(i.jsx)("div",{})},ge=function(e){var t=e.fileName,n=e.isRender,c=(e.imageType,e.onDownloadClick),r=e.onInputChange;return n?Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:"Export Image"}),Object(i.jsx)(ae.a,{label:"file name",variant:"filled",value:t,onChange:r}),Object(i.jsx)(Y.a,{variant:"contained",color:"primary",onClick:c,children:"Download"})]}):Object(i.jsx)("div",{})};!function(e){e[e.Image=0]="Image",e[e.MySql=1]="MySql",e[e.SqlServer=2]="SqlServer",e[e.Postresql=3]="Postresql",e[e.Laravel=4]="Laravel"}(je||(je={}));var ve=function(e){var t=e.isOpen,n=e.onclose,r=e.exportPng,o=e.exportSql,a=e.exportTest,l=e.fileName,s=Object(c.useState)(je.Image),u=Object(d.a)(s,2),j=u[0],O=u[1],h=Object(c.useState)(""),f=Object(d.a)(h,2),p=f[0],b=f[1];Object(c.useEffect)((function(){!1===t&&b(l)}),[l]);var g=function(e){return b(e.target.value)};return Object(i.jsx)(ie.a,{anchor:"right",open:t,style:{width:400},onClose:n,children:Object(i.jsxs)("div",{style:{width:500,display:"flex"},role:"presentation",className:"",children:[Object(i.jsxs)(Oe,{children:[Object(i.jsx)(ce.a,{color:"inherit",size:"medium",children:Object(i.jsx)(oe.a,{})}),Object(i.jsxs)(he,{children:[Object(i.jsx)(fe,{onClick:function(){return O(je.MySql)},children:"Sql"}),Object(i.jsx)(fe,{onClick:function(){return O(je.Image)},children:"Image"}),Object(i.jsx)(fe,{onClick:function(){return a("filename test")},children:"Pdf"}),Object(i.jsx)(S.a,{style:{marginTop:10,color:"white"},light:!0}),Object(i.jsx)(fe,{children:"Laravel"}),Object(i.jsx)(fe,{children:"Golang Gin"})]})]}),Object(i.jsxs)(pe,{children:[Object(i.jsx)(be,{isRender:j==je.MySql,onInputChange:g,code:"",fileName:p,onDownloadClick:function(){o(p+".sql")}}),Object(i.jsx)(ge,{isRender:j==je.Image,onInputChange:g,imageType:"png",fileName:p,onDownloadClick:function(){r(p+".png")}})]})]})})},xe=n(18),me=function(e){var t=e.size,n=void 0===t?16:t,c=e.color,r=void 0===c?"gray":c;return Object(i.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",children:[Object(i.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),Object(i.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})},ye=function(e){var t=e.size,n=void 0===t?16:t,c=e.color,r=void 0===c?"gray":c;return Object(i.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",children:[Object(i.jsx)("circle",{cx:"6",cy:"6",r:"3"}),Object(i.jsx)("circle",{cx:"6",cy:"18",r:"3"}),Object(i.jsx)("line",{x1:"20",y1:"4",x2:"8.12",y2:"15.88"}),Object(i.jsx)("line",{x1:"14.47",y1:"14.48",x2:"20",y2:"20"}),Object(i.jsx)("line",{x1:"8.12",y1:"8.12",x2:"12",y2:"12"})]})},ke=function(e){var t=e.size,n=void 0===t?16:t,c=e.color,r=void 0===c?"gray":c;return Object(i.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",children:[Object(i.jsx)("polyline",{points:"3 6 5 6 21 6"}),Object(i.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),Object(i.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(i.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})},Ie=function(e){var t=e.size,n=void 0===t?16:t,c=e.color,r=void 0===c?"gray":c;return Object(i.jsx)("svg",{width:n,height:18*n/24,viewBox:"0 0 24 18",fill:"none",stroke:"none",strokeWidth:"2",children:Object(i.jsx)("g",{transform:"translate(-678.000000, -2727.000000)",children:Object(i.jsx)("g",{transform:"translate(100.000000, 2626.000000)",children:Object(i.jsx)("g",{transform:"translate(578.000000, 98.000000)",children:Object(i.jsxs)("g",{transform:"translate(0.000000, 0.000000)",children:[Object(i.jsx)("polygon",{points:"0 0 24 0 24 24 0 24"}),Object(i.jsx)("path",{d:"M15,8 C14.45,8 14,8.45 14,9 L14,11 L12,11 C11.45,11 11,11.45 11,12 C11,12.55 11.45,13 12,13 L14,13 L14,15 C14,15.55 14.45,16 15,16 C15.55,16 16,15.55 16,15 L16,13 L18,13 C18.55,13 19,12.55 19,12 C19,11.45 18.55,11 18,11 L16,11 L16,9 C16,8.45 15.55,8 15,8 Z M2,12 C2,9.42 3.4,7.17 5.48,5.96 C5.8,5.77 6.01,5.45 6.01,5.08 C6.01,4.31 5.17,3.83 4.5,4.22 C1.82,5.78 0,8.68 0,12 C0,15.32 1.82,18.22 4.5,19.78 C5.17,20.17 6.01,19.69 6.01,18.92 C6.01,18.55 5.8,18.23 5.48,18.04 C3.4,16.83 2,14.58 2,12 Z M15,3 C10.04,3 6,7.04 6,12 C6,16.96 10.04,21 15,21 C19.96,21 24,16.96 24,12 C24,7.04 19.96,3 15,3 Z M15,19 C11.14,19 8,15.86 8,12 C8,8.14 11.14,5 15,5 C18.86,5 22,8.14 22,12 C22,15.86 18.86,19 15,19 Z",fill:r})]})})})})})},Ae=function(e){var t=e.size,n=void 0===t?16:t,c=e.color,r=void 0===c?"gray":c;return Object(i.jsx)("svg",{width:n,height:n,fill:r,viewBox:"0 0 512.001 512.001",children:Object(i.jsx)("g",{children:Object(i.jsx)("g",{children:Object(i.jsxs)("g",{children:[Object(i.jsx)("path",{d:"M481,371c11.046,0,20-8.954,20-20v-92c0-33.084-26.916-60-60-60h-39v-79c0-44.112-35.888-80-80-80h-47.533 c-7.739-23.749-29.864-40-55.16-40h-25.614c-25.296,0-47.421,16.251-55.16,40H91c-44.112,0-80,35.888-80,80v312 c0,44.112,35.888,80,80,80h88c11.046,0,20-8.954,20-20c0-11.046-8.954-20-20-20H91c-22.056,0-40-17.944-40-40V120 c0-22.056,17.944-40,40-40h2v59c0,11.046,8.954,20,20,20h189c11.046,0,20-8.954,20-20V80c22.056,0,40,17.944,40,40v79h-65.007 C263.914,199,237,225.913,237,258.993v193.015c0,33.08,26.916,59.993,60.01,59.993L441,511.926c33.084,0,60-26.913,60-59.992 c0-11.046-8.954-20-20-20c-11.046,0-20,8.954-20,20c0,11.024-8.972,19.992-20.01,19.992L297,472c-11.028,0-20-8.969-20-19.993 V258.993c0-11.024,8.969-19.993,19.993-19.993H441c11.028,0,20,8.972,20,20v92C461,362.046,469.955,371,481,371z M282,119H133V80 h21c9.177,0,17.177-6.246,19.403-15.149l2.798-11.194C178.211,45.616,185.404,40,193.693,40h25.614 c8.289,0,15.481,5.616,17.492,13.657l2.798,11.194C241.823,73.754,249.823,80,259,80h23V119z"}),Object(i.jsx)("path",{d:"M401,279h-64c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h64c11.046,0,20-8.954,20-20 C421,287.954,412.047,279,401,279z"}),Object(i.jsx)("path",{d:"M401,349h-64c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h64c11.046,0,20-8.954,20-20 C421,357.954,412.047,349,401,349z"})]})})})})},Ce=function(e){var t=e.size,n=void 0===t?16:t,c=e.color,r=void 0===c?"gray":c;return Object(i.jsx)("svg",{width:n,height:n,viewBox:"0 0 512 512",fill:r,children:Object(i.jsx)("path",{d:"m431 481c0 11.046-8.954 20-20 20h-66c-11.046 0-20-8.954-20-20s8.954-20 20-20h66c11.046 0 20 8.954 20 20zm63.358-352.994-112.284-111.215c-7.848-7.773-20.511-7.713-28.284.135s-7.712 20.511.135 28.284l106.808 105.79h-285.733c-96.495 0-175 78.505-175 175s78.505 175 175 175h69c11.046 0 20-8.954 20-20s-8.954-20-20-20h-69c-74.439 0-135-60.561-135-135s60.561-135 135-135h284.836l-105.037 105.917c-7.778 7.843-7.725 20.506.118 28.284 3.9 3.868 8.992 5.799 14.083 5.799 5.146 0 10.292-1.975 14.202-5.917l111.225-112.157c11.332-11.332 17.573-26.4 17.573-42.426s-6.241-31.094-17.642-42.494z"})})},Ne=function(e){var t=e.size,n=void 0===t?16:t,c=e.color,r=void 0===c?"gray":c;return Object(i.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",children:[Object(i.jsx)("circle",{cx:"12",cy:"12",r:"3"}),Object(i.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})},Ee=function(e){var t=e.size,n=void 0===t?16:t,c=e.color,r=void 0===c?"gray":c;return Object(i.jsx)("svg",{width:n,height:n,viewBox:"0 0 512 512",fill:r,children:Object(i.jsx)("path",{d:"m 81,481 c 0,11.046 8.954,20 20,20 h 66 c 11.046,0 20,-8.954 20,-20 0,-11.046 -8.954,-20 -20,-20 h -66 c -11.046,0 -20,8.954 -20,20 z M 17.642,128.006 129.926,16.791 c 7.848,-7.773 20.511,-7.713 28.284,0.135 7.773,7.848 7.712,20.511 -0.135,28.284 L 51.267,151 H 337 c 96.495,0 175,78.505 175,175 0,96.495 -78.505,175 -175,175 h -69 c -11.046,0 -20,-8.954 -20,-20 0,-11.046 8.954,-20 20,-20 h 69 c 74.439,0 135,-60.561 135,-135 0,-74.439 -60.561,-135 -135,-135 H 52.164 l 105.037,105.917 c 7.778,7.843 7.725,20.506 -0.118,28.284 -3.9,3.868 -8.992,5.799 -14.083,5.799 -5.146,0 -10.292,-1.975 -14.202,-5.917 L 17.573,212.926 C 6.241,201.594 0,186.526 0,170.5 0,154.474 6.241,139.406 17.642,128.006 Z"})})},Pe=function(e){var t=e.size,n=void 0===t?16:t,c=e.color,r=void 0===c?"gray":c;return Object(i.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",children:[Object(i.jsx)("circle",{cx:"11",cy:"11",r:"8"}),Object(i.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),Object(i.jsx)("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),Object(i.jsx)("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]})},we=function(e){var t=e.size,n=void 0===t?16:t,c=e.color,r=void 0===c?"gray":c;return Object(i.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",children:[Object(i.jsx)("circle",{cx:"11",cy:"11",r:"8"}),Object(i.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),Object(i.jsx)("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]})};function De(){var e=Object(p.a)(["\n  display: inline-flex;\n  align-items: center;\n  height: ","px;\n  padding: 0 ","px;\n  margin: 2px ","px;\n  font-size: ","px;\n  font-family: monospace;\n  color: #000000c4;\n  background: #ececec;\n  border-radius: 4px;\n  border: 1px solid #ffffff17;\n  box-shadow: inset 0 0 ","px #0000000a;\n"]);return De=function(){return e},e}var Se=b.default.span(De(),(function(e){return e.size}),(function(e){return e.size/4}),(function(e){return e.size/8}),(function(e){return e.size/2}),(function(e){return e.size/4})),Te=function(e){var t=e.children,n=e.size,c=void 0===n?16:n;return Object(i.jsx)(Se,{size:c,children:t})};function Fe(){var e=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  width: 16px;\n  height: 16px;\n  margin-right: 16px;\n"]);return Fe=function(){return e},e}var Me=b.default.div(Fe());function ze(){var e=Object(p.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: flex-end;\n  margin-left: 8px;\n"]);return ze=function(){return e},e}var Re=b.default.div(ze()),Ue=function(e){var t=e.copyFunc,n=e.pasteFunc,c=e.deleteFunc,r=e.duplicateFunc,o=e.cutFunc,a=e.zoomIn,l=e.zoomOut;return Object(i.jsxs)(xe.Menu,{id:"component",children:[Object(i.jsxs)(xe.Item,{onClick:r,children:[Object(i.jsx)(Me,{children:Object(i.jsx)(Ie,{})}),"Duplicate",Object(i.jsxs)(Re,{children:[Object(i.jsx)(Te,{children:"CTRL"}),Object(i.jsx)(Te,{children:"D"})]})]}),Object(i.jsxs)(xe.Item,{onClick:o,children:[Object(i.jsx)(Me,{children:Object(i.jsx)(ye,{})}),"Cut",Object(i.jsxs)(Re,{children:[Object(i.jsx)(Te,{children:"CTRL"}),Object(i.jsx)(Te,{children:"X"})]})]}),Object(i.jsxs)(xe.Item,{onClick:t,children:[Object(i.jsx)(Me,{children:Object(i.jsx)(me,{})}),"Copy",Object(i.jsxs)(Re,{children:[Object(i.jsx)(Te,{children:"CTRL"}),Object(i.jsx)(Te,{children:"C"})]})]}),Object(i.jsxs)(xe.Item,{onClick:n,children:[Object(i.jsx)(Me,{children:Object(i.jsx)(Ae,{})}),"Paste",Object(i.jsxs)(Re,{children:[Object(i.jsx)(Te,{children:"CTRL"}),Object(i.jsx)(Te,{children:"V"})]})]}),Object(i.jsxs)(xe.Item,{onClick:c,children:[Object(i.jsx)(Me,{children:Object(i.jsx)(ke,{})}),"Delete",Object(i.jsx)(Re,{children:Object(i.jsx)(Te,{children:"Delete"})})]}),Object(i.jsx)(xe.Separator,{}),Object(i.jsxs)(xe.Item,{onClick:a,children:[Object(i.jsx)(Me,{children:Object(i.jsx)(Pe,{})}),"Zoom in"]}),Object(i.jsxs)(xe.Item,{onClick:l,children:[Object(i.jsx)(Me,{children:Object(i.jsx)(we,{})}),"Zoom out"]}),Object(i.jsx)(xe.Separator,{}),Object(i.jsxs)(xe.Item,{onClick:n,children:[Object(i.jsx)(Me,{children:Object(i.jsx)(Ee,{})}),"Undo",Object(i.jsxs)(Re,{children:[Object(i.jsx)(Te,{children:"CTRL"}),Object(i.jsx)(Te,{children:"Z"})]})]}),Object(i.jsxs)(xe.Item,{onClick:n,children:[Object(i.jsx)(Me,{children:Object(i.jsx)(Ce,{})}),"Redo",Object(i.jsxs)(Re,{children:[Object(i.jsx)(Te,{children:"CTRL"}),Object(i.jsx)(Te,{children:"SHIFT"}),Object(i.jsx)(Te,{children:"Z"})]})]}),Object(i.jsx)(xe.Separator,{}),Object(i.jsxs)(xe.Item,{children:[Object(i.jsx)(Me,{children:Object(i.jsx)(Ne,{})}),"Edit configurations...",Object(i.jsxs)(Re,{children:[Object(i.jsx)(Te,{children:"CTRL"}),Object(i.jsx)(Te,{children:"E"})]})]})]})},Le=function(e){var t=e.zoomIn,n=e.zoomOut,c=e.pasteFunc,r=e.redoFunc,o=e.undoFunc;return Object(i.jsxs)(xe.Menu,{id:"diagram",children:[Object(i.jsxs)(xe.Item,{onClick:c,children:[Object(i.jsx)(Me,{children:Object(i.jsx)(Ae,{})}),"Paste",Object(i.jsxs)(Re,{children:[Object(i.jsx)(Te,{children:"CTRL"}),Object(i.jsx)(Te,{children:"V"})]})]}),Object(i.jsx)(xe.Separator,{}),Object(i.jsxs)(xe.Item,{onClick:t,children:[Object(i.jsx)(Me,{children:Object(i.jsx)(Pe,{})}),"Zoom in"]}),Object(i.jsxs)(xe.Item,{onClick:n,children:[Object(i.jsx)(Me,{children:Object(i.jsx)(we,{})}),"Zoom out"]}),Object(i.jsx)(xe.Separator,{}),Object(i.jsxs)(xe.Item,{onClick:o,children:[Object(i.jsx)(Me,{children:Object(i.jsx)(Ee,{})}),"Undo",Object(i.jsxs)(Re,{children:[Object(i.jsx)(Te,{children:"CTRL"}),Object(i.jsx)(Te,{children:"Z"})]})]}),Object(i.jsxs)(xe.Item,{onClick:r,children:[Object(i.jsx)(Me,{children:Object(i.jsx)(Ce,{})}),"Redo",Object(i.jsxs)(Re,{children:[Object(i.jsx)(Te,{children:"CTRL"}),Object(i.jsx)(Te,{children:"SHIFT"}),Object(i.jsx)(Te,{children:"Z"})]})]})]})},Ve=(n(710),function(e){var t=e.copyFunc,n=e.deleteFunc,c=e.duplicateFunc,r=e.cutFunc,o=e.pasteFunc,a=e.zoomIn,l=e.zoomOut;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Le,{pasteFunc:o,zoomIn:a,zoomOut:l}),Object(i.jsx)(Ue,{copyFunc:t,pasteFunc:o,deleteFunc:n,duplicateFunc:c,cutFunc:r,zoomIn:a,zoomOut:l})]})}),Ze=n(26),Ge=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var i;return Object(j.a)(this,n),(i=t.call(this,{type:u.InputType.KEY_DOWN,fire:function(e){var t=e.event;console.log(JSON.stringify(t)),i.engine.getModel().isLocked()||i.matchesInput(t)&&(t.preventDefault(),i.handleAction())}})).handleAction=function(){console.log("delete"),i.engine.getModel().getSelectedEntities().filter((function(e){return!e.isLocked()})).forEach((function(e){return e.remove()})),i.engine.repaintCanvas()},i}return Object(O.a)(n,[{key:"matchesInput",value:function(e){return e.ctrlKey&&"Delete"===e.code}}]),n}(u.Action),qe=n(174),Be=n(83),Je=n(23),He=n(46),We=n(812),Xe=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;return Object(j.a)(this,n),"string"===typeof i&&(i={name:i,color:c}),(e=t.call(this,Object(Ze.a)({type:"default",name:"Untitled",color:"rgb(0,192,255)"},i))).portsIn=void 0,e.portsOut=void 0,e.fieldOptions=void 0,e.portsOut=[],e.portsIn=[],e.fieldOptions=[],e}return Object(O.a)(n,[{key:"performanceTune",value:function(){return!1}},{key:"doClone",value:function(e,t){console.log("original id : "+this.getID()),t.portsIn=[],t.portsOut=[],Object(qe.a)(Object(Be.a)(n.prototype),"doClone",this).call(this,e,t);for(var i=0;i<t.portsIn.length;i++)t.fieldOptions[i].portId=t.portsIn[i].getID()}},{key:"removeFieldbyId",value:function(e){var t=this.portsIn.findIndex((function(t){return t.getID()==e})),n=this.fieldOptions.findIndex((function(t){return t.portId==e}));-1!==t&&(-1!==n&&this.fieldOptions.splice(n,1),this.removeField(t))}},{key:"removePort",value:function(e){Object(qe.a)(Object(Be.a)(n.prototype),"removePort",this).call(this,e),e.getOptions().in?this.portsIn.splice(this.portsIn.indexOf(e),1):this.portsOut.splice(this.portsOut.indexOf(e),1)}},{key:"updateNode",value:function(e){for(var t=e.fields,n=this.getAllField(),i=0;i<t.length;i++)n[i].fieldName!==t[i].fieldName&&(this.portsIn[i].getOptions().label=t[i].fieldName),n[i].fieldType!==t[i].fieldType&&(this.portsOut[i].getOptions().label=t[i].fieldType)}},{key:"addField",value:function(e){var t=this.addInPort(e.fieldName),n=this.addOutPort(e.fieldType),i={portId:t.getID(),ai:!1,pk:!1,fk:!1,fkTb:"",fkField:""};return this.fieldOptions.push(i),[t,n]}},{key:"removeField",value:function(e){this.removePort(this.portsIn[e]),this.removePort(this.portsOut[e])}},{key:"AddNewField",value:function(){this.addField({fieldName:"test",fieldType:"int"})}},{key:"addOrUpdateFieldOption",value:function(e){var t=this.fieldOptions.findIndex((function(t){return t.portId===e.inId}));if(-1!==t&&void 0!==e.fieldOption){this.fieldOptions[t]=e.fieldOption,console.log(e.fieldOption);var n=e.fieldOption;if(void 0!=n)void 0===n.fkTb||n.fkTb,void 0===n.fkField||n.fkField,void 0===e.inId||e.inId}}},{key:"linkForeignKey",value:function(e,t,n){alert("do link");var i=e.getPortFromID(t),c=this.getPortFromID(n);if(null!==c&&null!==i){alert("complete link"),console.log("main field "+c.getOptions().label+" link with : "+i.getOptions().label),console.log(c.getOptions().in),console.log(i.getOptions().in);var r=i.link(c);return i.reportPosition(),c.reportPosition(),r}}},{key:"getAllField",value:function(){var e=this.portsIn,t=(this.portsOut,[]);console.log("get field lenght : "+e.length),console.log(this.fieldOptions);for(var n=0;n<e.length;n++){console.log("check field "+n);var i=this.getField(n);console.log(i),t.push(i)}return t}},{key:"getField",value:function(e){var t=this.portsIn[e].getOptions().label,n=this.portsOut[e].getOptions().label,i=this.portsIn[e].getID();console.log("check id : "+i);var c=this.fieldOptions.findIndex((function(e){return e.portId===i}));if(console.log("fieldopt index : "+c),-1===c){return{inId:"",outId:"",fieldName:"",fieldType:""}}var r=this.fieldOptions[c];return console.log("field name : "+t+" pk : "+r.pk+" fk : "+r.fk),void 0===t&&(t=""),void 0===n&&(n=""),{inId:this.portsIn[e].getID(),outId:this.portsOut[e].getID(),fieldName:t,fieldType:n,fieldOption:r}}},{key:"updatePort",value:function(e,t){}},{key:"addPort",value:function(e){return Object(qe.a)(Object(Be.a)(n.prototype),"addPort",this).call(this,e),e.getOptions().in?-1===this.portsIn.indexOf(e)&&this.portsIn.push(e):-1===this.portsOut.indexOf(e)&&this.portsOut.push(e),e}},{key:"addInPort",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(We.a)(),i=new te.DefaultPortModel({in:!0,name:n,label:e,alignment:He.PortModelAlignment.LEFT});return t||this.portsIn.splice(0,0,i),this.addPort(i)}},{key:"addOutPort",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(We.a)(),i=new te.DefaultPortModel({in:!1,name:n,label:e,alignment:He.PortModelAlignment.RIGHT});return t||this.portsOut.splice(0,0,i),this.addPort(i)}},{key:"deserialize",value:function(e){var t=this;Object(qe.a)(Object(Be.a)(n.prototype),"deserialize",this).call(this,e),this.options.name=e.data.name,this.options.color=e.data.color,this.fieldOptions=e.data.fields,console.log(this.fieldOptions),this.portsIn=Je.map(e.data.portsInOrder,(function(e){return t.getPortFromID(e)})),this.portsOut=Je.map(e.data.portsOutOrder,(function(e){return t.getPortFromID(e)})),console.log("deserial call on shemaModel"),console.log("after deserial")}},{key:"deserializeFieldOption",value:function(){}},{key:"serializeClone",value:function(e){console.log("serial clone"),console.log(e)}},{key:"serialize",value:function(){var e=this;console.log("call serialize on model");var t=[];console.log(this.fieldOptions);for(var i=function(n){var i=e.fieldOptions.findIndex((function(t){return t.portId===e.portsIn[n].getID()}));if(console.log("fieldOptIndex : "+i),-1===i)return"continue";t.push({portId:e.portsIn[n].getID(),fieldName:e.portsIn[n].getOptions().label,fieldType:e.portsOut[n].getOptions().label,ai:e.fieldOptions[i].ai,pk:e.fieldOptions[i].pk})},c=0;c<this.portsIn.length;c++)i(c);return Object(Ze.a)(Object(Ze.a)({},Object(qe.a)(Object(Be.a)(n.prototype),"serialize",this).call(this)),{},{name:this.options.name,color:this.options.color,fields:t,portsInOrder:Je.map(this.portsIn,(function(e){return e.getID()})),portsOutOrder:Je.map(this.portsOut,(function(e){return e.getID()}))})}},{key:"toJson",value:function(){for(var e=this,t=[],n=function(n){var i=e.fieldOptions.findIndex((function(t){return t.portId===e.portsIn[n].getID()}));if(-1===i)return"continue";var c={fieldName:e.portsIn[n].getOptions().label,fieldType:e.portsOut[n].getOptions().label,fieldOption:e.fieldOptions[i]};t.push(c)},i=0;i<this.portsIn.length;i++)n(i);return{name:this.options.name,color:this.options.color,fields:t}}},{key:"getInPorts",value:function(){return this.portsIn}},{key:"getOutPorts",value:function(){return this.portsOut}}]),n}(He.NodeModel),Ke=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var i;return Object(j.a)(this,n),(i=t.call(this,{type:u.InputType.KEY_DOWN,fire:function(t){var n=t.event;e&&(i.engine.getModel().isLocked()||i.matchesInput(n)&&(n.preventDefault(),i.handleAction()))}})).handleAction=function(){var e=new Xe({name:"Product",color:"rgb(0,192,255)"});e.addField({fieldName:"Id",fieldType:"int"}),e.setPosition(100,100),i.engine.getModel().addAll(e),i.engine.repaintCanvas()},i}return Object(O.a)(n,[{key:"matchesInput",value:function(e){return e.ctrlKey&&"KeyB"===e.code}}]),n}(u.Action),Qe=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var i;return Object(j.a)(this,n),(i=t.call(this,{type:u.InputType.KEY_DOWN,fire:function(t){var n=t.event;e&&(i.engine.getModel().isLocked()||i.matchesInput(n)&&(n.preventDefault(),i.handleAction()))}})).handleAction=function(){var e=i.engine.getModel(),t=e.getSelectedEntities().filter((function(e){return e instanceof u.BaseModel})).filter((function(e){return!e.isLocked()})).map((function(e){return e.clone()}));e.clearSelection(),t.forEach((function(t){t instanceof te.NodeModel&&(e.addNode(t),t.setSelected(!0))})),i.engine.repaintCanvas()},i}return Object(O.a)(n,[{key:"matchesInput",value:function(e){return e.ctrlKey&&"KeyD"===e.code}}]),n}(u.Action),Ye=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var i;return Object(j.a)(this,n),(i=t.call(this,{type:u.InputType.KEY_DOWN,fire:function(t){var n=t.event;if(e&&!i.engine.getModel().isLocked()&&i.matchesInput(n)){n.preventDefault();var c=n;"KeyX"===c.code&&i.handleCut(),"KeyC"===c.code&&i.handleCopy(),"KeyV"===c.code&&i.handlePaste()}}})).getSelectedComponents=function(){return i.engine.getModel().getSelectedEntities().filter((function(e){return e instanceof Xe})).filter((function(e){return!e.isLocked()}))},i}return Object(O.a)(n,[{key:"matchesInput",value:function(e){return e.ctrlKey&&("KeyX"===e.code||"KeyC"===e.code||"KeyV"===e.code)}},{key:"handleCut",value:function(){var e=this.getSelectedComponents(),t=e[0].clone().serialize();localStorage.setItem("clipboard",JSON.stringify(t)),e.forEach((function(e){return e.remove()})),this.engine.repaintCanvas()}},{key:"handleCopy",value:function(){var e=this.getSelectedComponents()[0].clone().serialize();console.log(e),localStorage.setItem("clipboard",JSON.stringify(e))}},{key:"onPromise",value:function(e){return new Promise((function(e,t){e(new Xe)}))}},{key:"handlePaste",value:function(){var e=localStorage.getItem("clipboard");null==e&&(e="");var t=JSON.parse(e);if(t){console.log(t);var n=new Xe,i={data:t,engine:this.engine,registerModel:function(){}};n.deserialize(i),n.setPosition(100,100),console.log(n),this.engine.getModel().addAll(n),this.engine.repaintCanvas()}}}]),n}(u.Action);function _e(){var e=Object(p.a)(["\n\t\twidth: 16px;\n\t\theight: 21px;\n\t\tbackground: rgba(255, 255, 244, 0.1);\n\t\t&:hover {\n\t\t\tbackground: rgb(192, 255, 0);\n\t\t}\n\t"]);return _e=function(){return e},e}function $e(){var e=Object(p.a)(["\n\t\tpadding: 0 5px;\n\t\tflex-grow: 1;\n\t"]);return $e=function(){return e},e}function et(){var e=Object(p.a)(["\n\t\tdisplay: flex;\n\t\tmargin-top: 1px;\n\t\talign-items: center;\n\t\t&:hover {\n\t\t\tbackground: rgb(192, 255, 0);\n\t\t}\n\t"]);return et=function(){return e},e}var tt=b.default.div(et()),nt=b.default.div($e()),it=b.default.div(_e()),ct=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=Object(i.jsx)(He.PortWidget,{engine:this.props.engine,port:this.props.port,children:Object(i.jsx)(it,{})}),t=Object(i.jsx)(nt,{children:this.props.port.getOptions().label});return Object(i.jsx)(xe.MenuProvider,{id:"nodeedit",storeRef:!1,children:Object(i.jsxs)(tt,{children:[this.props.port.getOptions().in?e:t,this.props.port.getOptions().in?t:e]})})}}]),n}(c.Component),rt=n(149),ot=n.n(rt);function at(){var e=Object(p.a)(["\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\t&:first-of-type {\n\t\t\tmargin-right: 10px;\n\t\t}\n\t\t&:only-child {\n\t\t\tmargin-right: 0px;\n\t\t}\n\t"]);return at=function(){return e},e}function lt(){var e=Object(p.a)(["\n\t\tdisplay: flex;\n\t\tcolor : #5E666E;\n\t\tfont-weight: 600;\n\t\tbackground-color: white;\n\t"]);return lt=function(){return e},e}function st(){var e=Object(p.a)(["\n\t\tmargin-left : 10px;\n\t\tflex-grow: 1;\n\t\tpadding: 10px 5px;\n\t"]);return st=function(){return e},e}function dt(){var e=Object(p.a)(["\n\t\tbackground-color: #005AA0;\n\t\tdisplay: flex;\n\t\tfont-weight: 600;\n\t\twhite-space: nowrap;\n\t\tjustify-items: center;\n\t"]);return dt=function(){return e},e}function ut(){var e=Object(p.a)(["\n\t\n\t\n\n\t\tborder-style: solid;\n\n\t\tborder-color : grey;\n\n\t\tborder-width: thin;\n\n\t\tcolor: white;\n\t\t\n\t\toverflow: visible;\n\t\tfont-size: 13px;\n\t\t\n\t"]);return ut=function(){return e},e}var jt=b.default.div(ut()),Ot=b.default.div(dt()),ht=b.default.div(st()),ft=b.default.div(lt()),pt=b.default.div(at()),bt=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(j.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).generatePort=function(t){return Object(i.jsx)(ct,{engine:e.props.engine,port:t},t.getID())},e}return Object(O.a)(n,[{key:"fireAction",value:function(e){this.props.engine.getActionEventBus().fireAction({event:Object(Ze.a)(Object(Ze.a)({},e),{},{key:"",preventDefault:function(){},stopPropagation:function(){}})})}},{key:"fireDeleteEvent",value:function(e){this.fireAction({type:"keydown",ctrlKey:!0,code:"Delete"})}},{key:"fireDoubleClick",value:function(e){console.log("double click"),void 0!=e?e.fireEvent({},"onDoubleClick"):console.log("unid")}},{key:"render",value:function(){var e=this;return Object(i.jsxs)(jt,{"data-default-node-name":this.props.node.getOptions().name,selected:this.props.node.isSelected(),background:this.props.node.getOptions().color,onDoubleClick:function(){return e.fireDoubleClick(e.props.engine)},children:[Object(i.jsxs)(Ot,{children:[Object(i.jsx)(ht,{children:this.props.node.getOptions().name}),Object(i.jsx)(ce.a,{onClick:function(){return e.fireDeleteEvent(e.props.engine)},color:"inherit",size:"small",children:Object(i.jsx)(ot.a,{})})]}),Object(i.jsxs)(ft,{children:[Object(i.jsx)(pt,{children:Je.map(this.props.node.getInPorts(),this.generatePort)}),Object(i.jsx)(pt,{children:Je.map(this.props.node.getOutPorts(),this.generatePort)})]})]})}}]),n}(c.Component),gt=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(j.a)(this,n),t.call(this,"default")}return Object(O.a)(n,[{key:"generateReactWidget",value:function(e){return Object(i.jsx)(xe.MenuProvider,{id:"component",storeRef:!1,data:e.model,children:Object(i.jsx)(bt,{engine:this.engine,node:e.model})})}},{key:"generateModel",value:function(e){return new Xe("Node 2","rgb(192,255,0)")}}]),n}(u.AbstractReactFactory);function vt(){var e=ne()({registerDefaultDeleteItemsAction:!1});e.getNodeFactories().registerFactory(new gt);var t=new te.DiagramModel;return e.setModel(t),e}vt();var xt=function(){function e(){var t=this;Object(j.a)(this,e),this.isLock=void 0,this.engine=void 0,this.copySelected=function(){t.fireAction({type:"keydown",ctrlKey:!0,code:"KeyC"})},this.duplicateSelected=function(){t.fireAction({type:"keydown",ctrlKey:!0,code:"KeyD"})},this.cutSelected=function(){return t.fireAction({type:"keydown",ctrlKey:!0,code:"KeyX"})},this.pasteSelected=function(){return t.fireAction({type:"keydown",ctrlKey:!0,code:"KeyV"})},this.deleteSelected=function(){return t.fireAction({type:"keydown",ctrlKey:!0,code:"Delete"})},this.undo=function(){return t.fireAction({type:"keydown",ctrlKey:!0,code:"KeyZ"})},this.isLock=!1,this.engine=vt(),this.initActions(),console.log(this.getEngine().getModel().getZoomLevel());var n=this.getEngine().getModel().getLinks();this.getEngine().getModel().getModels();console.log(n)}return Object(O.a)(e,[{key:"initActions",value:function(){var e=this;[new Ge(!0),new Ke(!0),new Qe(!0),new Ye(!0)].forEach((function(t){return e.engine.getActionEventBus().registerAction(t)}))}},{key:"fireAction",value:function(e){this.engine.getActionEventBus().fireAction({event:Object(Ze.a)(Object(Ze.a)({},e),{},{key:"",preventDefault:function(){},stopPropagation:function(){}})})}},{key:"currentNode",value:function(){var e=this.engine.getModel().getSelectedEntities().filter((function(e){return!e.isLocked()}));if(0!=e.length){var t=e[0];if(t instanceof Xe!==!1)return t}}},{key:"saveDataByString",value:function(e){var t=new te.DiagramModel,n=JSON.parse(e);t.deserializeModel(n,this.getEngine()),null!=t?this.getEngine().setModel(t):console.log("model null")}},{key:"linktest",value:function(){this.linkNode()}},{key:"linkNode",value:function(){var e=this.getEngine().getModel().getNodes();alert(e[1].getOptions().name);var t=e[0].getOutPorts()[0],n=e[1].getInPorts()[0],i=t.link(n);n.reportPosition(),t.reportPosition(),this.getEngine().getModel().addAll(i),this.getEngine().repaintCanvas()}},{key:"updateNodeName",value:function(e){var t=this.currentNode();void 0!=t&&(t.getOptions().name=e,this.getEngine().repaintCanvas())}},{key:"linkModel",value:function(e,t,n){var i=this.currentNode();if(void 0!=i){var c=this.engine.getModel().getNode(e),r=i.linkForeignKey(c,t,n);void 0!=r&&(this.engine.getModel().addAll(r),this.engine.repaintCanvas())}}},{key:"setCurrentNode",value:function(e){this.engine.repaintCanvas()}},{key:"updateNode",value:function(e){var t=this.currentNode();void 0!=t&&(t.updateNode(e),this.getEngine().repaintCanvas())}},{key:"testEdit",value:function(){var e=this.currentNode();void 0!=e&&(e.updateNode({tablename:"top",fields:[{fieldName:"Id",fieldType:"int"},{fieldName:"ProductId",fieldType:"varchar"},{fieldName:"Id",fieldType:"int"}]}),this.getEngine().repaintCanvas())}},{key:"doZoom",value:function(e){var t=this.getEngine().getModel(),n=t.getZoomLevel();console.log(n),t.setZoomLevel(n+e),this.getEngine().repaintCanvas()}},{key:"updateFieldOption",value:function(e){var t=this.currentNode();void 0!=t&&t.addOrUpdateFieldOption(e)}},{key:"newNode",value:function(){this.fireAction({type:"keydown",ctrlKey:!0,code:"KeyB"})}},{key:"zoomIn",value:function(e){this.fireAction({clientX:e.clientX,clientY:e.clientY,type:"wheel",deltaY:1})}},{key:"zoomOut",value:function(e){this.fireAction({clientX:e.clientX,clientY:e.clientY,type:"wheel",deltaY:-1})}},{key:"getEngine",value:function(){return this.engine}}]),e}(),mt=n(797),yt=n(798),kt=n(436),It=n.n(kt),At=Object(y.a)((function(e){return Object(k.a)({root:{flexGrow:0},inputEdit:{backgroundColor:"#3F51B5",padding:8,color:"white",border:"none",borderRadius:4,fontSize:20},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})})),Ct=function(e){var t=e.onDelete,n=e.title,r=e.onEndEdit,o=At(),a=Object(c.useState)(!1),l=Object(d.a)(a,2),s=l[0],u=l[1],j=Object(c.useState)(""),O=Object(d.a)(j,2),h=O[0],f=O[1];return Object(i.jsx)("div",{className:o.root,children:Object(i.jsx)(mt.a,{position:"static",elevation:0,children:Object(i.jsxs)(yt.a,{children:[Object(i.jsx)(ce.a,{edge:"start",className:o.menuButton,color:"inherit","aria-label":"menu",children:Object(i.jsx)(It.a,{})}),s?Object(i.jsx)("input",{value:h,onChange:function(e){f(e.target.value)},onBlur:function(){u(!s),r(h)},className:o.inputEdit}):Object(i.jsx)(Q.a,{variant:"h6",className:o.title,onClick:function(){u(!0),f(n)},children:n}),Object(i.jsx)(ce.a,{color:"inherit",onClick:t,children:Object(i.jsx)(ot.a,{})})]})})})},Nt=n(800),Et=n(804),Pt=n(803),wt=n(799),Dt=n(801),St=n(802),Tt=n(437),Ft=n.n(Tt),Mt=Object(y.a)((function(e){return Object(k.a)({styledTable:{borderCollapse:"collapse",margin:"25px 0",fontSize:"0.9em",fontFamily:"sans-serif",minWidth:"400px",boxShadow:"0 0 20px rgba(0, 0, 0, 0.15)"},cell:{padding:10}})})),zt=function(e){var t=e.isOpen,n=e.diagramctr,r=e.onclose,o=e.forceUpdate,a=Mt(),l=Object(c.useState)(J(n)),s=Object(d.a)(l,2),u=s[0],j=s[1],O=Object(c.useState)(function(){var e=[];return n.getEngine().getModel().getNodes().forEach((function(t){var n=t.getOptions().name;void 0==n&&(n="");var i={id:t.getID(),tablename:n,fields:t.getAllField()};e.push(i)})),e}()),h=Object(d.a)(O,2),f=h[0],p=(h[1],Object(c.useState)("")),b=Object(d.a)(p,2),g=b[0],v=b[1],x=Object(c.useState)(!1),m=Object(d.a)(x,2),y=m[0],k=m[1],I=Object(c.useState)(""),A=Object(d.a)(I,2),C=A[0],N=A[1],E=Object(c.useState)(""),P=Object(d.a)(E,2),w=P[0],D=P[1],S=Object(c.useMemo)((function(){return function(){if(""==C)return[];var e=f.find((function(e){return e.id===C}));return void 0==e?[]:e.fields}()}),[C]),T=Object(c.useState)(!1),F=Object(d.a)(T,2),M=F[0],z=F[1],R=Object(c.useState)(""),U=Object(d.a)(R,2),L=U[0],V=U[1],Z=Object(c.useState)(""),G=Object(d.a)(Z,2),q=G[0],B=G[1];function J(e){var t={id:"",tablename:"",fields:[]},n=e.currentNode();if(void 0==n)return t;if(n instanceof Xe){console.log("Start getNodeData function");var i=n,c=i.getOptions().name;void 0===c&&(c=""),t.tablename=c,t.id=i.getID(),t.fields=function(e){var t=e.getAllField();return console.log("get all fields"),console.log(t),t}(i)}return t}function H(e,t){void 0===e&&(e=""),k(!0),v(t),V(e)}function W(){k(!0),function(){var e=u,t=e.fields.findIndex((function(e){return e.inId==L}));if(-1==t)return;e.fields[t].fieldName=g,""!=q&&(e.fields[t].fieldType=q);j(e),n.updateNode(e)}(),V("")}function X(e){v(e.target.value)}function K(e){B(e.target.value)}function Q(e){N(e.target.value)}function Y(e){var t=e.target.value,i=u.fields.find((function(e){return e.inId==L}));if(D(t),(void 0==u.id?"":void 0==u.id)!=C&&void 0!=i){alert("on link");var c=void 0==i.inId?"":i.inId;n.linkModel(C,t,c)}}function _(e,t){var n=e.fieldOption;return void 0==n?(console.log("field option undifine"),!1):"pk"==t?n.pk:"fk"==t?n.fk:void 0}function $(e,t,i){if(void 0!=t){console.log(i);var c=u.fields.findIndex((function(e){return e.inId==t})),r=u,o=r.fields[c].fieldOption;void 0!=o&&("pk"==i&&(o.pk=!o.pk),"fk"==i&&(o.fk=!o.fk),r.fields[c].fieldOption=o,j(r),console.log(o),n.updateFieldOption(r.fields[c]),z(!M))}}return Object(c.useEffect)((function(){j(J(n)),console.log("update tb")}),[t,M,o]),Object(i.jsx)(ie.a,{anchor:"right",open:t,style:{width:600},onClose:r,children:Object(i.jsxs)("div",{children:[Object(i.jsx)(Ct,{onDelete:function(){void 0!=n.currentNode()&&(n.deleteSelected(),r())},title:u.tablename,onEndEdit:function(e){var t=u;t.tablename=e,j(t),n.updateNodeName(e),z(!M)}}),Object(i.jsx)(wt.a,{children:Object(i.jsxs)(Nt.a,{"aria-label":"simple table",children:[Object(i.jsx)(Dt.a,{children:Object(i.jsxs)(St.a,{children:[Object(i.jsx)(Pt.a,{className:a.cell,children:"Field Name"}),Object(i.jsx)(Pt.a,{className:a.cell,children:"Type Name"}),Object(i.jsx)(Pt.a,{className:a.cell,children:"PK"}),Object(i.jsx)(Pt.a,{className:a.cell,children:"FK"}),Object(i.jsx)(Pt.a,{className:a.cell,children:"Action"})]})}),Object(i.jsx)(Et.a,{children:u.fields.map((function(e,t){return Object(i.jsxs)(St.a,{className:a.cell,children:[y&&L==e.inId?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Pt.a,{component:"th",scope:"row",className:a.cell,children:Object(i.jsx)("input",{onBlur:function(){return W()},onChange:X,value:g})}),Object(i.jsx)(Pt.a,{component:"th",scope:"row",className:a.cell,children:Object(i.jsxs)("select",{onChange:K,value:q,children:[Object(i.jsx)("option",{value:"int",children:"Interger"}),Object(i.jsx)("option",{value:"varchar",children:"Varchar"}),Object(i.jsx)("option",{value:"float",children:"Float"}),Object(i.jsx)("option",{value:"bool",children:"Boolean"})]})}),Object(i.jsxs)(Pt.a,{component:"th",scope:"row",className:a.cell,children:[Object(i.jsx)("select",{placeholder:"Select Table",value:C,onChange:Q,children:f.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.tablename},e.id)}))}),Object(i.jsx)("select",{placeholder:"Select Field",value:w,onChange:Y,children:S.map((function(e){return Object(i.jsx)("option",{value:e.outId,children:e.fieldName},e.fieldName)}))})]})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(Pt.a,{className:a.cell,component:"th",scope:"row",onClick:function(){return H(e.inId,e.fieldName)},children:e.fieldName}),Object(i.jsx)(Pt.a,{className:a.cell,component:"th",scope:"row",onClick:function(){return H(e.inId,e.fieldName)},children:e.fieldType})]}),Object(i.jsx)(Pt.a,{className:a.cell,children:Object(i.jsx)("input",{type:"checkbox",checked:_(e,"pk"),onChange:function(t){return $(0,e.inId,"pk")}},"pk".concat(e.inId))}),Object(i.jsx)(Pt.a,{children:Object(i.jsx)("input",{type:"checkbox",checked:_(e,"fk"),onChange:function(t){return $(0,e.inId,"fk")}})}),Object(i.jsx)(Pt.a,{className:a.cell,children:Object(i.jsx)(ce.a,{onClick:function(){return function(e){if(void 0!=e){var t=n.currentNode();void 0!=t&&(t.removeFieldbyId(e),z(!M),n.getEngine().repaintCanvas())}}(e.inId)},size:"small",children:Object(i.jsx)(ot.a,{})})})]},e.fieldName)}))})]})}),Object(i.jsx)(ce.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){return function(){var e=n.currentNode();if(void 0!=e){e.AddNewField();var t=u;t.fields.push({fieldName:"test",fieldType:"int"}),j(t),z(!M),n.getEngine().repaintCanvas()}}()},children:Object(i.jsx)(Ft.a,{})})]})})},Rt=function(){return Object(i.jsxs)(xe.Menu,{id:"nodeedit",children:[Object(i.jsxs)(xe.Item,{children:[Object(i.jsx)(Me,{children:Object(i.jsx)(Ae,{})}),"Paste",Object(i.jsxs)(Re,{children:[Object(i.jsx)(Te,{children:"CTRL"}),Object(i.jsx)(Te,{children:"V"})]})]}),Object(i.jsx)(xe.Separator,{}),Object(i.jsxs)(xe.Item,{children:[Object(i.jsx)(Me,{children:Object(i.jsx)(Pe,{})}),"Zoom in"]}),Object(i.jsxs)(xe.Item,{children:[Object(i.jsx)(Me,{children:Object(i.jsx)(we,{})}),"Zoom out"]}),Object(i.jsx)(xe.Separator,{}),Object(i.jsxs)(xe.Item,{children:[Object(i.jsx)(Me,{children:Object(i.jsx)(Ee,{})}),"Undo",Object(i.jsxs)(Re,{children:[Object(i.jsx)(Te,{children:"CTRL"}),Object(i.jsx)(Te,{children:"Z"})]})]}),Object(i.jsxs)(xe.Item,{children:[Object(i.jsx)(Me,{children:Object(i.jsx)(Ce,{})}),"Redo",Object(i.jsxs)(Re,{children:[Object(i.jsx)(Te,{children:"CTRL"}),Object(i.jsx)(Te,{children:"SHIFT"}),Object(i.jsx)(Te,{children:"Z"})]})]})]})},Ut=n(441),Lt=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getFields",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=", \n \t",i="".concat(e.fieldName," ").concat(e.fieldType);return 0==t&&(i+=n),i}},{key:"getCreateTable",value:function(e){var t=this,n="";return e.fields.forEach((function(i,c){var r=!1;e.fields.length-1==c&&(r=!0),n+=t.getFields(i,r)})),"CREATE TABLE ".concat(e.tablename," (\n \t").concat(n," \n ) ")}},{key:"export",value:function(e){var t=this,n="";return e.forEach((function(e){n+=t.getCreateTable(e),n+="\n \n"})),n}}]),n}(function(){function e(){Object(j.a)(this,e)}return Object(O.a)(e,[{key:"getFields",value:function(e){return""}},{key:"getCreateTable",value:function(e){return""}},{key:"export",value:function(e){return""}}]),e}());var Vt,Zt,Gt=n(98),qt=n.n(Gt),Bt=n(49),Jt=n.n(Bt);function Ht(e){return{projectName:e.ProjectName,projectDescription:e.ProjectDescription,projectDetail:e.ProjectDetail,user:e.UserId,visibleStatus:e.VisibleStatus,shareUrl:e.ShareUrl}}function Wt(e){return{type:Vt.TOGGLE_LOADING,payload:e}}!function(e){e.TOGGLE_LOADING="TOGGLE_LOADING"}(Vt||(Vt={})),function(e){e[e.Public=0]="Public",e[e.Private=1]="Private",e[e.Protected=2]="Protected"}(Zt||(Zt={}));var Xt,Kt,Qt=function(){var e=Object(s.g)().projectId,t=Object(_.c)((function(e){return e.AuthReducer.user})),n=Object(_.b)(),o=Object(c.useState)(!1),a=Object(d.a)(o,2),l=a[0],j=(a[1],Object(c.useState)(!0)),O=Object(d.a)(j,2),h=(O[0],O[1]),f=Object(c.useState)(new xt),p=Object(d.a)(f,2),b=p[0],g=(p[1],Object(c.useState)(!0)),v=Object(d.a)(g,2),x=(v[0],v[1]),y=Object(c.useState)(!1),k=Object(d.a)(y,2),I=(k[0],k[1],Object(c.useState)(function(){Object(We.a)();return{ProjectName:"Projecttyu",ProjectDescription:"hello world",ProjectDetail:"",VisibleStatus:Zt.Private,UserId:t.Id,ShareUrl:"xff"}}())),A=Object(d.a)(I,2),C=A[0],N=(A[1],Object(c.useState)(!1)),E=Object(d.a)(N,2),P=E[0],w=E[1],D=Object(c.useState)(""),S=Object(d.a)(D,2),T=(S[0],S[1],Object(c.useState)(!1)),F=Object(d.a)(T,2),M=F[0],z=F[1];Object(c.useEffect)((function(){b.getEngine().registerListener({onDoubleClick:function(){return L()}}),function(){var e=qt.a.get("ertoken");void 0===e||""===e?(h(!1),x(!0)):(Jt.a.defaults.headers.common.Authorization="Bearer "+e,R())}()}),[]);var R=function(){var t="project/loadproject/"+e;Jt.a.get("https://toperbackend.herokuapp.com/"+t).then((function(e){b.saveDataByString(e.data.projectDetail)}))};function U(e){var t=document.getElementById("diagramcv");null!=t&&Ut.a(t).then((function(t){(new Image).src=t;var n=document.createElement("a");n.href=t,n.download=e,n.click()})).catch((function(e){console.error("oops, something went wrong!",e)}))}function L(){z(!M)}function V(){var e=document.getElementById("fileinput");if(e&&document.createEvent){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!1),e.dispatchEvent(t)}}function Z(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function G(){b.doZoom(20)}function q(){b.doZoom(-20)}return Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(ee,{onExport:function(){w(!0)}}),Object(i.jsx)(K,{onZoomIn:G,onZoomOut:q,onZoomFit:V,newTable:function(){b.newNode()},onSave:function(){var t=C,i="project/update/"+e,c=b.getEngine().getModel().serialize(),r=JSON.stringify(c);t.ProjectDetail=r;var o=Ht(t);n(Wt(!0)),Jt.a.put("https://toperbackend.herokuapp.com/"+i,o).then((function(e){console.log(e),n(Wt(!1))}))},onLoad:V}),Object(i.jsx)(ve,{isOpen:P,onclose:function(){return w(!1)},exportTest:function(e){alert(e)},exportPng:U,exportPdf:U,exportSql:function(e){!function(e,t){var n=function(e){var t=[];return e.getEngine().getModel().getNodes().forEach((function(e){var n=e.getOptions().name;void 0==n&&(n="");var i={id:e.getID(),tablename:n,fields:e.getAllField()};t.push(i)})),t}(b),i=t.export(n);alert(i),Z(e,i)}(e,new Lt)},fileName:C.ProjectName}),Object(i.jsx)("input",{type:"file",id:"fileinput",style:{display:"none"},onChange:function(e){alert("select");var t=e.target;console.log(e);var n=new FileReader;n.onload=function(t){var i=n.result;console.log(i);var c=new te.DiagramModel,r=JSON.parse(i);c.deserializeModel(r,b.engine),null!=c?(e.target.value=null,b.getEngine().setModel(c)):console.log("model null")},n.readAsText(t.files[0])}}),Object(i.jsx)(zt,{isOpen:M,diagramctr:b,onclose:L,forceUpdate:l}),Object(i.jsx)(xe.MenuProvider,{id:"diagram",storeRef:!1,children:Object(i.jsx)(m,{background:"#E9E9E9",color:"#808080",children:Object(i.jsx)(u.CanvasWidget,{engine:b.engine,className:"canvas"})})}),Object(i.jsx)(Rt,{}),Object(i.jsx)(Ve,{copyFunc:b.copySelected,pasteFunc:b.pasteSelected,deleteFunc:b.deleteSelected,duplicateFunc:b.duplicateSelected,cutFunc:b.cutSelected,zoomIn:G,zoomOut:q})]})},Yt=n(14),_t=n.n(Yt),$t=n(82),en=n(809),tn=n(806),nn=n(823),cn=n(814);function rn(e){return{Id:e._id,UserName:e.userName,UserLastName:e.userlastname,UserEmail:e.userEmail,UserPassword:e.userPassword}}function on(e){return{type:Xt.SET_USER,payload:e}}function an(e){return{type:Xt.SET_LOGIN,payload:e}}function ln(e){return{type:Kt.SET_PROJECT,payload:e}}function sn(e){return{type:Kt.NEW_PROJECT,payload:e}}function dn(e){return{type:Kt.DELETE_PROJECT,payload:e}}function un(e){return{type:Kt.TOGGLE_MODAL,payload:e}}!function(e){e.SET_USER="SET_USER",e.UPDATE_USER="UPDATE_USER",e.SET_LOGIN="SET_LOGIN"}(Xt||(Xt={})),function(e){e.SET_PROJECT="SET_PROJECT",e.UPDATE_PROJECT="UPDATE_PROJECT",e.NEW_PROJECT="NEW_PROJECT",e.DELETE_PROJECT="DELETE_PROJECT",e.TOGGLE_MODAL="TOGGLE_MODAL",e.TOGGLE_CONFRIM_MODAL="TOGGLE_CONFRIM_MODAL"}(Kt||(Kt={}));var jn=function(e){return function(){var t=Object($t.a)(_t.a.mark((function t(n){var i,c,r;return _t.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://toperbackend.herokuapp.com/auth/login",t.next=3,Jt.a.post("https://toperbackend.herokuapp.com/auth/login",e);case 3:200===(i=t.sent).status&&""!==(c=i.data).access_token&&(qt.a.set("ertoken",c.access_token),r=rn(c),n(on(r)),n(an(!0)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},On=function(){return function(){var e=Object($t.a)(_t.a.mark((function e(t){var n,i,c,r;return _t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(n="https://toperbackend.herokuapp.com")+"/user/getuser",c=n+"/project/getprojects",""!==(r=qt.a.get("ertoken"))&&void 0!==r){e.next=9;break}return t(Wt(!1)),t(an(!1)),alert("please login"),e.abrupt("return");case 9:t(Wt(!0)),Jt.a.defaults.headers.common.Authorization="Bearer "+r,Jt.a.all([Jt.a.get(i),Jt.a.get(c)]).then(Jt.a.spread((function(e,n){if(t(Wt(!1)),e.data.length>0){var i=rn(e.data[0]);t(on(i)),t(an(!0))}var c=[];n.data.forEach((function(e){var t,n={Id:(t=e)._id,ProjectName:t.projectName,ProjectDescription:t.projectDescription,ProjectDetail:"",VisibleStatus:t.visibleStatus,UserId:t.user,ShareUrl:""};c.push(n)})),t(ln(c))})));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},hn=function(e){var t=e.isLogin,n=Object(_.b)(),r=Object(c.useState)(""),o=Object(d.a)(r,2),a=o[0],l=o[1],s=Object(c.useState)(""),u=Object(d.a)(s,2),j=u[0],O=u[1],h=function(){var e=Object($t.a)(_t.a.mark((function e(){var t;return _t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={userName:a,userPassword:j},e.next=3,n(jn(t));case 3:n(On());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.jsx)(en.a,{open:!t,header:"Sign In",children:Object(i.jsxs)(tn.a,{children:[Object(i.jsxs)(tn.a.Field,{children:[Object(i.jsx)("label",{children:"First Name"}),Object(i.jsx)("input",{placeholder:"Enter name",onChange:function(e){return l(e.target.value)},value:a})]}),Object(i.jsxs)(tn.a.Field,{children:[Object(i.jsx)("label",{children:"Last Name"}),Object(i.jsx)("input",{placeholder:"Enter password",onChange:function(e){return O(e.target.value)},value:j})]}),Object(i.jsx)(tn.a.Field,{children:Object(i.jsx)(nn.a,{label:"I agree to the Terms and Conditions"})}),Object(i.jsx)(cn.a,{type:"submit",onClick:h,children:"Submit"})]})})},fn=n(807),pn=n(442),bn=function(){var e=Object(_.c)((function(e){return e.AuthReducer.user})),t=Object(_.b)();return Object(i.jsxs)(fn.a,{fixed:"top",children:[Object(i.jsxs)(fn.a.Item,{as:"a",header:!0,children:[Object(i.jsx)(pn.a,{size:"mini",src:"data:image/png;base64,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",style:{marginRight:"1.5em"}}),"Top Diagram"]}),Object(i.jsx)(fn.a.Item,{as:"a",children:"Home"}),Object(i.jsxs)(fn.a.Item,{position:"right",children:[Object(i.jsx)(cn.a,{as:"a",children:e.UserName}),Object(i.jsx)(cn.a,{as:"a",style:{marginLeft:"0.5em"},onClick:function(){t((function(e){qt.a.set("ertoken",""),e(on({Id:"",UserName:"test",UserLastName:"",UserEmail:"",UserPassword:""})),e(an(!1)),e(ln([]))}))},children:"Sign Up"})]})]})},gn=n(805),vn=n(818),xn=n(819),mn=n(120),yn=n(810),kn=n(817),In=function(){var e=Object(_.b)(),t=Object(c.useState)(!1),n=Object(d.a)(t,2),r=n[0],o=n[1],a=Object(c.useState)(""),s=Object(d.a)(a,2),u=s[0],j=s[1],O=Object(_.c)((function(e){return e.ProjectReducer.projects}));return Object(i.jsxs)(yn.a,{divided:!0,relaxed:!0,children:[O.map((function(e){return Object(i.jsxs)(yn.a.Item,{children:[Object(i.jsx)(yn.a.Icon,{name:"file",size:"large",verticalAlign:"middle"}),Object(i.jsxs)(yn.a.Content,{floated:"left",children:[Object(i.jsx)(l.b,{to:"/editor/".concat(e.Id),children:Object(i.jsx)(yn.a.Header,{as:"a",children:e.ProjectName})}),Object(i.jsx)(yn.a.Description,{as:"a",children:"Updated 10 mins ago"})]}),Object(i.jsx)(cn.a,{color:"blue",onClick:function(){return void 0===(t=e.Id)&&(t=""),o(!0),void j(t);var t},children:"Remove"})]},e.Id)})),Object(i.jsxs)(en.a,{basic:!0,onClose:function(){return o(!1)},onOpen:function(){return o(!0)},open:r,size:"small",children:[Object(i.jsxs)(kn.a,{icon:!0,children:[Object(i.jsx)(mn.a,{name:"archive"}),"Archive Old Messages"]}),Object(i.jsx)(en.a.Content,{children:Object(i.jsx)("p",{children:"Your inbox is getting full, would you like us to enable automatic archiving of old messages?"})}),Object(i.jsxs)(en.a.Actions,{children:[Object(i.jsxs)(cn.a,{basic:!0,color:"red",inverted:!0,onClick:function(){return o(!1)},children:[Object(i.jsx)(mn.a,{name:"remove"})," No"]}),Object(i.jsxs)(cn.a,{color:"green",inverted:!0,onClick:function(){var t;(alert(u),o(!1),""!==u)&&e((t=u,function(){var e=Object($t.a)(_t.a.mark((function e(n){var i;return _t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="https://toperbackend.herokuapp.com/project/delete/"+t,n(Wt(!0)),e.next=4,Jt.a.delete(i);case 4:200===e.sent.status&&n(dn(t)),n(Wt(!1));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(i.jsx)(mn.a,{name:"checkmark"})," Yes"]})]})]})]})},An=function(e){var t=e.isOpen,n=Object(c.useState)(""),r=Object(d.a)(n,2),o=r[0],a=r[1],l=Object(c.useState)(""),s=Object(d.a)(l,2),u=s[0],j=s[1],O=Object(_.c)((function(e){return e.AuthReducer.user})),h=Object(_.b)();return Object(i.jsx)(en.a,{open:t,children:Object(i.jsxs)(tn.a,{children:[Object(i.jsx)("input",{type:"text",placeholder:"Project name",value:o,onChange:function(e){return a(e.target.value)}}),Object(i.jsx)("input",{type:"text",placeholder:"Project Description",value:u,onChange:function(e){return j(e.target.value)}}),Object(i.jsx)(cn.a,{onClick:function(){var e={ProjectName:o,ProjectDescription:u,ProjectDetail:"",VisibleStatus:1,UserId:O.Id,ShareUrl:""};h(function(e){return function(){var t=Object($t.a)(_t.a.mark((function t(n){var i;return _t.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Ht(e),alert(JSON.stringify(i)),n(un(!1)),n(Wt(!0)),t.next=7,Jt.a.post("https://toperbackend.herokuapp.com/project",i);case 7:200===t.sent.status&&n(sn(e)),n(Wt(!1));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},children:"Save"})]})})};function Cn(){return Object(i.jsx)("div",{children:"Template"})}var Nn=function(){var e=Object(_.c)((function(e){return e.AuthReducer.isLogin})),t=Object(_.c)((function(e){return e.ProjectReducer.addProjectModal})),n=Object(_.c)((function(e){return e.ShareReducer.isLoading})),r=Object(_.b)();return Object(c.useEffect)((function(){r(On())}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)(gn.a,{active:n}),Object(i.jsx)(bn,{}),Object(i.jsxs)(vn.a.Pushable,{as:xn.a,style:{marginTop:55,height:"95vh"},children:[Object(i.jsxs)(vn.a,{as:fn.a,direction:"left",size:"large",vertical:!0,visible:!0,style:{marginTop:50},children:[Object(i.jsx)(fn.a.Item,{name:"add",children:Object(i.jsx)(cn.a,{onClick:function(){return r(un(!0))},children:"New Project"})}),Object(i.jsxs)(fn.a.Item,{name:"home",children:[Object(i.jsx)(mn.a,{name:"home"}),"Home"]}),Object(i.jsxs)(fn.a.Item,{name:"template",children:[Object(i.jsx)(mn.a,{name:"folder"}),"Template"]}),Object(i.jsxs)(fn.a.Item,{name:"accout",children:[Object(i.jsx)(mn.a,{name:"folder"}),"Accout"]})]}),Object(i.jsx)(vn.a.Pusher,{children:Object(i.jsx)(xn.a,{basic:!0,children:Object(i.jsxs)(s.d,{children:[Object(i.jsx)(s.b,{path:"/document/filelist",component:In}),Object(i.jsx)(s.b,{path:"/document/template",component:Cn})]})})})]}),Object(i.jsx)(hn,{isLogin:e}),Object(i.jsx)(An,{isOpen:t})]})},En=(n(732),function(){return Object(i.jsx)(r.a.Fragment,{children:Object(i.jsxs)(l.a,{children:[Object(i.jsx)(s.b,{exact:!0,path:"/",component:Nn,children:Object(i.jsx)(s.a,{to:"/document/filelist"})}),Object(i.jsx)(s.b,{path:"/document",component:Nn}),Object(i.jsx)(s.b,{exact:!0,path:"/editor/:projectId",component:Qt})]})})}),Pn=(n(733),n(170)),wn={user:{Id:"",UserName:"test",UserLastName:"",UserEmail:"",UserPassword:""},isLogin:!0,err:"no err"},Dn={error:"",isLoading:!1},Sn={projects:[],currentProject:{Id:"",ProjectName:"",ProjectDescription:"",UserId:"",VisibleStatus:1,ShareUrl:"",ProjectDetail:""},addProjectModal:!1,confrimModal:!1},Tn=n(440),Fn=Object(Pn.c)({AuthReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xt.SET_USER:return Object(Ze.a)(Object(Ze.a)({},e),{},{user:t.payload});case Xt.UPDATE_USER:return Object(Ze.a)(Object(Ze.a)({},e),t.payload);case Xt.SET_LOGIN:return Object(Ze.a)(Object(Ze.a)({},e),{},{isLogin:t.payload});default:return e}},ShareReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt.TOGGLE_LOADING:return Object(Ze.a)(Object(Ze.a)({},e),{},{isLoading:t.payload});default:return e}},ProjectReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kt.SET_PROJECT:return Object(Ze.a)(Object(Ze.a)({},e),{},{projects:t.payload});case Kt.NEW_PROJECT:return e.projects.push(t.payload),Object(Ze.a)({},e);case Kt.DELETE_PROJECT:var n=e.projects.findIndex((function(e){return e.Id===t.payload}));return-1!==n&&e.projects.splice(n,1),Object(Ze.a)({},e);case Kt.TOGGLE_MODAL:return Object(Ze.a)(Object(Ze.a)({},e),{},{addProjectModal:t.payload});case Kt.TOGGLE_CONFRIM_MODAL:return Object(Ze.a)(Object(Ze.a)({},e),{},{confrimModal:t.payload});default:return e}}}),Mn=function(){return Object(Pn.d)(Fn,Object(Pn.a)(Tn.a))}();a.a.render(Object(i.jsx)(_.a,{store:Mn,children:Object(i.jsx)(En,{})}),document.getElementById("root"))}},[[734,1,2]]]);
//# sourceMappingURL=main.9b8f5a90.chunk.js.map