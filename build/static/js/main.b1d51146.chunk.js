(this.webpackJsonptoper=this.webpackJsonptoper||[]).push([[0],{2138:function(e,t,n){},2139:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),i=n.n(a),o=n(24),c=n.n(o),s=n(48),l=n(29),u=n(6),d=n.n(u),j=n(28),f=n(12),p=n(15),b=n(25),h=n(26),O=n(31),g=n(30),m=n(42),v=n(27);function x(){var e=Object(m.a)(["\n\n\t\tbackground-color: ",";\n\t\tbackground-size: 50px 50px;\n\t\n\t\tbackground-image: linear-gradient(\n\t\t\t\t0deg,\n\t\t\t\ttransparent 24%,\n\t\t\t\t"," 25%,\n\t\t\t\t"," 26%,\n\t\t\t\ttransparent 27%,\n\t\t\t\ttransparent 74%,\n\t\t\t\t"," 75%,\n\t\t\t\t"," 76%,\n\t\t\t\ttransparent 77%,\n\t\t\t\ttransparent\n\t\t\t),\n\t\t\tlinear-gradient(\n\t\t\t\t90deg,\n\t\t\t\ttransparent 24%,\n\t\t\t\t"," 25%,\n\t\t\t\t"," 26%,\n\t\t\t\ttransparent 27%,\n\t\t\t\ttransparent 74%,\n\t\t\t\t"," 75%,\n\t\t\t\t"," 76%,\n\t\t\t\ttransparent 77%,\n\t\t\t\ttransparent\n\t\t\t);\n\t"]);return x=function(){return e},e}function y(){var e=Object(m.a)(["\ndisplay : flex;\njustify-content: center;\nbackground-color: ",";\n\nbackground-size: 15px 15px;\n\t\n\t\tbackground-image: linear-gradient(\n\t\t\t\t0deg,\n\t\t\t\ttransparent 24%,\n\t\t\t\t"," 25%,\n\t\t\t\t"," 26%,\n\t\t\t\ttransparent 27%,\n\t\t\t\ttransparent 74%,\n\t\t\t\t"," 75%,\n\t\t\t\t"," 76%,\n\t\t\t\ttransparent 77%,\n\t\t\t\ttransparent\n\t\t\t),\n\t\t\tlinear-gradient(\n\t\t\t\t90deg,\n\t\t\t\ttransparent 24%,\n\t\t\t\t"," 25%,\n\t\t\t\t"," 26%,\n\t\t\t\ttransparent 27%,\n\t\t\t\ttransparent 74%,\n\t\t\t\t"," 75%,\n\t\t\t\t"," 76%,\n\t\t\t\ttransparent 77%,\n\t\t\t\ttransparent\n\t\t\t);\n\n\n"]);return y=function(){return e},e}var k=v.default.div(y(),(function(e){return e.isDark?"#3C3C3C":e.background}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color})),I=(v.default.div(x(),(function(e){return e.background}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.color})),function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(r.jsx)(k,{id:"diagramcv",isDark:this.props.isDark,background:this.props.background||"rgb(60, 60, 60)",color:this.props.color||"rgba(255,255,255, 0.05)",children:this.props.children})}}]),n}(a.Component)),C=n(2187),S=n(2227),E=n(362),N=n.n(E),T=n(363),w=n.n(T),P=n(2188),D=n(2189),R=n(364),F=n.n(R),L=n(365),M=n.n(L),A=n(370),z=n.n(A),_=n(361),B=n.n(_),U=n(2181),G=n(399),W=n(2186),J=n(360),V=n.n(J),Z=function(e){var t=e.items,n=e.defaultMenuText,o=e.menuName,c=e.onSelectChange,s=Object(a.useState)(null),l=Object(f.a)(s,2),u=l[0],d=l[1],j=Object(a.useState)(""),p=Object(f.a)(j,2),b=p[0],h=p[1],O=function(e){d(null),e.selectOption&&h(e.text),null!==c&&void 0!==c&&c(e.id,e.text)};return Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)(U.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},endIcon:Object(r.jsx)(V.a,{}),children:""===b?n:b}),Object(r.jsx)(G.a,{id:o,anchorEl:u,keepMounted:!0,elevation:0,open:Boolean(u),onClose:O,children:t.map((function(e){return Object(r.jsx)(W.a,{onClick:function(){return O(e)},children:e.text},o+e.id)}))})]})},K=n(368),q=n.n(K),H=n(2144),Y=n(366),X=n.n(Y),$=function(e){var t=e.size,n=void 0===t?16:t,a=e.color,i=void 0===a?"gray":a;return Object(r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(r.jsx)("polyline",{points:"17 11 12 6 7 11"}),Object(r.jsx)("polyline",{points:"17 18 12 13 7 18"})]})},Q=n(369),ee=n.n(Q),te=n(367),ne=n.n(te),re=Object(C.a)((function(e){return Object(S.a)({showBtn:{position:"absolute",transform:"rotate(180deg)",backgroundColor:"#FFFF",border:"1px solid ".concat(e.palette.divider),justifyContent:"flex-end",right:5},hideBtn:{transform:"rotate(360deg)"},root:{border:"1px solid ".concat(e.palette.divider),color:e.palette.text.secondary,"& svg":{margin:e.spacing(.75)},"& hr":{margin:e.spacing(0,.5)}}})})),ae=[{id:"100%zoom",text:"100%",selectOption:!0},{id:"75%zoom",text:"75%",selectOption:!0},{id:"50%zoom",text:"50%",selectOption:!0},{id:"resetview",text:"Reset View",selectOption:!1}],ie=function(e){var t=e.onZoomSelectChange,n=e.onUndo,i=e.onRedo,o=e.isDark,c=e.isNodeSelect,s=(e.isRender,e.onZoomIn),l=e.onZoomOut,u=e.onZoomFit,d=e.newTable,j=e.onCopy,p=e.onCut,b=e.onDup,h=e.onDel,O=Object(a.useState)(!0),g=Object(f.a)(O,2),m=g[0],v=g[1],x=re();return Object(r.jsx)("div",{style:{position:"absolute",width:"100%",zIndex:50},children:m?Object(r.jsxs)(P.a,{container:!0,className:x.root,style:{backgroundColor:o?"#333333":"#FFFF"},children:[Object(r.jsx)(H.a,{size:"small",onClick:d,children:Object(r.jsx)(B.a,{})}),Object(r.jsx)(D.a,{orientation:"vertical",flexItem:!0}),Object(r.jsx)(H.a,{size:"small",color:"inherit",onClick:i,children:Object(r.jsx)(N.a,{})}),Object(r.jsx)(H.a,{size:"small",onClick:n,children:Object(r.jsx)(w.a,{})}),Object(r.jsx)(D.a,{orientation:"vertical",flexItem:!0}),Object(r.jsx)(Z,{items:ae,defaultMenuText:"100%",menuName:"zoomSelect",onSelectChange:function(e,n){void 0!==e?(console.log(e),t(n)):console.log("undefine")}}),Object(r.jsx)(H.a,{size:"small",onClick:s,children:Object(r.jsx)(F.a,{})}),Object(r.jsx)(H.a,{size:"small",onClick:l,children:Object(r.jsx)(M.a,{})}),Object(r.jsx)(H.a,{size:"small",onClick:u,children:Object(r.jsx)(X.a,{})}),Object(r.jsx)(D.a,{orientation:"vertical",flexItem:!0}),Object(r.jsx)(H.a,{size:"small",onClick:j,disabled:!c,children:Object(r.jsx)(ne.a,{style:{fontSize:20}})}),Object(r.jsx)(H.a,{size:"small",onClick:p,disabled:!c,children:Object(r.jsx)(q.a,{style:{fontSize:20}})}),Object(r.jsx)(H.a,{size:"small",onClick:b,disabled:!c,children:Object(r.jsx)(ee.a,{style:{fontSize:20}})}),Object(r.jsx)(H.a,{size:"small",onClick:h,disabled:!c,children:Object(r.jsx)(z.a,{style:{fontSize:20}})}),Object(r.jsx)("span",{style:{display:"flex",flexGrow:1}}),Object(r.jsx)(H.a,{size:"small",onClick:function(){return v(!1)},className:x.hideBtn,children:Object(r.jsx)($,{size:20})})]}):Object(r.jsx)(H.a,{size:"small",onClick:function(){return v(!0)},className:x.showBtn,children:Object(r.jsx)($,{size:25})})})},oe=n(2192),ce=n(2193),se=n(16),le=n(175),ue=n.n(le),de=n(2194),je=n(374),fe=n.n(je),pe=n(2228),be=n(13),he=n(2191),Oe=n(2184),ge=n(402),me=n(2190),ve=n(2185),xe=function(e){var t=i.a.useState(!1),n=Object(f.a)(t,2),a=n[0],o=n[1],c=i.a.useRef(null),s=function(t,n){c.current&&c.current.contains(t.target)||(o(!1),e.onClickMenu(n))};return Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsxs)("span",{className:e.className,ref:c,"aria-controls":a?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){if(e.items.length>0)o((function(e){return!e}));else{if(void 0===e.onClick)return;e.onClick()}},children:[e.menuName,e.children]}),Object(r.jsx)(me.a,{style:{zIndex:100},open:a,anchorEl:c.current,role:void 0,transition:!0,disablePortal:!0,children:function(t){var n=t.TransitionProps,i=t.placement;return Object(r.jsx)(Oe.a,Object(be.a)(Object(be.a)({},n),{},{style:{transformOrigin:"bottom"===i?"center top":"center bottom"},children:Object(r.jsx)(ge.a,{children:Object(r.jsx)(he.a,{onClickAway:function(e){return s(e,"")},children:Object(r.jsx)(ve.a,{autoFocusItem:a,id:"menu-list-grow",children:e.items.map((function(t){return Object(r.jsxs)("div",{children:[t.isLine?Object(r.jsx)(D.a,{}):"",Object(r.jsx)(W.a,{disabled:!e.isEnable,onClick:function(e){return s(e,t.id)},children:t.text},e.menuName+t.id)]})}))})})})}))}})]})},ye=[{id:"openmenu",text:"Open"},{id:"importmenu",text:"Import"},{id:"newmenu",text:"New Project"},{id:"propertiemenu",text:"Propertie"},{id:"savemenu",text:"Save"},{id:"seedmenu",text:"Mock Data"},{id:"sharemenu",text:"Share"}],ke=[{id:"png-ex",text:"Png File"},{id:"json-ex",text:"Json File"},{id:"mysql-ex",text:"MySql/MariaDb",isLine:!0,type:"ddl"},{id:"pos-ex",text:"Postresql",type:"ddl"},{id:"sqlserver-ex",text:"SqlServer",type:"ddl"},{id:"typeorm-ex",text:"TypeOrm",type:"template"}],Ie=[{id:"lightmenu",text:"Light"},{id:"darkmenu",text:"Dark"}],Ce=[{id:"aboutmenu",text:"About"},{id:"shortcutmenu",text:"All Shortcut"},{id:"contactmenu",text:"Contact Us"},{id:"changelog",text:"Change Log"}],Se=[{id:"copymenu",text:"Copy"},{id:"cutmenu",text:"Cut"},{id:"deletemenu",text:"Delete"},{id:"duplicatemenu",text:"Duplicate"},{id:"undomenu",text:"Undo"},{id:"redomenu",text:"Redo"}],Ee=["CREATE TABLE","ALTER TABLE"];function Ne(e){Ee.forEach((function(t){e.indexOf(t)}))}var Te,we=n(43),Pe=n.n(we),De=n(373),Re=n.n(De),Fe=Object(C.a)((function(e){return Object(S.a)({root:{flexGrow:1},avatarIcon:{cursor:"pointer",width:25,height:25,backgroundColor:"orange",marginRight:20},title:{flexGrow:1},menu:{marginRight:10},menuButton:{marginRight:e.spacing(2)},menubtn:{color:"white",textTransform:"capitalize",marginRight:25,cursor:"pointer"}})}));!function(e){e.Image="imageexportmenu",e.Database="dbexportmenu"}(Te||(Te={}));var Le=function(e){var t=e.isDark,n=e.onOpenMenu,i=e.diagram,o=e.onExport,c=e.onSave,s=e.onSelectChange,u=Fe(),d=Object(l.i)().projectId,j=Object(l.g)(),f=(Object(l.h)(),Object(se.d)((function(e){return e.ShareReducer.isLoading})));function p(){var e=document.getElementById("fileimport");if(e&&document.createEvent){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!1),e.dispatchEvent(t)}}return Object(a.useEffect)((function(){}),[s]),Object(r.jsx)(oe.a,{position:"static",color:t?"secondary":"primary",children:Object(r.jsxs)(ce.a,{variant:"dense",children:[Object(r.jsx)(pe.a,{variant:"rounded",src:"/img/erlogo.svg",className:u.avatarIcon}),Object(r.jsx)(xe,{className:u.menubtn,isEnable:!0,items:ye,menuName:"File",onClickMenu:function(e){switch(e){case"importmenu":p();break;case"openmenu":j.push("/document/filelist");break;case"newmenu":j.push("/document/newproject");break;case"propertiemenu":j.push("/document/editproject/"+d);break;case"importmenu":break;case"exportmenu":case"sharemenu":case"seedmenu":n(e)}}}),Object(r.jsx)(xe,{className:u.menubtn,isEnable:s,items:Se,menuName:"Edit",onClickMenu:function(e){switch(e){case"copymenu":i.copySelected();break;case"cutmenu":i.cutSelected();break;case"deletemenu":i.deleteSelected();break;case"duplicatemenu":i.duplicateSelected();break;case"undomenu":case"redomenu":p()}}}),Object(r.jsx)(xe,{className:u.menubtn,isEnable:!0,items:ke,menuName:"Export",onClickMenu:function(e){o(e)}}),Object(r.jsx)(xe,{className:u.menubtn,isEnable:!0,items:Ie,menuName:"Theme",onClickMenu:function(e){if(""!==e){var t="lightmenu"===e?"false":"true";Pe.a.set("darkmode",t),alert("please reload page for change mode")}}}),Object(r.jsx)(xe,{className:u.menubtn,isEnable:!0,items:Ce,menuName:"Help",onClickMenu:function(e){if("shortcutmenu"!==e){!function(e){var t=window.open(e,"_blank");if(null===t)return;t.focus()}({aboutmenu:"https://toperlanding.netlify.app/",contactmenu:"https://toperlanding.netlify.app/contact.html",changelog:"https://toperlanding.netlify.app/contact.html"}[e])}else n(e)}}),Object(r.jsx)("span",{className:u.title}),Object(r.jsx)("input",{type:"file",id:"fileimport",style:{display:"none"},onChange:function(e){var t=e.target,n=new FileReader;n.onload=function(t){var r=n.result;null===r&&(r=""),function(e){for(var t=0;t<e.length;t++)Ne(e.substr(t,e.length-1))}(r),e.target.value=null},n.readAsText(t.files[0])}}),Object(r.jsx)("a",{target:"_blank",href:"https://forms.gle/U5oyXvAbqxypZDFR9",children:Object(r.jsx)(U.a,{variant:"outlined",style:{marginLeft:15},color:"inherit",startIcon:Object(r.jsx)(Re.a,{}),children:"Feedback"})}),Object(r.jsx)(U.a,{variant:"outlined",style:{marginLeft:15},color:"inherit",startIcon:f?Object(r.jsx)(de.a,{style:{width:20,height:20},color:"inherit"}):Object(r.jsx)(fe.a,{}),onClick:c,children:"Save"}),Object(r.jsx)(H.a,{edge:"end","aria-label":"account of current user",color:"inherit",children:Object(r.jsx)(ue.a,{})})]})})},Me=n(19),Ae=function(e){return Object(r.jsxs)("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none",stroke:"gray",strokeWidth:"2",children:[Object(r.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),Object(r.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})},ze=n(401),_e=function(e){return Object(r.jsxs)(ze.a,Object(be.a)(Object(be.a)({viewBox:"0 0 24 24"},e),{},{children:[Object(r.jsx)("circle",{cx:"6",cy:"6",r:"3"}),Object(r.jsx)("circle",{cx:"6",cy:"18",r:"3"}),Object(r.jsx)("line",{x1:"20",y1:"4",x2:"8.12",y2:"15.88"}),Object(r.jsx)("line",{x1:"14.47",y1:"14.48",x2:"20",y2:"20"}),Object(r.jsx)("line",{x1:"8.12",y1:"8.12",x2:"12",y2:"12"})]}))},Be=function(e){var t=e.size,n=void 0===t?16:t,a=e.color,i=void 0===a?"gray":a;return Object(r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",children:[Object(r.jsx)("polyline",{points:"3 6 5 6 21 6"}),Object(r.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),Object(r.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Object(r.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})},Ue=function(e){var t=e.size,n=void 0===t?16:t,a=e.color,i=void 0===a?"gray":a;return Object(r.jsx)("svg",{width:n,height:18*n/24,viewBox:"0 0 24 18",fill:"none",stroke:"none",strokeWidth:"2",children:Object(r.jsx)("g",{transform:"translate(-678.000000, -2727.000000)",children:Object(r.jsx)("g",{transform:"translate(100.000000, 2626.000000)",children:Object(r.jsx)("g",{transform:"translate(578.000000, 98.000000)",children:Object(r.jsxs)("g",{transform:"translate(0.000000, 0.000000)",children:[Object(r.jsx)("polygon",{points:"0 0 24 0 24 24 0 24"}),Object(r.jsx)("path",{d:"M15,8 C14.45,8 14,8.45 14,9 L14,11 L12,11 C11.45,11 11,11.45 11,12 C11,12.55 11.45,13 12,13 L14,13 L14,15 C14,15.55 14.45,16 15,16 C15.55,16 16,15.55 16,15 L16,13 L18,13 C18.55,13 19,12.55 19,12 C19,11.45 18.55,11 18,11 L16,11 L16,9 C16,8.45 15.55,8 15,8 Z M2,12 C2,9.42 3.4,7.17 5.48,5.96 C5.8,5.77 6.01,5.45 6.01,5.08 C6.01,4.31 5.17,3.83 4.5,4.22 C1.82,5.78 0,8.68 0,12 C0,15.32 1.82,18.22 4.5,19.78 C5.17,20.17 6.01,19.69 6.01,18.92 C6.01,18.55 5.8,18.23 5.48,18.04 C3.4,16.83 2,14.58 2,12 Z M15,3 C10.04,3 6,7.04 6,12 C6,16.96 10.04,21 15,21 C19.96,21 24,16.96 24,12 C24,7.04 19.96,3 15,3 Z M15,19 C11.14,19 8,15.86 8,12 C8,8.14 11.14,5 15,5 C18.86,5 22,8.14 22,12 C22,15.86 18.86,19 15,19 Z",fill:i})]})})})})})},Ge=function(e){var t=e.size,n=void 0===t?16:t,a=e.color,i=void 0===a?"gray":a;return Object(r.jsx)("svg",{width:n,height:n,fill:i,viewBox:"0 0 512.001 512.001",children:Object(r.jsx)("g",{children:Object(r.jsx)("g",{children:Object(r.jsxs)("g",{children:[Object(r.jsx)("path",{d:"M481,371c11.046,0,20-8.954,20-20v-92c0-33.084-26.916-60-60-60h-39v-79c0-44.112-35.888-80-80-80h-47.533 c-7.739-23.749-29.864-40-55.16-40h-25.614c-25.296,0-47.421,16.251-55.16,40H91c-44.112,0-80,35.888-80,80v312 c0,44.112,35.888,80,80,80h88c11.046,0,20-8.954,20-20c0-11.046-8.954-20-20-20H91c-22.056,0-40-17.944-40-40V120 c0-22.056,17.944-40,40-40h2v59c0,11.046,8.954,20,20,20h189c11.046,0,20-8.954,20-20V80c22.056,0,40,17.944,40,40v79h-65.007 C263.914,199,237,225.913,237,258.993v193.015c0,33.08,26.916,59.993,60.01,59.993L441,511.926c33.084,0,60-26.913,60-59.992 c0-11.046-8.954-20-20-20c-11.046,0-20,8.954-20,20c0,11.024-8.972,19.992-20.01,19.992L297,472c-11.028,0-20-8.969-20-19.993 V258.993c0-11.024,8.969-19.993,19.993-19.993H441c11.028,0,20,8.972,20,20v92C461,362.046,469.955,371,481,371z M282,119H133V80 h21c9.177,0,17.177-6.246,19.403-15.149l2.798-11.194C178.211,45.616,185.404,40,193.693,40h25.614 c8.289,0,15.481,5.616,17.492,13.657l2.798,11.194C241.823,73.754,249.823,80,259,80h23V119z"}),Object(r.jsx)("path",{d:"M401,279h-64c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h64c11.046,0,20-8.954,20-20 C421,287.954,412.047,279,401,279z"}),Object(r.jsx)("path",{d:"M401,349h-64c-11.046,0-20,8.954-20,20c0,11.046,8.954,20,20,20h64c11.046,0,20-8.954,20-20 C421,357.954,412.047,349,401,349z"})]})})})})},We=function(e){var t=e.size,n=void 0===t?16:t,a=e.color,i=void 0===a?"gray":a;return Object(r.jsx)("svg",{width:n,height:n,viewBox:"0 0 512 512",fill:i,children:Object(r.jsx)("path",{d:"m431 481c0 11.046-8.954 20-20 20h-66c-11.046 0-20-8.954-20-20s8.954-20 20-20h66c11.046 0 20 8.954 20 20zm63.358-352.994-112.284-111.215c-7.848-7.773-20.511-7.713-28.284.135s-7.712 20.511.135 28.284l106.808 105.79h-285.733c-96.495 0-175 78.505-175 175s78.505 175 175 175h69c11.046 0 20-8.954 20-20s-8.954-20-20-20h-69c-74.439 0-135-60.561-135-135s60.561-135 135-135h284.836l-105.037 105.917c-7.778 7.843-7.725 20.506.118 28.284 3.9 3.868 8.992 5.799 14.083 5.799 5.146 0 10.292-1.975 14.202-5.917l111.225-112.157c11.332-11.332 17.573-26.4 17.573-42.426s-6.241-31.094-17.642-42.494z"})})},Je=function(e){var t=e.size,n=void 0===t?16:t,a=e.color,i=void 0===a?"gray":a;return Object(r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",children:[Object(r.jsx)("circle",{cx:"12",cy:"12",r:"3"}),Object(r.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})},Ve=function(e){var t=e.size,n=void 0===t?16:t,a=e.color,i=void 0===a?"gray":a;return Object(r.jsx)("svg",{width:n,height:n,viewBox:"0 0 512 512",fill:i,children:Object(r.jsx)("path",{d:"m 81,481 c 0,11.046 8.954,20 20,20 h 66 c 11.046,0 20,-8.954 20,-20 0,-11.046 -8.954,-20 -20,-20 h -66 c -11.046,0 -20,8.954 -20,20 z M 17.642,128.006 129.926,16.791 c 7.848,-7.773 20.511,-7.713 28.284,0.135 7.773,7.848 7.712,20.511 -0.135,28.284 L 51.267,151 H 337 c 96.495,0 175,78.505 175,175 0,96.495 -78.505,175 -175,175 h -69 c -11.046,0 -20,-8.954 -20,-20 0,-11.046 8.954,-20 20,-20 h 69 c 74.439,0 135,-60.561 135,-135 0,-74.439 -60.561,-135 -135,-135 H 52.164 l 105.037,105.917 c 7.778,7.843 7.725,20.506 -0.118,28.284 -3.9,3.868 -8.992,5.799 -14.083,5.799 -5.146,0 -10.292,-1.975 -14.202,-5.917 L 17.573,212.926 C 6.241,201.594 0,186.526 0,170.5 0,154.474 6.241,139.406 17.642,128.006 Z"})})},Ze=function(e){var t=e.size,n=void 0===t?16:t,a=e.color,i=void 0===a?"gray":a;return Object(r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",children:[Object(r.jsx)("circle",{cx:"11",cy:"11",r:"8"}),Object(r.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),Object(r.jsx)("line",{x1:"11",y1:"8",x2:"11",y2:"14"}),Object(r.jsx)("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]})},Ke=function(e){var t=e.size,n=void 0===t?16:t,a=e.color,i=void 0===a?"gray":a;return Object(r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",children:[Object(r.jsx)("circle",{cx:"11",cy:"11",r:"8"}),Object(r.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}),Object(r.jsx)("line",{x1:"8",y1:"11",x2:"14",y2:"11"})]})};function qe(){var e=Object(m.a)(["\n  display: inline-flex;\n  align-items: center;\n  height: ","px;\n  padding: 0 ","px;\n  margin: 2px ","px;\n  font-size: ","px;\n  font-family: monospace;\n  color: #000000c4;\n  background: #ececec;\n  border-radius: 4px;\n  border: 1px solid #ffffff17;\n  box-shadow: inset 0 0 ","px #0000000a;\n"]);return qe=function(){return e},e}var He=v.default.span(qe(),(function(e){return e.size}),(function(e){return e.size/4}),(function(e){return e.size/8}),(function(e){return e.size/2}),(function(e){return e.size/4})),Ye=function(e){var t=e.children,n=e.size,a=void 0===n?16:n;return Object(r.jsx)(He,{size:a,children:t})};function Xe(){var e=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  width: 16px;\n  height: 16px;\n  margin-right: 16px;\n"]);return Xe=function(){return e},e}var $e=v.default.div(Xe());function Qe(){var e=Object(m.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: flex-end;\n  margin-left: 8px;\n"]);return Qe=function(){return e},e}var et,tt=v.default.div(Qe()),nt=function(e){var t=e.copyFunc,n=e.pasteFunc,a=e.deleteFunc,i=e.duplicateFunc,o=e.cutFunc,c=e.zoomIn,s=e.zoomOut,l=e.undoFunc,u=e.redoFunc;return Object(r.jsxs)(Me.Menu,{id:"component",children:[Object(r.jsxs)(Me.Item,{onClick:i,children:[Object(r.jsx)($e,{children:Object(r.jsx)(Ue,{})}),"Duplicate",Object(r.jsxs)(tt,{children:[Object(r.jsx)(Ye,{children:"CTRL"}),Object(r.jsx)(Ye,{children:"D"})]})]}),Object(r.jsxs)(Me.Item,{onClick:o,children:[Object(r.jsx)($e,{children:Object(r.jsx)(_e,{})}),"Cut",Object(r.jsxs)(tt,{children:[Object(r.jsx)(Ye,{children:"CTRL"}),Object(r.jsx)(Ye,{children:"X"})]})]}),Object(r.jsxs)(Me.Item,{onClick:t,children:[Object(r.jsx)($e,{children:Object(r.jsx)(Ae,{})}),"Copy",Object(r.jsxs)(tt,{children:[Object(r.jsx)(Ye,{children:"CTRL"}),Object(r.jsx)(Ye,{children:"C"})]})]}),Object(r.jsxs)(Me.Item,{onClick:n,children:[Object(r.jsx)($e,{children:Object(r.jsx)(Ge,{})}),"Paste",Object(r.jsxs)(tt,{children:[Object(r.jsx)(Ye,{children:"CTRL"}),Object(r.jsx)(Ye,{children:"V"})]})]}),Object(r.jsxs)(Me.Item,{onClick:a,children:[Object(r.jsx)($e,{children:Object(r.jsx)(Be,{})}),"Delete",Object(r.jsx)(tt,{children:Object(r.jsx)(Ye,{children:"Delete"})})]}),Object(r.jsx)(Me.Separator,{}),Object(r.jsxs)(Me.Item,{onClick:c,children:[Object(r.jsx)($e,{children:Object(r.jsx)(Ze,{})}),"Zoom in"]}),Object(r.jsxs)(Me.Item,{onClick:s,children:[Object(r.jsx)($e,{children:Object(r.jsx)(Ke,{})}),"Zoom out"]}),Object(r.jsx)(Me.Separator,{}),Object(r.jsxs)(Me.Item,{onClick:l,children:[Object(r.jsx)($e,{children:Object(r.jsx)(Ve,{})}),"Undo",Object(r.jsxs)(tt,{children:[Object(r.jsx)(Ye,{children:"CTRL"}),Object(r.jsx)(Ye,{children:"Z"})]})]}),Object(r.jsxs)(Me.Item,{onClick:u,children:[Object(r.jsx)($e,{children:Object(r.jsx)(We,{})}),"Redo",Object(r.jsxs)(tt,{children:[Object(r.jsx)(Ye,{children:"CTRL"}),Object(r.jsx)(Ye,{children:"SHIFT"}),Object(r.jsx)(Ye,{children:"Z"})]})]}),Object(r.jsx)(Me.Separator,{}),Object(r.jsxs)(Me.Item,{children:[Object(r.jsx)($e,{children:Object(r.jsx)(Je,{})}),"Edit configurations...",Object(r.jsxs)(tt,{children:[Object(r.jsx)(Ye,{children:"CTRL"}),Object(r.jsx)(Ye,{children:"E"})]})]})]})},rt=function(e){var t=e.zoomIn,n=e.zoomOut,a=e.pasteFunc,i=e.redoFunc,o=e.undoFunc;return Object(r.jsxs)(Me.Menu,{id:"diagram",children:[Object(r.jsxs)(Me.Item,{onClick:a,children:[Object(r.jsx)($e,{children:Object(r.jsx)(Ge,{})}),"Paste",Object(r.jsxs)(tt,{children:[Object(r.jsx)(Ye,{children:"CTRL"}),Object(r.jsx)(Ye,{children:"V"})]})]}),Object(r.jsx)(Me.Separator,{}),Object(r.jsxs)(Me.Item,{onClick:t,children:[Object(r.jsx)($e,{children:Object(r.jsx)(Ze,{})}),"Zoom in"]}),Object(r.jsxs)(Me.Item,{onClick:n,children:[Object(r.jsx)($e,{children:Object(r.jsx)(Ke,{})}),"Zoom out"]}),Object(r.jsx)(Me.Separator,{}),Object(r.jsxs)(Me.Item,{onClick:o,children:[Object(r.jsx)($e,{children:Object(r.jsx)(Ve,{})}),"Undo",Object(r.jsxs)(tt,{children:[Object(r.jsx)(Ye,{children:"CTRL"}),Object(r.jsx)(Ye,{children:"Z"})]})]}),Object(r.jsxs)(Me.Item,{onClick:i,children:[Object(r.jsx)($e,{children:Object(r.jsx)(We,{})}),"Redo",Object(r.jsxs)(tt,{children:[Object(r.jsx)(Ye,{children:"CTRL"}),Object(r.jsx)(Ye,{children:"SHIFT"}),Object(r.jsx)(Ye,{children:"Z"})]})]})]})},at=(n(461),function(e){var t=e.undoFunc,n=e.redoFunc,a=e.copyFunc,i=e.deleteFunc,o=e.duplicateFunc,c=e.cutFunc,s=e.pasteFunc,l=e.zoomIn,u=e.zoomOut;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(rt,{pasteFunc:s,zoomIn:l,zoomOut:u,undoFunc:t,redoFunc:n}),Object(r.jsx)(nt,{copyFunc:a,pasteFunc:s,undoFunc:t,redoFunc:n,deleteFunc:i,duplicateFunc:o,cutFunc:c,zoomIn:l,zoomOut:u})]})}),it=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,{type:p.InputType.KEY_DOWN,fire:function(e){var t=e.event;console.log(JSON.stringify(t)),r.engine.getModel().isLocked()||r.matchesInput(t)&&(t.preventDefault(),r.handleAction())}})).handleAction=function(){console.log("delete"),r.engine.getModel().getSelectedEntities().filter((function(e){return!e.isLocked()})).forEach((function(e){return e.remove()})),r.engine.repaintCanvas()},r}return Object(h.a)(n,[{key:"matchesInput",value:function(e){return e.ctrlKey&&"Delete"===e.code}}]),n}(p.Action),ot=n(120),ct=n(71),st=n(20),lt=n(44),ut=n(74),dt=n(70),jt=n.n(dt),ft=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).RefInPort=!1,e}return Object(h.a)(n,[{key:"setLabels",value:function(e){alert("set label"),this.labels=e}}]),n}(dt.DefaultLinkModel),pt=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"createLinkModel",value:function(){return new ft}}]),n}(ut.DefaultPortModel),bt=n(2223);!function(e){e.pk="pk",e.notnull="notnull",e.fk="fk",e.ai="ai",e.defaultVal="defaultVal",e.faker="faker"}(et||(et={}));var ht=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;return Object(b.a)(this,n),"string"===typeof r&&(r={name:r,color:a}),(e=t.call(this,Object(be.a)({type:"default",name:"Untitled",color:"rgb(0,192,255)"},r))).portsIn=void 0,e.portsOut=void 0,e.fieldOptions=void 0,e.portsOut=[],e.portsIn=[],e.fieldOptions=[],e}return Object(h.a)(n,[{key:"performanceTune",value:function(){return!1}},{key:"doClone",value:function(e,t){console.log("original id : "+this.getID()),t.portsIn=[],t.portsOut=[],Object(ot.a)(Object(ct.a)(n.prototype),"doClone",this).call(this,e,t);for(var r=0;r<t.portsIn.length;r++)t.fieldOptions[r].portId=t.portsIn[r].getID()}},{key:"removeFieldbyId",value:function(e){var t=this.portsIn.findIndex((function(t){return t.getID()==e})),n=this.fieldOptions.findIndex((function(t){return t.portId==e}));-1!==t&&(-1!==n&&this.fieldOptions.splice(n,1),this.removeField(t))}},{key:"removePort",value:function(e){Object(ot.a)(Object(ct.a)(n.prototype),"removePort",this).call(this,e),e.getOptions().in?this.portsIn.splice(this.portsIn.indexOf(e),1):this.portsOut.splice(this.portsOut.indexOf(e),1)}},{key:"updateNode",value:function(e){for(var t=e.fields,n=this.getAllField(),r=0;r<t.length;r++)n[r].fieldName!==t[r].fieldName&&(this.portsIn[r].getOptions().label=t[r].fieldName),n[r].fieldType!==t[r].fieldType&&(this.portsOut[r].getOptions().label=t[r].fieldType)}},{key:"addField",value:function(e){var t=this.addInPort(e.fieldName),n=this.addOutPort(e.fieldType),r={portId:t.getID(),ai:!1,pk:!1,fk:!1,fkTb:"",fkField:""};return this.fieldOptions.push(r),[t,n]}},{key:"removeField",value:function(e){this.removePort(this.portsIn[e]),this.removePort(this.portsOut[e])}},{key:"AddNewField",value:function(){this.addField({fieldName:"test",fieldType:"int"})}},{key:"addOrUpdateFieldOption",value:function(e){var t=this.fieldOptions.findIndex((function(t){return t.portId===e.inId}));if(-1!==t&&void 0!==e.fieldOption){this.fieldOptions[t]=e.fieldOption,console.log(e.fieldOption);var n=e.fieldOption;if(void 0!=n)void 0===n.fkTb||n.fkTb,void 0===n.fkField||n.fkField,void 0===e.inId||e.inId}}},{key:"linkForeignKey",value:function(e,t,n){console.log("main field "+t.getOptions().label+" link with : "+e.getOptions().label);var r=e.link(t);return e.reportPosition(),t.reportPosition(),r}},{key:"getAllField",value:function(){for(var e=this.portsIn,t=(this.portsOut,[]),n=0;n<e.length;n++){var r=this.getField(n);t.push(r)}return t}},{key:"getField",value:function(e){var t=this.portsIn[e].getOptions().label,n=this.portsOut[e].getOptions().label,r=this.portsIn[e].getID(),a=this.fieldOptions.findIndex((function(e){return e.portId===r}));if(-1===a){return{inId:"",outId:"",fieldName:"",fieldType:""}}var i=this.fieldOptions[a];return void 0===t&&(t=""),void 0===n&&(n=""),{inId:this.portsIn[e].getID(),outId:this.portsOut[e].getID(),fieldName:t,fieldType:n,fieldOption:i}}},{key:"addPort",value:function(e){return Object(ot.a)(Object(ct.a)(n.prototype),"addPort",this).call(this,e),e.getOptions().in?-1===this.portsIn.indexOf(e)&&this.portsIn.push(e):-1===this.portsOut.indexOf(e)&&this.portsOut.push(e),e}},{key:"mirrorPort",value:function(e){var t=(e.getOptions().in?this.getInPorts():this.getOutPorts()).findIndex((function(t){return t.getID()===e.getID()}));if(console.log(t),-1!==t)return e.getOptions().in?this.getOutPorts()[t]:this.getInPorts()[t]}},{key:"portInIdtoPortOut",value:function(e){var t=this.getInPorts().findIndex((function(t){return t.getID()===e}));return this.getPortOutByIndex(t)}},{key:"getPortInByIndex",value:function(e){return this.portsIn[e]}},{key:"getPortOutByIndex",value:function(e){return this.portsOut[e]}},{key:"setNodeOption",value:function(e){var t=this.getPortFromID(e).getOptions().in;if(void 0!==t){var n=-1;if(t||-1!==(n=this.portsOut.findIndex((function(t){return t.getID()===e})))){var r=t?e:this.getPortInByIndex(n).getID(),a=this.fieldOptions.findIndex((function(e){return e.portId===r}));-1!==a&&(this.fieldOptions[a].fk=!0)}}}},{key:"addInPort",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(bt.a)(),r=new pt({in:!0,name:n,label:e,alignment:lt.PortModelAlignment.LEFT});return t||this.portsIn.splice(0,0,r),this.addPort(r)}},{key:"addOutPort",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(bt.a)(),r=new pt({in:!1,name:n,label:e,alignment:lt.PortModelAlignment.RIGHT});return t||this.portsOut.splice(0,0,r),this.addPort(r)}},{key:"getOutIdFromInId",value:function(e){var t=this.getInPorts().findIndex((function(t){return t.getID()===e}));return-1===t?"":this.getOutPorts()[t].getID()}},{key:"getInIdFromOutId",value:function(e){var t=this.getOutPorts().findIndex((function(t){return t.getID()===e}));return-1===t?"":this.getInPorts()[t].getID()}},{key:"deserialize",value:function(e){var t=this;Object(ot.a)(Object(ct.a)(n.prototype),"deserialize",this).call(this,e),this.options.name=e.data.name,this.options.color=e.data.color,this.fieldOptions=e.data.fields,console.log(this.fieldOptions),this.portsIn=st.map(e.data.portsInOrder,(function(e){return t.getPortFromID(e)})),this.portsOut=st.map(e.data.portsOutOrder,(function(e){return t.getPortFromID(e)}))}},{key:"serialize",value:function(){for(var e=this,t=[],r=function(n){var r=e.fieldOptions.findIndex((function(t){return t.portId===e.portsIn[n].getID()}));if(-1===r)return"continue";t.push({portId:e.portsIn[n].getID(),ai:e.fieldOptions[r].ai,pk:e.fieldOptions[r].pk,fk:e.fieldOptions[r].fk,notnull:e.fieldOptions[r].notnull,defaultVal:e.fieldOptions[r].defaultVal,faker:e.fieldOptions[r].faker})},a=0;a<this.portsIn.length;a++)r(a);return Object(be.a)(Object(be.a)({},Object(ot.a)(Object(ct.a)(n.prototype),"serialize",this).call(this)),{},{name:this.options.name,color:this.options.color,fields:t,portsInOrder:st.map(this.portsIn,(function(e){return e.getID()})),portsOutOrder:st.map(this.portsOut,(function(e){return e.getID()}))})}},{key:"getInPorts",value:function(){return this.portsIn}},{key:"getOutPorts",value:function(){return this.portsOut}}]),n}(lt.NodeModel),Ot=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,{type:p.InputType.KEY_DOWN,fire:function(t){var n=t.event;e&&(r.engine.getModel().isLocked()||r.matchesInput(n)&&(n.preventDefault(),r.handleAction()))}})).handleAction=function(){var e=new ht({name:"Product",color:"rgb(0,192,255)"});e.addField({fieldName:"Id",fieldType:"int"}),e.setPosition(100,100),r.engine.getModel().addAll(e),r.engine.repaintCanvas()},r}return Object(h.a)(n,[{key:"matchesInput",value:function(e){return e.ctrlKey&&"KeyB"===e.code}}]),n}(p.Action),gt=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,{type:p.InputType.KEY_DOWN,fire:function(t){var n=t.event;e&&(r.engine.getModel().isLocked()||r.matchesInput(n)&&(n.preventDefault(),r.handleAction()))}})).handleAction=function(){var e=r.engine.getModel(),t=e.getSelectedEntities().filter((function(e){return e instanceof p.BaseModel})).filter((function(e){return!e.isLocked()})).map((function(e){return e.clone()}));e.clearSelection(),t.forEach((function(t){t instanceof dt.NodeModel&&(e.addNode(t),t.setSelected(!0))})),r.engine.repaintCanvas()},r}return Object(h.a)(n,[{key:"matchesInput",value:function(e){return e.ctrlKey&&"KeyD"===e.code}}]),n}(p.Action),mt=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,{type:p.InputType.KEY_DOWN,fire:function(t){var n=t.event;if(e&&!r.engine.getModel().isLocked()&&r.matchesInput(n)){n.preventDefault();var a=n;"KeyX"===a.code&&r.handleCut(),"KeyC"===a.code&&r.handleCopy(),"KeyV"===a.code&&r.handlePaste()}}})).getSelectedComponents=function(){return r.engine.getModel().getSelectedEntities().filter((function(e){return e instanceof ht})).filter((function(e){return!e.isLocked()}))},r}return Object(h.a)(n,[{key:"matchesInput",value:function(e){return e.ctrlKey&&("KeyX"===e.code||"KeyC"===e.code||"KeyV"===e.code)}},{key:"handleCut",value:function(){var e=this.getSelectedComponents(),t=e[0].clone().serialize();localStorage.setItem("clipboard",JSON.stringify(t)),e.forEach((function(e){return e.remove()})),this.engine.repaintCanvas()}},{key:"handleCopy",value:function(){var e=this.getSelectedComponents()[0].clone().serialize();console.log(e),localStorage.setItem("clipboard",JSON.stringify(e))}},{key:"onPromise",value:function(e){return new Promise((function(e,t){e(new ht)}))}},{key:"handlePaste",value:function(){var e=localStorage.getItem("clipboard");null==e&&(e="");var t=JSON.parse(e);if(t){console.log(t);var n=new ht,r={data:t,engine:this.engine,registerModel:function(){}};n.deserialize(r),n.setPosition(100,100),console.log(n),this.engine.getModel().addAll(n),this.engine.repaintCanvas()}}}]),n}(p.Action);function vt(){var e=Object(m.a)(["\n\t\twidth: 16px;\n\t\theight: 21px;\n\t\tbackground: rgba(255, 255, 244, 0.1);\n\t\t&:hover {\n\t\t\tbackground: rgb(192, 255, 0);\n\t\t}\n\t"]);return vt=function(){return e},e}function xt(){var e=Object(m.a)(["\n\t\tpadding: 0 5px;\n\t\tflex-grow: 1;\n\t"]);return xt=function(){return e},e}function yt(){var e=Object(m.a)(["\n\t\tdisplay: flex;\n\t\tmargin-top: 1px;\n\t\talign-items: center;\n\t\t&:hover {\n\t\t\tbackground: rgb(192, 255, 0);\n\t\t}\n\t"]);return yt=function(){return e},e}var kt=v.default.div(yt()),It=v.default.div(xt()),Ct=v.default.div(vt()),St=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=Object(r.jsx)(lt.PortWidget,{engine:this.props.engine,port:this.props.port,children:Object(r.jsx)(Ct,{})}),t=Object(r.jsx)(It,{children:this.props.port.getOptions().label});return Object(r.jsx)(Me.MenuProvider,{id:"nodeedit",storeRef:!1,children:Object(r.jsxs)(kt,{children:[this.props.port.getOptions().in?e:t,this.props.port.getOptions().in?t:e]})})}}]),n}(a.Component),Et=n(115),Nt=n.n(Et);function Tt(){var e=Object(m.a)(["\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\t&:first-of-type {\n\t\t\tmargin-right: 10px;\n\t\t}\n\t\t&:only-child {\n\t\t\tmargin-right: 0px;\n\t\t}\n\t"]);return Tt=function(){return e},e}function wt(){var e=Object(m.a)(["\n\t\tdisplay: flex;\n\t\tcolor : #5E666E;\n\t\tfont-weight: 600;\n\t\tbackground-color: white;\n\t"]);return wt=function(){return e},e}function Pt(){var e=Object(m.a)(["\n\t\tmargin-left : 10px;\n\t\tflex-grow: 1;\n\t\tpadding: 10px 5px;\n\t"]);return Pt=function(){return e},e}function Dt(){var e=Object(m.a)(["\n\t\tbackground-color: ",";\n\t\tdisplay: flex;\n\t\tfont-weight: 600;\n\t\twhite-space: nowrap;\n\t\tjustify-items: center;\n\t"]);return Dt=function(){return e},e}function Rt(){var e=Object(m.a)(["\n\t\tborder: solid 1px ",";\n\t\tcolor: white;\n\t\toverflow: visible;\n\t\tfont-size: 13px;\n\t"]);return Rt=function(){return e},e}var Ft=v.default.div(Rt(),(function(e){return e.selected?"rgb(0,192,255)":"grey"})),Lt=v.default.div(Dt(),(function(e){return e.background})),Mt=v.default.div(Pt()),At=v.default.div(wt()),zt=v.default.div(Tt()),_t=function(e){var t=e.node,n=e.engine,a=e.nodetheme,i=Object(se.d)((function(e){return e.themeReducer.nodeTheme})),o=function(e){return Object(r.jsx)(St,{engine:n,port:e},e.getID())};return Object(r.jsxs)(Ft,{"data-default-node-name":t.getOptions().name,selected:t.isSelected(),background:i.bgcolor,onDoubleClick:function(){void 0!=n&&n.fireEvent({},"onDoubleClick")},children:[Object(r.jsxs)(Lt,{background:i.bgcolor,children:[Object(r.jsxs)(Mt,{children:[t.getOptions().name," ",null===a||void 0===a?void 0:a.bgcolor]}),Object(r.jsx)(H.a,{onClick:function(){var e;e={type:"keydown",ctrlKey:!0,code:"Delete"},n.getActionEventBus().fireAction({event:Object(be.a)(Object(be.a)({},e),{},{key:"",preventDefault:function(){},stopPropagation:function(){}})})},color:"inherit",size:"small",children:Object(r.jsx)(Nt.a,{})})]}),Object(r.jsxs)(At,{children:[Object(r.jsx)(zt,{children:st.map(t.getInPorts(),o)}),Object(r.jsx)(zt,{children:st.map(t.getOutPorts(),o)})]})]})},Bt=(Object(se.b)((function(e){return{nodetheme:e.themeReducer.nodeTheme}}))(_t),function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){return Object(b.a)(this,n),t.call(this,"default")}return Object(h.a)(n,[{key:"generateReactWidget",value:function(e){return Object(r.jsx)(Me.MenuProvider,{id:"component",storeRef:!1,data:e.model,children:Object(r.jsx)(_t,{engine:this.engine,node:e.model})})}},{key:"generateModel",value:function(e){return new ht("Node 2","rgb(192,255,0)")}}]),n}(p.AbstractReactFactory)),Ut=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){return Object(b.a)(this,n),t.call(this,"default")}return Object(h.a)(n,[{key:"generateModel",value:function(){return new pt({name:"unknown"})}}]),n}(p.AbstractModelFactory);function Gt(){var e=jt()({registerDefaultDeleteItemsAction:!1});e.getNodeFactories().registerFactory(new Bt),e.getPortFactories().registerFactory(new Ut);var t=new dt.DiagramModel;return e.setModel(t),e}Gt();var Wt,Jt=function(){function e(){var t=this;Object(b.a)(this,e),this.isLock=void 0,this.engine=void 0,this.zoomFit=function(){console.log("zoom fit"),t.getEngine().zoomToFit()},this.copySelected=function(){t.fireAction({type:"keydown",ctrlKey:!0,code:"KeyC"})},this.duplicateSelected=function(){t.fireAction({type:"keydown",ctrlKey:!0,code:"KeyD"})},this.cutSelected=function(){return t.fireAction({type:"keydown",ctrlKey:!0,code:"KeyX"})},this.pasteSelected=function(){return t.fireAction({type:"keydown",ctrlKey:!0,code:"KeyV"})},this.deleteSelected=function(){return t.fireAction({type:"keydown",ctrlKey:!0,code:"Delete"})},this.undo=function(){alert("this feature dont work yet coming soon")},this.redo=function(){alert("this feature dont work yet coming soon")},this.isLock=!1,this.engine=Gt(),this.initActions(),console.log(this.getEngine().getModel().getZoomLevel());var n=this.getEngine().getModel().getLinks();this.getEngine().getModel().getModels();console.log(n)}return Object(h.a)(e,[{key:"initActions",value:function(){var e=this;[new it(!0),new Ot(!0),new gt(!0),new mt(!0)].forEach((function(t){return e.engine.getActionEventBus().registerAction(t)}))}},{key:"fireAction",value:function(e){this.engine.getActionEventBus().fireAction({event:Object(be.a)(Object(be.a)({},e),{},{key:"",preventDefault:function(){},stopPropagation:function(){}})})}},{key:"removeLinkbyPort",value:function(e,t){var n=e.getLinks(),r=t.getLinks();this.removeLink(n,e),this.removeLink(r,t)}},{key:"removeLink",value:function(e,t){if(Object.keys(e).length>=1)for(var n in e)if(e[n].getSourcePort().getID()===t.getID()){e[n].remove(),this.getEngine().repaintCanvas();break}}},{key:"currentNode",value:function(){var e=this.engine.getModel().getSelectedEntities().filter((function(e){return!e.isLocked()}));if(0!=e.length){var t=e[0];if(t instanceof ht!==!1)return t}}},{key:"findSourcesLinkInPort",value:function(e){var t=[],n=e.getLinks(),r=e.getID();for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&n[a].getSourcePort().getID()===r&&t.push(n[a]);return t}},{key:"connectRealation",value:function(e,t,n){var r=this.findSourcesLinkInPort(e);if(r.length>0)this.setRelationLink(r[0],n);else{var a=this.findSourcesLinkInPort(t);a.length>0&&this.setRelationLink(a[0],n)}}},{key:"setRelationLink",value:function(e,t){e.setLabels([]),e.addLabel(t),this.getEngine().repaintCanvas()}},{key:"saveDataByString",value:function(e){var t=new dt.DiagramModel;if(""!==e){var n=JSON.parse(e);if(t.deserializeModel(n,this.getEngine()),null==t)return void console.log("model null")}this.getEngine().setModel(t),this.registerLinkEvent()}},{key:"registerLinkEvent",value:function(){var e=this;this.getEngine().getModel().registerListener({linksUpdated:function(t){return e.isCompleteLink(t)},selectionChanged:function(e){console.log(e)}})}},{key:"isCompleteLink",value:function(e){var t=this;console.log("create link");var n=e.link,r=n.getSourcePort(),a=r.getNode().mirrorPort(r);if(void 0!==a){console.log(a.getOptions().label);var i=this.findSourcesLinkInPort(a);console.log(i),i.length>0&&(alert("error one field can have only one foreign key"),n.remove(),this.getEngine().repaintCanvas()),n.registerListener({targetPortChanged:function(e){return t.toggleFk(e)}})}}},{key:"toggleFk",value:function(e){var t=e.entity.getSourcePort(),n=t.getNode(),r=this.findSourcesLinkInPort(t);r.length>1&&(r[0].remove(),this.getEngine().repaintCanvas()),n.setNodeOption(t.getID())}},{key:"direactionNode",value:function(e,t){console.log(e.getOptions().name),console.log(t.getOptions().name);var n=e.getPosition().x,r=t.getPosition().x;return console.log("x1="+n+" x2="+r),n<=r?"front":"back"}},{key:"getNodeById",value:function(e){return this.getEngine().getModel().getNode(e)}},{key:"clearDiagram",value:function(){var e=new dt.DiagramModel;this.getEngine().setModel(e),this.registerLinkEvent(),this.getEngine().repaintCanvas()}},{key:"linkNode",value:function(){var e=this.getEngine().getModel().getNodes();alert(e[1].getOptions().name);var t=e[0].getOutPorts()[0],n=e[1].getInPorts()[0],r=t.link(n);n.reportPosition(),t.reportPosition(),this.getEngine().getModel().addAll(r),this.getEngine().repaintCanvas()}},{key:"updateNodeName",value:function(e){var t=this.currentNode();void 0!=t&&(t.getOptions().name=e,this.getEngine().repaintCanvas())}},{key:"linkModel",value:function(e,t){var n=this.findSourcesLinkInPort(e);n.length>0&&n[0].remove();var r=e.link(t);e.reportPosition(),t.reportPosition(),this.engine.getModel().addAll(r),this.engine.repaintCanvas()}},{key:"setCurrentNode",value:function(e){this.engine.repaintCanvas()}},{key:"updateNode",value:function(e){var t=this.currentNode();void 0!=t&&(t.updateNode(e),this.getEngine().repaintCanvas())}},{key:"zoomPercent",value:function(e){this.getEngine().getModel().setZoomLevel(e),this.getEngine().repaintCanvas()}},{key:"doZoom",value:function(e){var t=this.getEngine().getModel(),n=t.getZoomLevel();console.log("zoom level : "+n),t.setZoomLevel(n+e),this.getEngine().repaintCanvas()}},{key:"updateFieldOption",value:function(e){var t=this.currentNode();null===t||void 0===t||t.addOrUpdateFieldOption(e)}},{key:"createDiagramWithSchemaTable",value:function(e){var t=this,n=new dt.DiagramModel,r=[],a=0;alert(250),e.forEach((function(e){var n=new ht;n.getOptions().name=e.tablename;var i=r.length,o=0,c=50;if(i>0){alert(i+1+"tb");var s=r[i-1].getPosition();o=s.x,o+=250,c=s.y,6===a&&(o=0,a=0,c+=200),alert("current col : "+a)}alert(o+"and"+c),n.setPosition(o,c),t.createPorts(n,e.fields),a+=1,r.push(n)})),n.addAll.apply(n,r),this.getEngine().setModel(n),this.registerLinkEvent(),this.getEngine().repaintCanvas()}},{key:"getRelationData",value:function(){var e=[];return this.getEngine().getModel().getLinks().forEach((function(t){var n="",r="",a=t.getSourcePort(),i=t.getTargetPort(),o=i.getNode(),c=a.getNode();if(a.getOptions().in){var s=a.getOptions().label;r=void 0!==s?s:"";var l=o.mirrorPort(i);if(void 0!==l){var u=l.getOptions().label;n=void 0!==u?u:""}}if(!1===a.getOptions().in){var d=i.getOptions().label;n=void 0!==d?d:"";var j=c.mirrorPort(a);if(void 0!==j){var f=j.getOptions().label;r=void 0!==f?f:""}}var p={mainTable:c.getOptions().name||"",targetTable:o.getOptions().name||"",relationType:"1:N",mainField:r,targetField:n};e.push(p)})),e}},{key:"createPorts",value:function(e,t){t.forEach((function(t){e.addField({fieldName:t.fieldName,fieldType:t.fieldType})}))}},{key:"allTableWithFkData",value:function(){var e=this,t=[];return this.allTable().forEach((function(n){var r=n,a=n.id;void 0===a&&(a="");for(var i=e.findNodeById(a),o=0;o<n.fields.length;o++){var c=n.fields[o],s=e.getFkDataFromField(i,c);console.log(s);var l=Object(be.a)(Object(be.a)({},c),s);r.fields[o]=l}t.push(r)})),t}},{key:"findNodeById",value:function(e){return this.getEngine().getModel().getNode(e)}},{key:"getFkDataFromField",value:function(e,t){var n;console.count("check fk field");var r={fieldName:"",tableName:""},a=null===(n=t.fieldOption)||void 0===n?void 0:n.fk;if(void 0===a||!a)return r;var i=e.getPortFromID(t.inId),o=e.mirrorPort(i),c=this.findSourcesLinkInPort(i),s=this.getTargetInPortFromLink(c);if(void 0!==s){var l=s.getNode();return r.fieldName=s.getOptions().label,r.tableName=l.getOptions().name,r}var u=this.findSourcesLinkInPort(o),d=this.getTargetInPortFromLink(u);if(void 0!==d){var j=d.getNode();return r.fieldName=d.getOptions().label,r.tableName=j.getOptions().name,r}}},{key:"getTargetInPortFromLink",value:function(e){if(e.length>0){var t=e[0].getTargetPort();return!1===t.getOptions().in?t.getNode().mirrorPort(t):t}}},{key:"allTable",value:function(){var e=this,t=[];return this.getEngine().getModel().getNodes().forEach((function(n){var r=e.nodeToTable(n);t.push(r)})),t}},{key:"currentTable",value:function(){var e={id:"",tablename:"",fields:[]},t=this.currentNode();return void 0===t||t instanceof ht&&(e=this.nodeToTable(t)),e}},{key:"nodeToTable",value:function(e){var t=e.getOptions().name;return void 0==t&&(t=""),{id:e.getID(),tablename:t,fields:e.getAllField()}}},{key:"newNode",value:function(){this.fireAction({type:"keydown",ctrlKey:!0,code:"KeyB"})}},{key:"zoomIn",value:function(e){this.fireAction({clientX:e.clientX,clientY:e.clientY,type:"wheel",deltaY:1})}},{key:"zoomOut",value:function(e){this.fireAction({clientX:e.clientX,clientY:e.clientY,type:"wheel",deltaY:-1})}},{key:"getEngine",value:function(){return this.engine}}]),e}(),Vt=n(2229),Zt=n(86),Kt=n(375),qt=n.n(Kt),Ht=Object(C.a)((function(e){return Object(S.a)({root:{flexGrow:0},inputEdit:{backgroundColor:"#3F51B5",padding:8,color:"white",border:"none",borderRadius:4,fontSize:20},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})})),Yt=function(e){var t=e.onSelectTable,n=e.onDelete,i=e.title,o=e.onEndEdit,c=e.tables,s=Ht(),l=Object(a.useState)(!1),u=Object(f.a)(l,2),d=u[0],j=u[1],p=Object(a.useState)(""),b=Object(f.a)(p,2),h=b[0],O=b[1];return Object(r.jsx)("div",{className:s.root,children:Object(r.jsx)(oe.a,{position:"static",elevation:0,children:Object(r.jsxs)(ce.a,{children:[Object(r.jsx)(H.a,{edge:"start",className:s.menuButton,color:"inherit","aria-label":"menu",children:Object(r.jsx)(xe,{menuName:"",isEnable:!0,items:c,onClickMenu:function(e){t(e)},children:Object(r.jsx)(qt.a,{})})}),d?Object(r.jsx)("input",{value:h,onChange:function(e){O(e.target.value)},onBlur:function(){j(!d),o(h)},className:s.inputEdit}):Object(r.jsx)(Zt.a,{variant:"h6",className:s.title,onClick:function(){j(!0),O(i)},children:i}),Object(r.jsx)(H.a,{color:"inherit",onClick:n,children:Object(r.jsx)(Nt.a,{})})]})})})},Xt=n(2198),$t=n(2200),Qt=n(2196),en=n(2197),tn=n(2199),nn=n(2195),rn=n(377),an=n.n(rn),on=n(376),cn=n.n(on),sn=n(2226),ln=n(378),un=n.n(ln),dn=n(5),jn=n(2201),fn=n(2222),pn=n(2225),bn=n(2204),hn=[{text:"Number",value:"number",group:"common"},{text:"Float",value:"float",group:"common"},{text:"String",value:"string",group:"common"},{text:"Uuid",value:"uuid",group:"common"},{text:"Product Name",value:"productName",group:"common"},{text:"Price",value:"name",group:"common"},{text:"Name",value:"name",group:"common"}],On=Object(C.a)((function(e){return Object(S.a)({styledTable:{borderCollapse:"collapse",margin:"25px 0",fontSize:"0.9em",fontFamily:"sans-serif",minWidth:"400px",boxShadow:"0 0 20px rgba(0, 0, 0, 0.15)"},cell:{border:"1px solid grey",padding:8},selectOption:{height:28,marginTop:10},smallbtn:{width:20,height:20},smallInput:{height:12}})})),gn=Object(dn.a)((function(e){return{root:{}}}))(nn.a),mn=Object(dn.a)((function(e){return{root:{padding:7}}}))(Qt.a);!function(e){e.pk="pk",e.un="un",e.fk="fk",e.ai="ai",e.defaultVal="defaultVar"}(Wt||(Wt={}));var vn=function(e){var t=e.isOpen,n=e.diagramctr,o=e.onclose,c=e.forceUpdate,s=On(),l=Object(a.useState)(""),u=Object(f.a)(l,2),d=(u[0],u[1],Object(a.useState)(ie(n))),j=Object(f.a)(d,2),p=j[0],b=j[1],h=Object(a.useState)(""),O=Object(f.a)(h,2),g=O[0],m=O[1],v=Object(a.useState)(ae()),x=Object(f.a)(v,2),y=x[0],k=x[1],I=Object(a.useState)(""),C=Object(f.a)(I,2),S=C[0],E=C[1],N=Object(a.useState)(!1),T=Object(f.a)(N,2),w=T[0],P=T[1],D=Object(a.useState)(""),R=Object(f.a)(D,2),F=R[0],L=R[1],M=Object(a.useState)(""),A=Object(f.a)(M,2),z=A[0],_=A[1],B=Object(a.useMemo)((function(){return function(){if(""==F)return[];var e=y.find((function(e){return e.id===F}));return void 0==e?[]:e.fields}()}),[F]),U=Object(a.useState)(!1),G=Object(f.a)(U,2),J=G[0],V=G[1],Z=Object(a.useState)(""),K=Object(f.a)(Z,2),q=K[0],Y=K[1],X=Object(a.useState)(""),$=Object(f.a)(X,2),Q=$[0],ee=$[1],te=Object(a.useState)(!1),ne=Object(f.a)(te,2);ne[0],ne[1];Object(a.useEffect)((function(){window.addEventListener("keydown",re)}),[]),Object(a.useEffect)((function(){console.log("re render"),b(ie(n)),k(ae()),window.addEventListener("keydown",re)}),[t,J,c]);var re=function(e){e.ctrlKey,e.shiftKey;"Enter"===e.code&&(e.preventDefault(),ce())};function ae(){return n.allTable()}function ie(e){return e.currentTable()}function oe(e,t){void 0===e&&(e=""),P(!0),E(t),Y(e);var r=n.currentNode();if(void 0!==r){var a=e,i=r.getOutIdFromInId(a),o=r.getPortFromID(a),c=r.getPortFromID(i),s=n.findSourcesLinkInPort(o),l=n.findSourcesLinkInPort(c);if(s.length>0){var u=s[0].getTargetPort();L(u.getNode().getID());var d=u.getNode();_(d.getInIdFromOutId(u.getID()))}else if(l.length>0){var j=l[0].getTargetPort();return L(j.getNode().getID()),void _(j.getID())}}}function ce(){P(!0),function(){var e=p,t=e.fields.findIndex((function(e){return e.inId==q}));if(-1==t)return;e.fields[t].fieldName=S;var r=function(e){var t=/(\S+)_id/g,n=t.exec(e);for(;null!==n;){return n.index===t.lastIndex&&t.lastIndex++,n[1]}return}(S);if(void 0!==r)for(var a=0;a<y.length;a++){if(y[a].tablename===r){var i=y.find((function(e){return e.tablename===r}));if(void 0===i)continue;var o=i.fields[0].inId;alert(i.fields[0].fieldName),void 0===o&&(o="");var c=i.id;void 0===c&&(c="");var s={target:{value:o,targetNodeId:c}},l=i.id;if(void 0!==l){de(s,l),s.value="";var u=e.fields[t].fieldOption;void 0!==u&&(u.fk=!0)}break}}""!=Q&&(e.fields[t].fieldType=Q);b(e),n.updateNode(e)}(),Y("")}function se(e){E(e.target.value)}function le(e){ee(e.target.value)}function ue(e){L(e.target.value)}function de(e,t){if(""!==e.target.value){var r=e.target.value,a=p.fields.find((function(e){return e.inId===q}));_(r);var i=n.currentNode();if(void 0!==i&&void 0!=a){alert(F);var o=void 0===t?n.getNodeById(F):n.getNodeById(t),c=n.direactionNode(i,o),s="front"===c?i.portInIdtoPortOut(q):i.getPortFromID(q),l="front"===c?o.getPortFromID(r):o.portInIdtoPortOut(r);n.linkModel(s,l)}}}function je(e,t){var n=e.fieldOption;return void 0!=n&&("pk"==t?n.pk:"fk"==t?n.fk:"ai"==t?n.ai:void 0)}function fe(e,t){var n=e.fieldOption;return void 0!=n&&n[t]}function pe(e,t){if(void 0!=t){var n=Object(be.a)({},p),r=n.fields.findIndex((function(e){return e.inId==t})),a=n.fields[r].fieldOption;if(void 0!==a){var i=e.target.type;if(console.log(i),"checkbox"===i){var o=!a[e.target.name];a[e.target.name]=o}else"text"===i&&(a[e.target.name]=e.target.value);b(n)}}}function he(e,t,r){e.target.value;if(void 0!=t){var a=p.fields.findIndex((function(e){return e.inId==t})),i=p,o=i.fields[a].fieldOption;if(-1!==a&&void 0!==o){if("pk"===r&&(o.pk=!o.pk),"ai"===r&&(o.ai=!o.ai),"fk"===r&&(o.fk=!o.fk,!1===o.fk)){var c=n.currentNode();if(void 0===c)return;n.removeLinkbyPort(c.getPortInByIndex(a),c.getPortOutByIndex(a))}i.fields[a].fieldOption=o,b(i),console.log(o),n.updateFieldOption(i.fields[a]),V(!J)}}}return Object(r.jsx)(Vt.a,{anchor:"right",open:t,style:{width:600},onClose:function(){L(""),_(""),Y(""),P(!1),o()},children:Object(r.jsxs)("div",{children:[Object(r.jsx)(Yt,{onDelete:function(){void 0!=n.currentNode()&&(n.deleteSelected(),o())},title:p.tablename,onEndEdit:function(e){var t=p;t.tablename=e,b(t),n.updateNodeName(e),V(!J)},onSelectTable:function(e){var t=n.currentNode();void 0!==t&&t.setSelected(!1);var r=n.findNodeById(e);r.setSelected(!0),console.log(r.getOptions().name),n.getEngine().repaintCanvas(),V(!J)},tables:y.map((function(e){return{id:e.id,text:e.tablename}}))}),Object(r.jsx)(en.a,{children:Object(r.jsxs)(Xt.a,{"aria-label":"simple table",children:[Object(r.jsx)(tn.a,{children:Object(r.jsxs)(nn.a,{children:[Object(r.jsx)(mn,{}),Object(r.jsx)(mn,{children:"Field Name"}),Object(r.jsx)(mn,{children:"Type Name"}),Object(r.jsx)(mn,{children:"PK"}),Object(r.jsx)(mn,{children:"AI"}),Object(r.jsx)(mn,{children:"NN"}),Object(r.jsx)(mn,{children:"Action"})]})}),Object(r.jsx)($t.a,{children:p.fields.map((function(e){return Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsxs)(gn,{children:[Object(r.jsx)(mn,{children:Object(r.jsx)(H.a,{"aria-label":"expand row",size:"small",children:w&&q===e.inId?Object(r.jsx)(cn.a,{className:s.smallbtn,onClick:function(){return ce()}}):Object(r.jsx)(an.a,{className:s.smallbtn,onClick:function(){return oe(e.inId,e.fieldName)}})})}),w&&q==e.inId?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(mn,{component:"th",scope:"row",children:Object(r.jsx)("input",{onBlur:function(){return ce()},onChange:se,value:S})}),Object(r.jsx)(mn,{component:"th",scope:"row",children:Object(r.jsxs)("select",{onChange:le,value:Q,children:[Object(r.jsx)("option",{value:"int",children:"Interger"}),Object(r.jsx)("option",{value:"varchar",children:"Varchar"}),Object(r.jsx)("option",{value:"float",children:"Float"}),Object(r.jsx)("option",{value:"date",children:"Date"}),Object(r.jsx)("option",{value:"bool",children:"Boolean"})]})})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(mn,{component:"th",scope:"row",onClick:function(){return oe(e.inId,e.fieldName)},children:e.fieldName}),Object(r.jsx)(mn,{component:"th",scope:"row",onClick:function(){return oe(e.inId,e.fieldName)},children:e.fieldType})]}),Object(r.jsx)(mn,{children:Object(r.jsx)("input",{type:"checkbox",checked:fe(e,et.pk),onChange:function(t){return he(t,e.inId,"pk")}},"pk".concat(e.inId))}),Object(r.jsx)(mn,{children:Object(r.jsx)("input",{type:"checkbox",checked:fe(e,et.ai),onChange:function(t){return he(t,e.inId,"ai")}},"ai".concat(e.inId))}),Object(r.jsx)(mn,{children:Object(r.jsx)("input",{type:"checkbox",name:et.notnull,checked:fe(e,et.notnull),onChange:function(t){return pe(t,e.inId)}},"nn".concat(e.inId))}),Object(r.jsx)(mn,{children:Object(r.jsx)(H.a,{onClick:function(){return function(e){if(void 0!=e){var t=n.currentNode();void 0!=t&&(t.removeFieldbyId(e),V(!J),n.getEngine().repaintCanvas())}}(e.inId)},size:"small",children:Object(r.jsx)(Nt.a,{className:s.smallbtn})})})]}),Object(r.jsx)(nn.a,{children:Object(r.jsx)(mn,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(r.jsx)(jn.a,{in:w&&q===e.inId,timeout:"auto",unmountOnExit:!0,children:Object(r.jsxs)(fn.a,{margin:1,display:"flex",flexDirection:"column",children:[Object(r.jsx)(pn.a,{displayEmpty:!0,name:"faker",onChange:function(t){return function(e,t){if(void 0!=t){var n=Object(be.a)({},p),r=n.fields.findIndex((function(e){return e.inId==t})),a=n.fields[r].fieldOption;void 0!==a&&(console.log(e.target.value),a.faker=e.target.value,b(n))}}(t,e.inId)},value:fe(e,et.faker),className:s.selectOption,variant:"outlined",children:hn.map((function(e){return Object(r.jsx)("option",{value:e.value,children:e.text},"faker".concat(e.text))}))}),Object(r.jsx)(sn.a,{label:"Default Value",name:"defaultVal",onChange:function(t){return pe(t,e.inId)},value:fe(e,et.defaultVal),InputProps:{classes:{input:s.smallInput}},variant:"outlined",size:"small"},"defaultinput".concat(e.inId)),Object(r.jsx)(mn,{children:Object(r.jsx)("input",{type:"checkbox",checked:je(e,"fk"),onChange:function(t){return he(t,e.inId,"fk")}})}),je(e,"fk")?Object(r.jsx)(i.a.Fragment,{children:Object(r.jsxs)(bn.a,{variant:"outlined",size:"small",children:[Object(r.jsxs)(pn.a,{className:s.selectOption,displayEmpty:!0,variant:"outlined",value:F,onChange:ue,children:[Object(r.jsx)(W.a,{value:"",children:" -- Select Ref Table -- "}),y.map((function(e){return p.id!==e.id?Object(r.jsx)(W.a,{value:e.id,children:e.tablename},"option-"+e.id):""}))]}),Object(r.jsxs)(pn.a,{className:s.selectOption,displayEmpty:!0,style:{minWidth:100},value:z,onChange:function(e){return de(e)},children:[Object(r.jsx)(W.a,{style:{display:"none"},value:""}),B.map((function(e){return Object(r.jsx)("option",{value:e.inId,children:e.fieldName},e.fieldName)}))]}),Object(r.jsxs)(pn.a,{className:s.selectOption,displayEmpty:!0,value:g,onChange:function(t){return function(e,t,r){if(void 0!==e&&void 0!==t){var a=n.currentNode();if(void 0!==a){var i=a.getPortFromID(e),o=a.getPortFromID(t);null!==i&&null!==o&&(m(r.target.value),n.connectRealation(i,o,r.target.value))}}}(e.inId,e.outId,t)},children:[Object(r.jsx)(W.a,{value:"1:1",children:"One to One"}),Object(r.jsx)(W.a,{value:"1:N",children:"One to Many"})]})]})}):""]})})})})]},e.inId)}))})]})}),Object(r.jsx)(H.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){return function(){var e=n.currentNode();if(void 0!=e){e.AddNewField();var t=p;t.fields.push({fieldName:"test",fieldType:"int"}),b(t),V(!J),n.getEngine().repaintCanvas()}}()},children:Object(r.jsx)(un.a,{})})]})})},xn=n(396),yn=n(2213),kn=function(){return Object(r.jsxs)(Me.Menu,{id:"nodeedit",children:[Object(r.jsxs)(Me.Item,{children:[Object(r.jsx)($e,{children:Object(r.jsx)(Ge,{})}),"Paste",Object(r.jsxs)(tt,{children:[Object(r.jsx)(Ye,{children:"CTRL"}),Object(r.jsx)(Ye,{children:"V"})]})]}),Object(r.jsx)(Me.Separator,{}),Object(r.jsxs)(Me.Item,{children:[Object(r.jsx)($e,{children:Object(r.jsx)(Ze,{})}),"Zoom in"]}),Object(r.jsxs)(Me.Item,{children:[Object(r.jsx)($e,{children:Object(r.jsx)(Ke,{})}),"Zoom out"]}),Object(r.jsx)(Me.Separator,{}),Object(r.jsxs)(Me.Item,{children:[Object(r.jsx)($e,{children:Object(r.jsx)(Ve,{})}),"Undo",Object(r.jsxs)(tt,{children:[Object(r.jsx)(Ye,{children:"CTRL"}),Object(r.jsx)(Ye,{children:"Z"})]})]}),Object(r.jsxs)(Me.Item,{children:[Object(r.jsx)($e,{children:Object(r.jsx)(We,{})}),"Redo",Object(r.jsxs)(tt,{children:[Object(r.jsx)(Ye,{children:"CTRL"}),Object(r.jsx)(Ye,{children:"SHIFT"}),Object(r.jsx)(Ye,{children:"Z"})]})]})]})},In=n(397),Cn=function(){function e(){Object(b.a)(this,e)}return Object(h.a)(e,[{key:"getFields",value:function(e){return""}},{key:"getCreateTable",value:function(e){return""}},{key:"export",value:function(e,t){return""}}]),e}(),Sn=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"getFields",value:function(e){var t,n,r,a,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=", \n \t",c=null===(t=e.fieldOption)||void 0===t?void 0:t.ai,s=null===(n=e.fieldOption)||void 0===n?void 0:n.pk,l=null===(r=e.fieldOption)||void 0===r?void 0:r.defaultVal,u=null===(a=e.fieldOption)||void 0===a?void 0:a.notnull,d="".concat(e.fieldName," ").concat(e.fieldType);return void 0!==c&&c&&(d+=" AUTO_INCREMENT"),void 0!==s&&s&&(d+=" PRIMARY KEY"),void 0!==l&&""!==l&&(d+=" DEFAULT '".concat(l,"'")),void 0!==u&&u&&(d+=" NOT NULL"),0==i&&(d+=o),d}},{key:"getCreateTable",value:function(e){var t=this,n="";return e.fields.forEach((function(r,a){var i=!1;e.fields.length-1==a&&(i=!0),n+=t.getFields(r,i)})),"CREATE TABLE ".concat(e.tablename," (\n \t").concat(n," \n ) ")}},{key:"generateFieldOption",value:function(){}},{key:"generateRelation",value:function(e){var t="";return e.forEach((function(e){var n="ALTER TABLE ".concat(e.mainTable," ADD FOREIGN KEY (").concat(e.mainField,") REFERENCES ").concat(e.targetTable,"(").concat(e.targetField,");");t+=n+"\n"})),t}},{key:"export",value:function(e,t){var n=this,r="";return e.forEach((function(e){r+=n.getCreateTable(e),r+="\n \n"})),r+="\n",r+=this.generateRelation(t)}}]),n}(Cn),En=n(177),Nn=n.n(En),Tn=n(116),wn=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"export",value:function(e,t){return[]}},{key:"generateCodeToZip",value:function(e,t,n){var r=this.export(e,t),a=new Nn.a;r.forEach((function(e){a.file(e.folder+"/"+e.filename+".js",e.content)})),a.generateAsync({type:"blob"}).then((function(e){return Object(Tn.saveAs)(e,n+".zip")}))}}]),n}(Cn),Pn=n(180),Dn=n(2230),Rn=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"getFields",value:function(e){null===(t=e.fieldOption)||void 0===t||t.ai;var t,n,r,a=null===(n=e.fieldOption)||void 0===n?void 0:n.pk,i=(null===(r=e.fieldOption)||void 0===r||r.defaultVal,"@Column()");return void 0!==a&&a&&(i="@PrimaryGeneratedColumn()"),i+="\n \t",i+="".concat(e.fieldName," ").concat({interger:"number",varchar:"string"}[e.fieldType],"; \n \t")}},{key:"getCreateTable",value:function(e){var t=this,n="";return e.fields.forEach((function(e,r){n+=t.getFields(e)})),"\n@Entity()\nexport class ".concat(e.tablename," {\n").concat(n," \t\n}")}},{key:"getController",value:function(e){var t=Object(Pn.a)(e.tablename),n=Object(Dn.a)(e.tablename);return'import {getRepository} from "typeorm"; \n        import {NextFunction, Request, Response} from "express"; \n        import {'.concat(t,'} from "../entity/').concat(t,'"; \n        \n        export class ').concat(t,"Controller {\n        \n           private ").concat(n,"Repository = getRepository(").concat(t,"); \n           \n           async all(request: Request, response: Response, next: NextFunction) { \n              return this.").concat(n,"Repository.find(); \n           } \n           \n           async one(request: Request, response: Response, next: NextFunction) { \n              return this.").concat(n,"Repository.findOne(request.params.id); \n           } \n           \n           async save(request: Request, response: Response, next: NextFunction) { \n              return this.").concat(n,"Repository.save(request.body); \n           } \n           \n           async remove(request: Request, response: Response, next: NextFunction) { \n              let ").concat(n,"ToRemove = await this.").concat(n,"Repository.findOne(request.params.id); \n              await this.").concat(n,"Repository.remove(").concat(n,"ToRemove); \n           } \n        }\n        ")}},{key:"getRoute",value:function(e){var t=Object(Pn.a)(e.tablename),n=Object(st.lowerCase)(e.tablename);return{content:'\n        { \n            method: "get", \n            route: "/'.concat(n,'", \n            controller: ').concat(t,'Controller, action: "all" \n        }, { \n            method: "get", \n            route: \'/').concat(n,"/:id', controller: ").concat(t,'Controller, action: "one" \n        }, { \n            method: "post", \n            route: "/').concat(n,'", \n            controller: ').concat(t,'Controller, action: "save" \n        }, { \n            method: "delete", route: \'/').concat(n,"/:id', controller: ").concat(t,'Controller,\n            action: "remove" \n        },\n'),import:"import {".concat(t,'Controller} from "../controller/').concat(t,'Controller"; ')}}},{key:"export",value:function(e,t){var n=this,r=[],a="[",i="";e.forEach((function(e){var t=n.getCreateTable(e),o=n.getController(e),c=n.getRoute(e);a+=c.content,i+=c.import+"\n",r.push({filename:e.tablename,content:t,folder:"entity"}),r.push({filename:e.tablename+"Controller",content:o,folder:"controller"})})),a+="\n]";var o="".concat(i," \n\nexport const Routes = ").concat(a);return r.push({filename:"index",content:o,folder:"routes"}),r}},{key:"generateCodeToZip",value:function(e,t,n){var r=this.export(e,t),a=new Nn.a;r.forEach((function(e){a.file(e.folder+"/"+e.filename+".js",e.content)})),a.generateAsync({type:"blob"}).then((function(e){return Object(Tn.saveAs)(e,n+".zip")}))}}]),n}(wn);function Fn(e){var t=[];return e.getEngine().getModel().getNodes().forEach((function(e){var n=e.getOptions().name;void 0==n&&(n="");var r={id:e.getID(),tablename:n,fields:e.getAllField()};t.push(r)})),t}var Ln,Mn,An,zn=n(37),_n=n.n(zn);function Bn(e){return{Id:e._id,ProjectName:e.projectName,ProjectDescription:e.projectDescription,ProjectDetail:"",VisibleStatus:e.visibleStatus,UserId:e.user,ShareUrl:""}}function Un(e){return{projectName:e.ProjectName,projectDescription:e.ProjectDescription,projectDetail:e.ProjectDetail,user:e.UserId,visibleStatus:e.VisibleStatus,shareUrl:e.ShareUrl}}function Gn(e){return{type:Ln.TOGGLE_LOADING,payload:e}}function Wn(e){return{type:Ln.SET_FETCH,payload:e}}function Jn(e){return{_id:e._id,userName:e.userName,userLastname:e.userlastname,userEmail:e.userEmail,userPassword:e.userPassword}}function Vn(e){return{type:Mn.SET_USER,payload:e}}function Zn(e){return{type:Mn.SET_LOGIN,payload:e}}function Kn(e){return{type:An.SET_PROJECT,payload:e}}function qn(e){return{type:An.UPDATE_PROJECT,payload:e}}function Hn(e){return{type:An.NEW_PROJECT,payload:e}}function Yn(e){return{type:An.DELETE_PROJECT,payload:e}}function Xn(e){return{type:An.TOGGLE_MODAL,payload:e}}function $n(e){return{type:An.SET_PROJECT_SAVE_TYPE,payload:e}}!function(e){e.TOGGLE_LOADING="TOGGLE_LOADING",e.SET_FETCH="SET_FETCH"}(Ln||(Ln={})),function(e){e.SET_USER="SET_USER",e.UPDATE_USER="UPDATE_USER",e.SET_LOGIN="SET_LOGIN"}(Mn||(Mn={})),function(e){e.SET_PROJECT="SET_PROJECT",e.UPDATE_PROJECT="UPDATE_PROJECT",e.NEW_PROJECT="NEW_PROJECT",e.DELETE_PROJECT="DELETE_PROJECT",e.TOGGLE_MODAL="TOGGLE_MODAL",e.TOGGLE_CONFRIM_MODAL="TOGGLE_CONFRIM_MODAL",e.SET_PROJECT_SAVE_TYPE="SET_PROJECT_SAVE_TYPE"}(An||(An={}));var Qn,er=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n="https://toperbackend.herokuapp.com")+"/user/getuser",a=n+"/project/getprojects",""!==(i=Pe.a.get("ertoken"))&&void 0!==i){e.next=8;break}return t(Gn(!1)),t(Zn(!1)),e.abrupt("return");case 8:t(Gn(!0)),t(Wn(!1)),_n.a.defaults.headers.common.Authorization="Bearer "+i,_n.a.all([_n.a.get(r),_n.a.get(a)]).then(_n.a.spread((function(e,n){if(t(Gn(!1)),e.data.length>0){var r=Jn(e.data[0]);t(Vn(r)),t(Zn(!0))}var a=[];n.data.forEach((function(e){var t=Bn(e);a.push(t)})),t($n("cloud")),t(Kn(a)),t(Wn(!0))})));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},tr=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r,a,i,o,c,s,l=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>2&&void 0!==l[2]?l[2]:[],"device"!==t){e.next=11;break}if(a=0===r.length?nr():r,void 0!==(i=a.find((function(e){return e.Id===n})))){e.next=6;break}return e.abrupt("return");case 6:return i.Id=Object(bt.a)(),alert(JSON.stringify(i)),e.abrupt("return",i);case 11:if("cloud"!==t){e.next=24;break}if(void 0!==(o=Pe.a.get("ertoken"))){e.next=15;break}return e.abrupt("return");case 15:return _n.a.defaults.headers.common.Authorization="Bearer "+o,e.next=18,_n.a.get("https://toperbackend.herokuapp.com/project/loadproject/"+n);case 18:if(200===(c=e.sent).status){e.next=21;break}return e.abrupt("return");case 21:return(s=Bn(c.data)).ProjectDetail=c.data.projectDetail,e.abrupt("return",s);case 24:return e.abrupt("return");case 25:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),nr=function(){var e=localStorage.getItem("projects");return null===e?[]:JSON.parse(e)},rr=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://toperbackend.herokuapp.com/project",r=Un(e),n(Xn(!1)),n(Gn(!0)),t.next=6,_n.a.post("https://toperbackend.herokuapp.com/project",r);case 6:a=t.sent,e.Id=a.data._id,200===a.status&&n(Hn(e)),n(Gn(!1));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ar=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null!==(r=localStorage.getItem("projects"))&&((a=JSON.parse(r)).push(e),alert(JSON.stringify(a)),localStorage.setItem("projects",JSON.stringify(a)),n(Kn(a)));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ir=n(2207),or=n(2142),cr=n(2143),sr=n(2209),lr=n(2208),ur=n(2205),dr=n(2206),jr=Object(dn.a)((function(e){return{root:{padding:e.spacing(2)}}}))(ur.a),fr=Object(dn.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(dr.a),pr=[{code:"CTRL+N",text:"New Table"},{code:"CTRL+S",text:"Save Project"},{code:"CTRL+C",text:"Copy Table"},{code:"CTRL+V",text:"Cut Table"},{code:"CTRL+D",text:"Duplicate Table"},{code:"CTRL+Z",text:"Redo Action"},{code:"CTRL+X",text:"Undo Action"}],br=function(e){var t=e.isOpen,n=e.onClose;return Object(r.jsxs)(ir.a,{open:t,"aria-labelledby":"simple-dialog-title",children:[Object(r.jsx)(lr.a,{id:"simple-dialog-title",children:"Shortcut"}),Object(r.jsx)(jr,{dividers:!0,children:Object(r.jsx)(or.a,{children:pr.map((function(e){return Object(r.jsxs)(cr.a,{button:!0,children:[Object(r.jsx)(sr.a,{primary:e.code,style:{marginRight:50}}),Object(r.jsx)(sr.a,{primary:e.text})]})}))})}),Object(r.jsx)(fr,{children:Object(r.jsx)(U.a,{color:"primary",onClick:n,children:"Close"})})]})},hr=n(52),Or=n(379),gr=n.n(Or),mr=n(2210),vr=Object(C.a)((function(e){return Object(S.a)({modalPaper:{minWidth:"75vh",maxWidth:"75vh"}})})),xr=function(e){var t=e.linkUrl,n=e.isOpen,a=e.onClose,i=vr(),o=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:hr.b.success("Copy Link Success"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),hr.b.error("Copy Link Fail");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(ir.a,{open:n,"aria-labelledby":"share-dialog",classes:{paper:i.modalPaper},children:[Object(r.jsx)(lr.a,{id:"share-dialog",children:"Share you Diagram"}),Object(r.jsx)(jr,{children:Object(r.jsx)(sn.a,{margin:"dense",id:"linkurl",label:"Link Url",fullWidth:!0,value:t,InputProps:{endAdornment:Object(r.jsx)(mr.a,{position:"end",children:Object(r.jsx)(H.a,{onClick:o,children:Object(r.jsx)(gr.a,{})})})}})}),Object(r.jsx)(fr,{children:Object(r.jsx)(U.a,{onClick:a,color:"primary",children:"Cancel"})})]})},yr=n(398),kr=n(380),Ir=n.n(kr),Cr=function(){function e(){Object(b.a)(this,e)}return Object(h.a)(e,[{key:"generate",value:function(e,t){var n=this.getNonRelationData(e,t),r=this.getSeedNoneRelationData(n),a=this.mergetTableWithRelation(e,t),i=Ir.a.address.city;console.log(i);var o=this.getRelationSeedData(a,r);return console.log(o),this.generateSeedScript(o)}},{key:"generateSeedScript",value:function(e){var t="",n=function(n){e[n].forEach((function(e){var r=Object.keys(e),a=Object.values(e),i=r.join(", "),o=a.map((function(e){return"'".concat(e,"'")})).join(","),c="INSERT INTO ".concat(n," (").concat(i,") VALUES (").concat(o,"); \n");t+=c})),t+="\n"};for(var r in e)n(r);return t}},{key:"mergetTableWithRelation",value:function(e,t){var n=[];return e.forEach((function(e){var r=t.filter((function(t){return t.mainTable===e.tablename}));if(r.length>0){var a=[];e.fields.forEach((function(e){var t="",n="",i="",o=r.find((function(t){return t.mainField===e.fieldName}));void 0!==o&&(t=o.targetTable,n=o.targetField,i=o.relationType);var c=Object(be.a)(Object(be.a)({},e),{},{targetTable:t,targetField:n,relationType:i});a.push(c)}));var i={tableName:e.tablename,fields:a};n.push(i)}})),n}},{key:"getNonRelationData",value:function(e,t){for(var n=Object(yr.a)(e),r=function(e){var r=n.findIndex((function(n){return n.tablename===t[e].mainTable}));-1!==r&&n.splice(r,1)},a=0;a<t.length;a++)r(a);return n}},{key:"getSeedNoneRelationData",value:function(e){for(var t={},n=0;n<e.length;n++){var r=e[n].fields;t[e[n].tablename]=this.generateNoneRelationData(4,r)}return t}},{key:"generateNoneRelationData",value:function(e,t){for(var n=[],r=0;r<e;r++){for(var a={},i=0;i<t.length;i++){var o=this.normalRandom(t[i].fieldName);a[t[i].fieldName]=o}n.push(a)}return n}},{key:"getRelationSeedData",value:function(e,t){if(e.length>0){for(var n=0;n<e.length;n++){if(this.isCanGenerateYet(e[n],t)){var r=this.onGenerateRelationSeed(4,e[n],t);t[e[n].tableName]=r,e.splice(n,1)}}return this.getRelationSeedData(e,t)}return t}},{key:"isCanGenerateYet",value:function(e,t){for(var n=Object.keys(t),r=!0,a=0;a<e.fields.length;a++){var i=e.fields[a];if(""!==i.targetField&&(r=n.includes(i.targetTable),alert(i.fieldName+" "+i.targetTable),!r)){r=!1;break}}return r}},{key:"onGenerateRelationSeed",value:function(e,t,n){var r=this,a=[];n[t.tableName]=[];for(var i=function(e){var i={};t.fields.forEach((function(e){if(""!==e.targetField){if("1:N"===e.relationType)i[e.fieldName]=r.oneToManyGenerate(e,n);else if("1:1"===e.relationType){var a=n[t.tableName];i[e.fieldName]=r.oneToOneGenerate(a,e,n)}}else{var o=r.normalRandom(e.fieldName);i[e.fieldName]=o}})),a.push(i),n[t.tableName]=a},o=0;o<e;o++)i();return a}},{key:"normalRandom",value:function(e){return e+Math.floor(11*Math.random()).toString()+Math.floor(11*Math.random()).toString()+Math.floor(11*Math.random()).toString()}},{key:"oneToManyGenerate",value:function(e,t){var n=Object.keys(t),r="",a=n.indexOf(e.targetTable);if(-1!==a){var i=t[n[a]];r=this.randomArray(i)[e.targetField]}return r}},{key:"oneToOneGenerate",value:function(e,t,n){var r=n[t.targetTable],a="",i=t.fieldName,o=t.targetField;if(Array.isArray(e)){var c=r.map((function(e){return e[o]})),s=e.map((function(e){return e[i]}));a=this.randomUniqueArray(c,s)}return a}},{key:"randomArray",value:function(e){return e[Math.floor(Math.random()*e.length)]}},{key:"randomUniqueArray",value:function(e,t){var n=e[Math.floor(Math.random()*e.length)];return t.includes(n)?this.randomUniqueArray(e,t):n}}]),e}(),Sr=n(381),Er=n.n(Sr),Nr=n(2231),Tr=n(2211),wr=n(2212),Pr=function(e){var t=e.item,n=e.isSelect,a=e.onSelectItem;return Object(r.jsxs)("div",{onClick:function(){a(t.title)},style:{backgroundColor:n?"blue":"white"},children:[Object(r.jsx)("div",{children:t.title}),Object(r.jsx)("div",{children:t.icon}),Object(r.jsx)("div",{children:t.description})]})},Dr=function(e){var t=Object(a.useState)(""),n=Object(f.a)(t,2),i=n[0],o=n[1],c=function(t){o(t),e.onChange(t)};return Object(r.jsxs)(ir.a,{open:e.isOpen,children:[Object(r.jsx)(lr.a,{children:"Select Seed Type"}),Object(r.jsx)(jr,{dividers:!0,children:Object(r.jsx)("div",{className:"container",children:e.items.map((function(e){return Object(r.jsx)(Pr,{item:e,onSelectItem:c,isSelect:i===e.title})}))})}),Object(r.jsxs)(fr,{children:[Object(r.jsx)(U.a,{onClick:function(){return e.onConfrim()},children:"Select"}),Object(r.jsx)(U.a,{onClick:function(){return e.onClose()},children:"Close"})]})]})},Rr=n(382),Fr=n.n(Rr),Lr=[{title:"Sql Seed",icon:"",description:""},{title:"Laravel Seed",icon:"",description:""},{title:"TypeOrm Seed",icon:"",description:""}],Mr=Object(dn.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(Nr.a),Ar=Object(dn.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})(Tr.a),zr=Object(dn.a)((function(e){return{root:{padding:e.spacing(2)}}}))(wr.a),_r=Object(C.a)((function(e){return Object(S.a)({appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}})})),Br=function(e){var t=_r(),n=Object(a.useState)(""),i=Object(f.a)(n,2),o=i[0],c=i[1],s=Object(a.useState)(!1),l=Object(f.a)(s,2),u=l[0],d=l[1],j=function(){e.onClose()};return Object(r.jsxs)(ir.a,{fullScreen:!0,open:e.isOpen,onClose:j,children:[Object(r.jsx)(Dr,{items:Lr,isOpen:u,onClose:function(){return d(!1)},onChange:function(e){return c(e)},onConfrim:function(){d(!1);var t=(new Cr).generate(e.tables,e.relations),n=new Blob([t],{type:"text/plain;charset=utf-8;"});Object(Tn.saveAs)(n,"seed.sql")}}),Object(r.jsx)(oe.a,{className:t.appBar,elevation:0,children:Object(r.jsxs)(ce.a,{children:[Object(r.jsx)(H.a,{edge:"start",color:"inherit",onClick:j,"aria-label":"close",children:Object(r.jsx)(Er.a,{})}),Object(r.jsx)(Zt.a,{variant:"h6",className:t.title,children:"Seed Generator"}),Object(r.jsx)(U.a,{autoFocus:!0,color:"inherit",onClick:function(){return d(!0)},children:"Save"}),Object(r.jsx)(U.a,{autoFocus:!0,color:"inherit",onClick:j,children:"Close"})]})}),Object(r.jsx)("div",{children:e.tables.map((function(e){return Object(r.jsxs)(Mr,{TransitionProps:{unmountOnExit:!0},expanded:e.id===o,onChange:(t=e.id,function(e,n){void 0!==t&&c(""===o?t:"")}),children:[Object(r.jsx)(Ar,{expandIcon:Object(r.jsx)(Fr.a,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:Object(r.jsx)(Zt.a,{children:e.tablename})}),Object(r.jsx)(zr,{children:Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Name"}),Object(r.jsx)("th",{children:"Type"}),Object(r.jsx)("th",{children:"Faker"})]})}),Object(r.jsx)("tbody",{children:e.fields.map((function(e){var t;return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.fieldName}),Object(r.jsx)("td",{children:e.fieldType}),Object(r.jsx)("td",{children:null===(t=e.fieldOption)||void 0===t?void 0:t.faker})]})}))})]})})]});var t}))})]})};!function(e){e[e.Public=0]="Public",e[e.Private=1]="Private",e[e.Protected=2]="Protected"}(Qn||(Qn={}));var Ur,Gr=function(){var e=Object(l.i)().projectId,t=Object(se.d)((function(e){return e.AuthReducer.user})),n=Object(se.d)((function(e){return e.ProjectReducer.projectSaveType})),i=Object(se.d)((function(e){return e.ShareReducer.isFetch})),o=Object(se.d)((function(e){return e.themeReducer.darkMode})),c=Object(a.useState)(!1),s=Object(f.a)(c,2),u=s[0],b=s[1],h=o?"dark":"light",O=Object(se.c)(),g=Object(l.g)(),m=Object(a.useState)(!0),v=Object(f.a)(m,2),x=v[0],y=v[1],k=Object(a.useState)(!1),C=Object(f.a)(k,2),S=C[0],E=(C[1],Object(a.useState)(!1)),N=Object(f.a)(E,2),T=(N[0],N[1]),w=Object(a.useState)(new Jt),P=Object(f.a)(w,2),D=P[0],R=(P[1],Object(a.useState)(function(){Object(bt.a)();return{ProjectName:"Projecttyu",ProjectDescription:"hello world",ProjectDetail:"",VisibleStatus:Qn.Private,UserId:t._id,ShareUrl:"xff"}}())),F=Object(f.a)(R,2),L=F[0],M=F[1],A=Object(a.useState)(""),z=Object(f.a)(A,2),_=(z[0],z[1]),B=Object(a.useState)(!1),U=Object(f.a)(B,2),G=U[0],W=U[1],J=Object(a.useState)(!1),V=Object(f.a)(J,2),Z=(V[0],V[1]),K=Object(a.useState)(!1),q=Object(f.a)(K,2),H=q[0],Y=q[1],X=Object(a.useState)(!1),$=Object(f.a)(X,2),Q=$[0],ee=$[1],te=Object(a.useState)(!1),ne=Object(f.a)(te,2),re=ne[0],ae=ne[1],oe=Object(a.useState)(""),ce=Object(f.a)(oe,2),le=ce[0],ue=ce[1],de=Object(a.useState)([]),je=Object(f.a)(de,2),fe=je[0],pe=je[1],be=Object(a.useState)([]),he=Object(f.a)(be,2),Oe=he[0],ge=he[1],me=Object(xn.a)({palette:{type:h,primary:{main:"#5661B3",dark:"#333333"},secondary:{main:"#333333",dark:"#333333"}}});function ve(){D.getEngine().getModel().getModels().forEach((function(e){e.registerListener({selectionChanged:function(e){return function(e){var t=e.isSelected;y(t)}(e)}})}))}Object(a.useEffect)((function(){D.getEngine().registerListener({onDoubleClick:function(){return Ie()}}),function(){var t=g.location.pathname.split("/")[1],n=Pe.a.get("ertoken");if(void 0===n||""===n)"share"===t?(W(!0),xe()):g.push("/login");else{_n.a.defaults.headers.common.Authorization="Bearer "+n,i||O(er());var r=g.location.pathname.split("/")[1];"editor"===r&&xe(),"localeditor"===r&&function(){var t=localStorage.getItem("projects");if(null===t)return;var n=JSON.parse(t).find((function(t){return t.Id===e}));if(void 0===n)return;var r=L;r.ProjectName=n.ProjectName,r.ProjectDescription=n.ProjectDescription,D.saveDataByString(n.ProjectDetail),M(r),ve()}()}}()}),[]);var xe=function(){var t="project/".concat(G?"loadproject":"shareproject","/")+e;_n.a.get("https://toperbackend.herokuapp.com/"+t).then((function(e){console.log(e),L.UserId=e.data.user,L.ProjectName=e.data.projectName,L.ProjectDescription=e.data.projectDescription,D.saveDataByString(e.data.projectDetail),ve()}))};function ye(){return(ye=Object(j.a)(d.a.mark((function t(){var n,r,a,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=L,"https://toperbackend.herokuapp.com/",r="project/update/"+e,a=D.getEngine().getModel().serialize(),i=JSON.stringify(a),n.ProjectDetail=i,o=Un(n),O(Gn(!0)),t.next=10,_n.a.put("https://toperbackend.herokuapp.com/"+r,o);case 10:t.sent,O(Gn(!1)),hr.b.success("Save Project Sucess");case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ke(e){var t=document.getElementById("diagramcv");null!=t&&In.a(t).then((function(t){(new Image).src=t;var n=document.createElement("a");n.href=t,n.download=e,n.click()})).catch((function(e){console.error("oops, something went wrong!",e)}))}function Ie(){Y(!H)}function Ce(){var e=D.getEngine().getModel().serialize(),t=JSON.stringify(e);_(t),Ee(L.ProjectName+".er",t)}function Se(e){console.log("on load")}function Ee(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function Ne(e,t){var n=Fn(D),r=D.getRelationData();Ee(e,t.export(n,r))}function Te(){D.doZoom(25)}function we(){D.doZoom(-25)}return Object(r.jsxs)(yn.a,{theme:me,children:[Object(r.jsx)(Le,{diagram:D,onExport:function(e){switch(e){case"png-ex":ke(L.ProjectName+".png");break;case"json-ex":Ce();break;case"mysql-ex":Ne(L.ProjectName+".sql",new Sn);break;case"pos-ex":case"sqlserver-ex":alert("coming soon");break;case"typeorm-ex":!function(e,t){var n=Fn(D),r=D.getRelationData();t.generateCodeToZip(n,r,e)}(L.ProjectName,new Rn)}"dbexportmenu"===e?T(!0):"imageexportmenu"===e&&Z(!0)},isDark:o,onSave:function(){var t;if(G)hr.b.error("You are not Permission for Edit this Diagram");else if("cloud"===n)!function(){ye.apply(this,arguments)}();else if("device"===n){var r=D.getEngine().getModel().serialize(),a={id:e,data:JSON.stringify(r)};O((t=a,function(){var e=Object(j.a)(d.a.mark((function e(n){var r,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=localStorage.getItem("projects"))){e.next=12;break}if(a=JSON.parse(r),console.log(a),console.log(t.id),-1!==(i=a.findIndex((function(e){return e.Id===t.id})))){e.next=8;break}return e.abrupt("return");case 8:console.log(i),console.log(a[i]),a[i].ProjectDetail=t.data,localStorage.setItem("projects",JSON.stringify(a));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),hr.b.success("Save Project Sucess")}},onSelectChange:x,onOpenMenu:function(e){switch(e){case"shortcutmenu":ee(!0);break;case"exportmenu":T(!0);break;case"importmenu":!function(){var e=document.getElementById("importjson");if(e&&document.createEvent){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!1),e.dispatchEvent(t)}}();break;case"seedmenu":!function(){var e=Fn(D);pe(e),ge(D.getRelationData()),b(!0)}();break;case"sharemenu":var t=g.location.pathname,n=t.split("/");t="https://toper.netlify.app/share/"+n[2],ue(t),ae(!0)}}}),Object(r.jsx)(ie,{onZoomIn:Te,isRender:!1,isDark:o,onRedo:D.redo,onZoomOut:we,onZoomFit:D.zoomFit,newTable:function(){D.newNode(),ve()},onUndo:D.undo,onCut:D.cutSelected,onDel:D.deleteSelected,onZoomSelectChange:function(e){if("Reset View"!==e){D.zoomPercent({"100%":100,"75%":75,"50%":50}[e])}else D.zoomFit()},onDup:D.duplicateSelected,isNodeSelect:x,onCopy:D.copySelected}),Object(r.jsx)(Br,{isOpen:u,tables:fe,relations:Oe,onClose:function(){return pe([]),ge([]),void b(!1)}}),Object(r.jsx)(br,{isOpen:Q,onClose:function(){return ee(!1)}}),Object(r.jsx)(xr,{isOpen:re,linkUrl:le,onClose:function(){return ae(!1)}}),Object(r.jsx)("input",{type:"file",style:{display:"none"},id:"jsonimport",onChange:function(){return Se}}),Object(r.jsx)("input",{type:"file",style:{display:"none"},id:"importjson",onChange:function(e){console.log(e)}}),Object(r.jsx)(vn,{isOpen:H,diagramctr:D,onclose:Ie,forceUpdate:S}),Object(r.jsx)(Me.MenuProvider,{id:"diagram",storeRef:!1,children:Object(r.jsx)(I,{background:"#FFFF",color:"#808080",isDark:o,children:Object(r.jsx)(p.CanvasWidget,{engine:D.engine,className:"canvas"})})}),Object(r.jsx)(kn,{}),Object(r.jsx)(at,{copyFunc:D.copySelected,pasteFunc:D.pasteSelected,deleteFunc:D.deleteSelected,duplicateFunc:D.duplicateSelected,cutFunc:D.cutSelected,zoomIn:Te,zoomOut:we,undoFunc:D.undo,redoFunc:D.redo})]})},Wr=n(2218),Jr=n(2219),Vr=n(2214),Zr=n(384),Kr=n.n(Zr),qr=n(385),Hr=n.n(qr),Yr=n(386),Xr=n.n(Yr),$r=n(387),Qr=n.n($r),ea=n(383),ta=n.n(ea),na=Object(C.a)((function(e){return{drawer:{width:240,flexShrink:0},toolbar:Object(be.a)({},e.mixins.toolbar),avatarIcon:{width:e.spacing(7),height:e.spacing(7)},drawerPaper:{backgroundColor:"#5661B3",color:"white",position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},toolbarIcon:Object(be.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar)}})),ra=function(){var e=na(),t=Object(se.d)((function(e){return e.AuthReducer.user})),n=Object(l.g)(),a=function(e){n.push("/document/"+e)};return Object(r.jsxs)(Vt.a,{variant:"permanent",className:e.drawer,classes:{paper:e.drawerPaper},anchor:"left",children:[Object(r.jsx)("div",{className:e.toolbar,children:Object(r.jsxs)(fn.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object(r.jsx)(pe.a,{alt:"Remy Sharp",style:{marginTop:20},className:e.avatarIcon,children:Object(r.jsx)(ue.a,{style:{fontSize:70}})}),Object(r.jsx)(Zt.a,{style:{margin:14,fontSize:20},children:t.userName}),Object(r.jsx)("hr",{style:{width:200}})]})}),Object(r.jsx)(or.a,{children:Object(r.jsxs)("div",{children:[Object(r.jsxs)(cr.a,{button:!0,onClick:function(){return a("newproject")},children:[Object(r.jsx)(Vr.a,{children:Object(r.jsx)(ta.a,{color:"inherit",style:{color:"white"}})}),Object(r.jsx)(sr.a,{primary:"New Project"})]}),Object(r.jsxs)(cr.a,{button:!0,onClick:function(){return a("filelist")},children:[Object(r.jsx)(Vr.a,{children:Object(r.jsx)(Kr.a,{color:"inherit",style:{color:"white"}})}),Object(r.jsx)(sr.a,{primary:"File List"})]}),Object(r.jsxs)(cr.a,{button:!0,onClick:function(){return a("filelist")},children:[Object(r.jsx)(Vr.a,{color:"transparent",children:Object(r.jsx)(Hr.a,{style:{color:"white"}})}),Object(r.jsx)(sr.a,{primary:"Template"})]}),Object(r.jsxs)(cr.a,{button:!0,onClick:function(){return a("accout")},children:[Object(r.jsx)(Vr.a,{children:Object(r.jsx)(Xr.a,{style:{color:"white"}})}),Object(r.jsx)(sr.a,{primary:"Customers"})]}),Object(r.jsxs)(cr.a,{button:!0,onClick:function(){return a("accout")},children:[Object(r.jsx)(Vr.a,{children:Object(r.jsx)(Qr.a,{style:{color:"white"}})}),Object(r.jsx)(sr.a,{primary:"Logout"})]})]})})]})};function aa(e){return{type:Ur.SET_ERROR,payload:e}}!function(e){e.SET_ERROR="SET_ERROR",e.HIDE_ERROR="HIDE_ERROR"}(Ur||(Ur={}));var ia=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r,a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://toperbackend.herokuapp.com/auth/login",t.prev=1,t.next=4,_n.a.post("https://toperbackend.herokuapp.com/auth/login",e);case 4:r=t.sent,console.log(r),200===r.status&&""!==(a=r.data).access_token&&(hr.b.success("Login sucess"),Pe.a.set("ertoken",a.access_token),i=Jn(a),n(Vn(i)),n(Zn(!0))),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),hr.b.error("Wrong User or Password");case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},oa=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r,a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://toperbackend.herokuapp.com/auth/register",t.prev=1,t.next=4,_n.a.post("https://toperbackend.herokuapp.com/auth/register",e);case 4:r=t.sent,""!==(a=r.data).access_token&&(Pe.a.set("ertoken",a.access_token),i=Jn(a),n(Vn(i)),n(Zn(!0))),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.response),n(aa(t.t0.response.data.message));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},ca=n(388),sa=n.n(ca),la=n(389),ua=n.n(la),da=Object(C.a)((function(e){return{toolbar:{paddingRight:24},appBar:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},menuButton:{marginRight:36},title:{flexGrow:1}}})),ja=function(){var e=Object(l.g)(),t=(Object(se.d)((function(e){return e.AuthReducer.user})),Object(se.c)()),n=da(),a=function(){var n=Object(j.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Pe.a.set("ertoken",""),t(Vn({_id:"",userName:"test",userLastname:"",userEmail:"",userPassword:""})),t(Zn(!1)),t(Kn([]));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:e.push("/login");case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(r.jsx)(oe.a,{className:n.appBar,elevation:0,position:"fixed",color:"transparent",children:Object(r.jsxs)(ce.a,{className:n.toolbar,children:[Object(r.jsx)(H.a,{edge:"start",color:"inherit","aria-label":"open drawer",className:n.menuButton,children:Object(r.jsx)(sa.a,{})}),Object(r.jsx)(Zt.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:n.title,children:"Dashboard"}),Object(r.jsx)(H.a,{color:"inherit",onClick:a,children:Object(r.jsx)(ua.a,{})})]})})},fa=n(2216),pa=n(2217),ba=n(2215),ha=function(e){var t=e.isOpen,n=e.onClose,a=e.onConfrim,i=function(){n()};return Object(r.jsx)("div",{children:Object(r.jsxs)(ir.a,{open:t,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(r.jsx)(lr.a,{id:"alert-dialog-title",children:"Are you want Delete this Project?"}),Object(r.jsx)(ur.a,{children:Object(r.jsx)(ba.a,{id:"alert-dialog-description",children:"Let Google help apps determine location. This means sending anonymous location data to Google, even when no apps are running."})}),Object(r.jsxs)(dr.a,{children:[Object(r.jsx)(U.a,{onClick:i,color:"primary",children:"Disagree"}),Object(r.jsx)(U.a,{onClick:function(){a()},color:"primary",autoFocus:!0,children:"Agree"})]})]})})},Oa=n(391),ga=n.n(Oa),ma=n(394),va=n.n(ma),xa=n(392),ya=n.n(xa),ka=n(393),Ia=n.n(ka),Ca=n(390),Sa=n.n(Ca),Ea=["Edit","Delete","Clone","Make Template"],Na=function(e){e.diagramId;var t=e.onClickMenu,n=Object(a.useState)(null),i=Object(f.a)(n,2),o=i[0],c=i[1],s=Boolean(o);return Object(r.jsxs)("div",{children:[Object(r.jsx)(H.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},children:Object(r.jsx)(Sa.a,{})}),Object(r.jsx)(G.a,{id:"long-menu",anchorEl:o,keepMounted:!0,open:s,onClose:function(){c(null)},children:Ea.map((function(e){return Object(r.jsx)(W.a,{selected:"Pyxis"===e,onClick:function(){return n=e,c(null),void t(n);var n},children:e},e)}))})]})},Ta=function(){var e=Object(l.g)(),t=Object(se.c)(),n=Object(a.useState)(!1),i=Object(f.a)(n,2),o=i[0],c=i[1],u=Object(a.useState)(""),p=Object(f.a)(u,2),b=p[0],h=p[1],O=Object(se.d)((function(e){return e.ProjectReducer.projects})),g=Object(se.d)((function(e){return e.ProjectReducer.projectSaveType})),m=function(e){"device"===e?t(function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("projects"),r=[],null!==n){e.next=5;break}return localStorage.setItem("projects",JSON.stringify(r)),e.abrupt("return");case 5:t($n("device")),(a=JSON.parse(n)).forEach((function(e){e.ProjectDetail=""})),t(Kn(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):"cloud"===e&&t(function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Gn(!0)),e.next=4,_n.a.get("https://toperbackend.herokuapp.com/project/getprojects");case 4:200===(n=e.sent).status&&(r=[],n.data.forEach((function(e){var t=Bn(e);r.push(t)})),t(Kn(r)),t($n("cloud"))),t(Gn(!1));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},v=function(t,n){if(void 0!==n)switch(t){case"Delete":!function(e){void 0===e&&(e=""),c(!0),h(e)}(n);break;case"Edit":e.push("/document/editproject/"+n);break;case"Make Template":y(n);break;case"Clone":x(n)}},x=function(){var e=Object(j.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr(g,n);case 2:if(void 0!==(r=e.sent)){e.next=5;break}return e.abrupt("return");case 5:if(r.ProjectName="Clone-"+r.ProjectName,"device"!==g){e.next=11;break}return e.next=9,t(ar(r));case 9:e.next=14;break;case 11:if("cloud"!==g){e.next=14;break}return e.next=14,t(rr(r));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){};return Object(r.jsxs)(fn.a,{display:"flex",children:[Object(r.jsxs)(fn.a,{p:1,flexGrow:1,children:[Object(r.jsx)("h2",{children:"Open With"}),Object(r.jsxs)(or.a,{children:[Object(r.jsxs)(cr.a,{button:!0,onClick:function(){return m("cloud")},selected:"cloud"===g,children:[Object(r.jsx)(Vr.a,{children:Object(r.jsx)(ga.a,{})}),Object(r.jsx)(sr.a,{primary:"Cloud"})]}),Object(r.jsxs)(cr.a,{button:!0,onClick:function(){return m("device")},selected:"device"===g,children:[Object(r.jsx)(Vr.a,{children:Object(r.jsx)(ya.a,{})}),Object(r.jsx)(sr.a,{primary:"Device"})]}),Object(r.jsxs)(cr.a,{button:!0,children:[Object(r.jsx)(Vr.a,{children:Object(r.jsx)(Ia.a,{})}),Object(r.jsx)(sr.a,{primary:"Browse"})]})]})]}),Object(r.jsx)(D.a,{orientation:"vertical",flexItem:!0,style:{height:"80vh"}}),Object(r.jsx)(fn.a,{p:1,flexGrow:1,children:Object(r.jsxs)(or.a,{children:[O.map((function(e){return Object(r.jsxs)(cr.a,{children:[Object(r.jsx)(s.b,{to:function(){return void 0===(t=e.Id)?"":("cloud"===g?"/editor":"/localeditor")+"/"+t;var t},children:Object(r.jsx)(fa.a,{children:Object(r.jsx)(pe.a,{children:Object(r.jsx)(va.a,{})})})}),Object(r.jsx)(sr.a,{primary:e.ProjectName,secondary:"Update at 10min ago"}),Object(r.jsx)(pa.a,{children:Object(r.jsx)(Na,{onClickMenu:function(t){return v(t,e.Id)}})})]},"editproject"+e.Id)})),Object(r.jsx)(ha,{isOpen:o,onClose:function(){return c(!1)},onConfrim:function(){var e;(alert(b),c(!1),""!==b)&&t("device"===g?(e=b,function(){var t=Object(j.a)(d.a.mark((function t(n){var r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=nr(),-1!==(a=r.findIndex((function(t){return t.Id===e})))){t.next=4;break}return t.abrupt("return");case 4:r.splice(a,1),localStorage.setItem("projects",JSON.stringify(r)),n(Yn(e));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="https://toperbackend.herokuapp.com/project/delete/"+e,n(Gn(!0)),t.next=4,_n.a.delete(r);case 4:200===t.sent.status&&n(Yn(e)),n(Gn(!1));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(b))}})]})})]})},wa=function(){var e=Object(se.d)((function(e){return e.AuthReducer.user})),t=Object(a.useState)(""),n=Object(f.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)(""),s=Object(f.a)(c,2),l=s[0],u=(s[1],Object(a.useState)("")),d=Object(f.a)(u,2),j=d[0],p=d[1],b=Object(a.useState)(""),h=Object(f.a)(b,2),O=h[0],g=h[1],m=Object(se.c)();Object(a.useEffect)((function(){alert("init user form"),p(e.userEmail),o(e.userName),g(e.userPassword)}),[]);return Object(r.jsxs)(fn.a,{flexGrow:1,children:[Object(r.jsx)(sn.a,{label:"User Email",value:j,onChange:function(e){return p(e.target.value)},fullWidth:!0,style:{margin:8}}),Object(r.jsx)(sn.a,{label:"User Name",value:i,onChange:function(e){return o(e.target.value)},fullWidth:!0,style:{margin:8}}),Object(r.jsx)(sn.a,{label:"User Password",value:O,onChange:function(e){return g(e.target.value)},fullWidth:!0,style:{margin:8}}),Object(r.jsx)(U.a,{onClick:function(){var t=Object(be.a)(Object(be.a)({},e),{},{userEmail:j,userName:i,userLastname:l,userPassword:O});t.userLastname="testt",alert(JSON.stringify(t));var n="https://toperbackend.herokuapp.com/user/"+e._id;_n.a.put(n,t).then((function(e){if(console.log(e),200===e.status){var n=Jn(e.data);console.log(n),m(Vn(t))}}))},children:"Save"})]})},Pa=function(){var e="",t=Object(a.useState)(""),n=Object(f.a)(t,2),i=n[0],o=n[1],c=Object(se.d)((function(e){return e.ProjectReducer.projectSaveType})),s=Object(se.d)((function(e){return e.AuthReducer.user._id})),u=Object(se.d)((function(e){return e.ProjectReducer.projects})),p=Object(a.useState)({Id:"",ProjectName:"",ProjectDescription:"",UserId:"",VisibleStatus:1,ShareUrl:"",ProjectDetail:""}),b=Object(f.a)(p,2),h=b[0],O=b[1],g=Object(l.h)(),m=Object(l.g)(),v=Object(se.c)(),x=Object(a.useState)(""),y=Object(f.a)(x,2),k=y[0],I=y[1],C=Object(a.useState)(""),S=Object(f.a)(C,2),E=S[0],N=S[1];Object(se.d)((function(e){return e.AuthReducer.user}));Object(a.useEffect)((function(){!function(){var t=g.pathname.split("/");if(t.length=4){e=t[3],o(e);var n=u.find((function(t){return t.Id===e}));void 0!==n&&(O(n),alert("set project "+JSON.stringify(n)),I(n.ProjectName),N(n.ProjectDescription))}}()}),[]);return Object(r.jsxs)(fn.a,{flexGrow:1,children:[Object(r.jsx)(sn.a,{label:"Project Name",value:k,onChange:function(e){return I(e.target.value)},fullWidth:!0,style:{margin:8}}),Object(r.jsx)(sn.a,{label:"Project Description",value:E,onChange:function(e){return N(e.target.value)},fullWidth:!0,style:{margin:8}}),Object(r.jsx)(sn.a,{label:"Create Date",disabled:!0,fullWidth:!0,style:{margin:8}}),Object(r.jsx)(sn.a,{label:"Update Date",disabled:!0,fullWidth:!0,style:{margin:8}}),Object(r.jsx)(U.a,{onClick:function(){var e,t;h.UserId=s,h.ProjectName=k,h.ProjectDescription=E,void 0===i||""===i?"device"===c?(console.log("add device"),h.Id=Object(bt.a)(),v(ar(h))):"cloud"===c&&(console.log("add cloud"),v(rr(h))):v((e=h,t=i,function(){var n=Object(j.a)(d.a.mark((function n(r){var a,i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="https://toperbackend.herokuapp.com/project/"+t,i=Un(e),r(Xn(!1)),r(Gn(!0)),n.next=6,_n.a.put(a,i);case 6:200===n.sent.status&&r(qn({id:t,data:e})),r(Gn(!1));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())),m.push("/")},style:{margin:8},children:"Save Project"})]})};function Da(){return Object(r.jsx)("div",{children:"Template"})}var Ra=Object(C.a)((function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}})),Fa=function(){var e=Ra(),t=(Object(se.d)((function(e){return e.ProjectReducer.addProjectModal})),Object(se.d)((function(e){return e.ShareReducer.isFetch}))),n=(Object(se.d)((function(e){return e.ShareReducer.isLoading})),Object(se.c)());return Object(a.useEffect)((function(){t||n(er())}),[]),Object(r.jsxs)("div",{className:e.root,children:[Object(r.jsx)(Wr.a,{}),Object(r.jsx)(ra,{}),Object(r.jsx)(ja,{}),Object(r.jsxs)("main",{className:e.content,children:[Object(r.jsx)("div",{className:e.appBarSpacer}),Object(r.jsx)(Jr.a,{maxWidth:"lg",className:e.container,children:Object(r.jsxs)(l.d,{children:[Object(r.jsx)(l.b,{path:"/document/filelist",component:Ta}),Object(r.jsx)(l.b,{path:"/document/template",component:Da}),Object(r.jsx)(l.b,{path:"/document/accout",component:wa}),Object(r.jsx)(l.b,{path:"/document/newproject",component:Pa}),Object(r.jsx)(l.b,{path:"/document/editproject/:id",component:Pa})]})})]})]})},La=n(2221),Ma=n(2224),Aa=n(2220),za=n(179),_a=n.n(za);function Ba(){return Object(r.jsxs)(Zt.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(r.jsx)(Aa.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var Ua,Ga=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Wa=function(){var e=Object(l.g)(),t=Ga(),n=Object(se.c)(),i=(Object(a.useRef)(""),Object(a.useState)("")),o=Object(f.a)(i,2),c=o[0],u=o[1],p=Object(a.useState)(""),b=Object(f.a)(p,2),h=b[0],O=b[1],g=function(){var t=Object(j.a)(d.a.mark((function t(){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={userEmail:"",userName:"",userPassword:h},m()?r.userEmail=c:r.userName=c,n(Gn(!0)),t.next=5,n(ia(r));case 5:n(Gn(!1)),e.push("/");case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){return/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(c)};return Object(r.jsxs)(Jr.a,{component:"main",maxWidth:"xs",children:[Object(r.jsx)(Wr.a,{}),Object(r.jsxs)("div",{className:t.paper,children:[Object(r.jsx)(pe.a,{className:t.avatar,children:Object(r.jsx)(_a.a,{})}),Object(r.jsx)(Zt.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(r.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(r.jsx)(sn.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Enter Name or Email",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return u(e.target.value)},value:c}),Object(r.jsx)(sn.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return O(e.target.value)},value:h}),Object(r.jsx)(La.a,{control:Object(r.jsx)(Ma.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(r.jsx)(U.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:g,children:"Sign In"}),Object(r.jsxs)(P.a,{container:!0,children:[Object(r.jsx)(P.a,{item:!0,xs:!0,children:Object(r.jsx)(Aa.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(r.jsx)(P.a,{item:!0,children:Object(r.jsx)(s.b,{to:"/signup",children:Object(r.jsx)(Aa.a,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]})]}),Object(r.jsx)(fn.a,{mt:8,children:Object(r.jsx)(Ba,{})})]})},Ja=n(119),Va={user:{_id:"",userName:"test",userLastname:"",userEmail:"",userPassword:""},isLogin:!0,err:"no err"},Za={isFetch:!1,error:"",isLoading:!1},Ka={projects:[],currentProject:{Id:"",ProjectName:"",ProjectDescription:"",UserId:"",VisibleStatus:1,ShareUrl:"",ProjectDetail:""},addProjectModal:!1,confrimModal:!1,projectSaveType:""};!function(e){e.SET_NODE_THEME="SET_NODE_THEME"}(Ua||(Ua={}));var qa={darkMode:function(){console.log("get mode");var e=Pe.a.get("darkmode");return void 0!==e&&"false"!==e}(),nodeTheme:{textcolor:"white",bgcolor:"#015AA0"}},Ha={error:"",isOpen:!1},Ya=n(395),Xa=Object(Ja.c)({AuthReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mn.SET_USER:return console.log("set user reducer : "+JSON.stringify(t.payload)),Object(be.a)(Object(be.a)({},e),{},{user:t.payload});case Mn.UPDATE_USER:return Object(be.a)(Object(be.a)({},e),t.payload);case Mn.SET_LOGIN:return Object(be.a)(Object(be.a)({},e),{},{isLogin:t.payload});default:return e}},ShareReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Za,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ln.TOGGLE_LOADING:return Object(be.a)(Object(be.a)({},e),{},{isLoading:t.payload});case Ln.SET_FETCH:return Object(be.a)(Object(be.a)({},e),{},{isFetch:t.payload});default:return e}},ProjectReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case An.SET_PROJECT:return Object(be.a)(Object(be.a)({},e),{},{projects:t.payload});case An.NEW_PROJECT:return e.projects.push(t.payload),Object(be.a)({},e);case An.UPDATE_PROJECT:var n=e.projects.findIndex((function(e){return e.Id===t.payload.id}));return-1!==n&&(e.projects[n]=t.payload.data),Object(be.a)({},e);case An.DELETE_PROJECT:var r=e.projects.findIndex((function(e){return e.Id===t.payload}));return-1!==r&&e.projects.splice(r,1),Object(be.a)({},e);case An.TOGGLE_MODAL:return Object(be.a)(Object(be.a)({},e),{},{addProjectModal:t.payload});case An.TOGGLE_CONFRIM_MODAL:return Object(be.a)(Object(be.a)({},e),{},{confrimModal:t.payload});case An.SET_PROJECT_SAVE_TYPE:return Object(be.a)(Object(be.a)({},e),{},{projectSaveType:t.payload});default:return e}},themeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ua.SET_NODE_THEME:return Object(be.a)(Object(be.a)({},e),{},{nodeTheme:t.payload});default:return e}},alertReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ha,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ur.SET_ERROR:return Object(be.a)(Object(be.a)({},e),{},{error:t.payload,isOpen:!0});case Ur.HIDE_ERROR:return Object(be.a)(Object(be.a)({},e),{},{error:"",isOpen:!1});default:return e}}}),$a=Object(Ja.d)(Xa,Object(Ja.a)(Ya.a));function Qa(e){var t=$a.getState().alertReducer.error;e&&e(t),""!==t&&(hr.b.error(t),$a.dispatch(aa("")))}function ei(){return Object(r.jsxs)(Zt.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(r.jsx)(Aa.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var ti=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),ni=function(){var e=ti(),t=Object(se.c)(),n=Object(a.useState)(""),i=Object(f.a)(n,2),o=i[0],c=i[1],u=Object(a.useState)(""),p=Object(f.a)(u,2),b=p[0],h=p[1],O=Object(a.useState)(""),g=Object(f.a)(O,2),m=g[0],v=g[1],x=Object(a.useState)(""),y=Object(f.a)(x,2),k=y[0],I=y[1],C=(Object(se.d)((function(e){return e.alertReducer.error})),Object(l.g)()),S=function(){var e=Object(j.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={userName:o,userLastname:b,userPassword:k,userEmail:m},t(Gn(!0)),e.next=4,t(oa(n));case 4:t(Gn(!1)),Qa((function(e){console.log(e),""===e&&C.push("/")}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(Jr.a,{component:"main",maxWidth:"xs",children:[Object(r.jsx)(Wr.a,{}),Object(r.jsxs)("div",{className:e.paper,children:[Object(r.jsx)(pe.a,{className:e.avatar,children:Object(r.jsx)(_a.a,{})}),Object(r.jsx)(Zt.a,{component:"h1",variant:"h5",children:"Sign Up"}),Object(r.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(r.jsx)(sn.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"User name",onChange:function(e){return c(e.target.value)},value:o}),Object(r.jsx)(sn.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"lastname",label:"User Lastname",name:"lastname",onChange:function(e){return h(e.target.value)},value:b}),Object(r.jsx)(sn.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",onChange:function(e){return v(e.target.value)},value:m}),Object(r.jsx)(sn.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){return I(e.target.value)},value:k}),Object(r.jsx)(La.a,{control:Object(r.jsx)(Ma.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(r.jsx)(U.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:S,children:"Sign Up"}),Object(r.jsxs)(P.a,{container:!0,children:[Object(r.jsx)(P.a,{item:!0,xs:!0,children:Object(r.jsx)(Aa.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(r.jsx)(P.a,{item:!0,children:Object(r.jsx)(s.b,{to:"/signup",children:Object(r.jsx)(Aa.a,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]})]}),Object(r.jsx)(fn.a,{mt:8,children:Object(r.jsx)(ei,{})})]})},ri=n(2145),ai=[{tablename:"user",fields:[{fieldName:"id",fieldType:"int"},{fieldName:"name",fieldType:"varchar"},{fieldName:"pass",fieldType:"varchar"}]},{tablename:"product",fields:[{fieldName:"id",fieldType:"int"},{fieldName:"name",fieldType:"varchar"},{fieldName:"price",fieldType:"varchar"}]},{tablename:"order",fields:[{fieldName:"id",fieldType:"int"},{fieldName:"user_id",fieldType:"int"},{fieldName:"date",fieldType:"date"}]},{tablename:"profile",fields:[{fieldName:"id",fieldType:"int"},{fieldName:"user_id",fieldType:"int"},{fieldName:"profile_name",fieldType:"name"}]}],ii=[{mainTable:"order",mainField:"user_id",targetTable:"user",targetField:"id",relationType:"1:N"},{mainTable:"profile",mainField:"user_id",targetTable:"user",targetField:"id",relationType:"1:1"}];function oi(){return Object(a.useEffect)((function(){(new Cr).generate(ai,ii)}),[]),Object(r.jsx)("div",{children:"Seed Gen"})}n(2137);var ci=function(){var e=Object(se.d)((function(e){return e.ShareReducer.isLoading}));return Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)(hr.a,{autoClose:2500}),Object(r.jsx)(ri.a,{open:e,children:Object(r.jsx)(de.a,{color:"inherit"})}),Object(r.jsxs)(s.a,{children:[Object(r.jsx)(l.b,{exact:!0,path:"/testseed",component:oi}),Object(r.jsx)(l.b,{exact:!0,path:"/signup",component:ni}),Object(r.jsx)(l.b,{exact:!0,path:"/login",component:Wa}),Object(r.jsx)(l.b,{exact:!0,path:"/",component:Fa,children:function(){console.log("check login from app");var e=Pe.a.get("ertoken");return""!==e&&void 0!==e}()?Object(r.jsx)(l.a,{to:"/document/filelist"}):Object(r.jsx)(l.a,{to:"/login"})}),Object(r.jsx)(l.b,{path:"/document",component:Fa}),Object(r.jsx)(l.b,{exact:!0,path:"/editor/:projectId",component:Gr}),Object(r.jsx)(l.b,{exact:!0,path:"/localeditor/:projectId",component:Gr}),Object(r.jsx)(l.b,{path:"/share/:projectId",component:Gr})]})]})};n(2138);c.a.render(Object(r.jsx)(se.a,{store:$a,children:Object(r.jsx)(ci,{})}),document.getElementById("root"))}},[[2139,1,2]]]);
//# sourceMappingURL=main.b1d51146.chunk.js.map